(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();var qd={exports:{}},Ka={};var q0;function RE(){if(q0)return Ka;q0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:c}}return Ka.Fragment=e,Ka.jsx=s,Ka.jsxs=s,Ka}var H0;function IE(){return H0||(H0=1,qd.exports=RE()),qd.exports}var b=IE(),Hd={exports:{}},he={};var G0;function DE(){if(G0)return he;G0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function S(w){return w===null||typeof w!="object"?null:(w=_&&w[_]||w["@@iterator"],typeof w=="function"?w:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,I={};function D(w,L,Z){this.props=w,this.context=L,this.refs=I,this.updater=Z||T}D.prototype.isReactComponent={},D.prototype.setState=function(w,L){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,L,"setState")},D.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function H(){}H.prototype=D.prototype;function q(w,L,Z){this.props=w,this.context=L,this.refs=I,this.updater=Z||T}var E=q.prototype=new H;E.constructor=q,N(E,D.prototype),E.isPureReactComponent=!0;var k=Array.isArray;function P(){}var G={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function $(w,L,Z){var ne=Z.ref;return{$$typeof:t,type:w,key:L,ref:ne!==void 0?ne:null,props:Z}}function ce(w,L){return $(w.type,L,w.props)}function ve(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function Se(w){var L={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Z){return L[Z]})}var Ke=/\/+/g;function Ne(w,L){return typeof w=="object"&&w!==null&&w.key!=null?Se(""+w.key):L.toString(36)}function je(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(P,P):(w.status="pending",w.then(function(L){w.status==="pending"&&(w.status="fulfilled",w.value=L)},function(L){w.status==="pending"&&(w.status="rejected",w.reason=L)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function V(w,L,Z,ne,J){var ie=typeof w;(ie==="undefined"||ie==="boolean")&&(w=null);var ge=!1;if(w===null)ge=!0;else switch(ie){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(w.$$typeof){case t:case e:ge=!0;break;case g:return ge=w._init,V(ge(w._payload),L,Z,ne,J)}}if(ge)return J=J(w),ge=ne===""?"."+Ne(w,0):ne,k(J)?(Z="",ge!=null&&(Z=ge.replace(Ke,"$&/")+"/"),V(J,L,Z,"",function(gi){return gi})):J!=null&&(ve(J)&&(J=ce(J,Z+(J.key==null||w&&w.key===J.key?"":(""+J.key).replace(Ke,"$&/")+"/")+ge)),L.push(J)),1;ge=0;var $e=ne===""?".":ne+":";if(k(w))for(var me=0;me<w.length;me++)ne=w[me],ie=$e+Ne(ne,me),ge+=V(ne,L,Z,ie,J);else if(me=S(w),typeof me=="function")for(w=me.call(w),me=0;!(ne=w.next()).done;)ne=ne.value,ie=$e+Ne(ne,me++),ge+=V(ne,L,Z,ie,J);else if(ie==="object"){if(typeof w.then=="function")return V(je(w),L,Z,ne,J);throw L=String(w),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Y(w,L,Z){if(w==null)return w;var ne=[],J=0;return V(w,ne,"","",function(ie){return L.call(Z,ie,J++)}),ne}function ee(w){if(w._status===-1){var L=w._result;L=L(),L.then(function(Z){(w._status===0||w._status===-1)&&(w._status=1,w._result=Z)},function(Z){(w._status===0||w._status===-1)&&(w._status=2,w._result=Z)}),w._status===-1&&(w._status=0,w._result=L)}if(w._status===1)return w._result.default;throw w._result}var X=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},W={map:Y,forEach:function(w,L,Z){Y(w,function(){L.apply(this,arguments)},Z)},count:function(w){var L=0;return Y(w,function(){L++}),L},toArray:function(w){return Y(w,function(L){return L})||[]},only:function(w){if(!ve(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return he.Activity=v,he.Children=W,he.Component=D,he.Fragment=s,he.Profiler=o,he.PureComponent=q,he.StrictMode=r,he.Suspense=m,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,he.__COMPILER_RUNTIME={__proto__:null,c:function(w){return G.H.useMemoCache(w)}},he.cache=function(w){return function(){return w.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(w,L,Z){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ne=N({},w.props),J=w.key;if(L!=null)for(ie in L.key!==void 0&&(J=""+L.key),L)!O.call(L,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&L.ref===void 0||(ne[ie]=L[ie]);var ie=arguments.length-2;if(ie===1)ne.children=Z;else if(1<ie){for(var ge=Array(ie),$e=0;$e<ie;$e++)ge[$e]=arguments[$e+2];ne.children=ge}return $(w.type,J,ne)},he.createContext=function(w){return w={$$typeof:u,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},he.createElement=function(w,L,Z){var ne,J={},ie=null;if(L!=null)for(ne in L.key!==void 0&&(ie=""+L.key),L)O.call(L,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(J[ne]=L[ne]);var ge=arguments.length-2;if(ge===1)J.children=Z;else if(1<ge){for(var $e=Array(ge),me=0;me<ge;me++)$e[me]=arguments[me+2];J.children=$e}if(w&&w.defaultProps)for(ne in ge=w.defaultProps,ge)J[ne]===void 0&&(J[ne]=ge[ne]);return $(w,ie,J)},he.createRef=function(){return{current:null}},he.forwardRef=function(w){return{$$typeof:h,render:w}},he.isValidElement=ve,he.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:ee}},he.memo=function(w,L){return{$$typeof:p,type:w,compare:L===void 0?null:L}},he.startTransition=function(w){var L=G.T,Z={};G.T=Z;try{var ne=w(),J=G.S;J!==null&&J(Z,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(P,X)}catch(ie){X(ie)}finally{L!==null&&Z.types!==null&&(L.types=Z.types),G.T=L}},he.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},he.use=function(w){return G.H.use(w)},he.useActionState=function(w,L,Z){return G.H.useActionState(w,L,Z)},he.useCallback=function(w,L){return G.H.useCallback(w,L)},he.useContext=function(w){return G.H.useContext(w)},he.useDebugValue=function(){},he.useDeferredValue=function(w,L){return G.H.useDeferredValue(w,L)},he.useEffect=function(w,L){return G.H.useEffect(w,L)},he.useEffectEvent=function(w){return G.H.useEffectEvent(w)},he.useId=function(){return G.H.useId()},he.useImperativeHandle=function(w,L,Z){return G.H.useImperativeHandle(w,L,Z)},he.useInsertionEffect=function(w,L){return G.H.useInsertionEffect(w,L)},he.useLayoutEffect=function(w,L){return G.H.useLayoutEffect(w,L)},he.useMemo=function(w,L){return G.H.useMemo(w,L)},he.useOptimistic=function(w,L){return G.H.useOptimistic(w,L)},he.useReducer=function(w,L,Z){return G.H.useReducer(w,L,Z)},he.useRef=function(w){return G.H.useRef(w)},he.useState=function(w){return G.H.useState(w)},he.useSyncExternalStore=function(w,L,Z){return G.H.useSyncExternalStore(w,L,Z)},he.useTransition=function(){return G.H.useTransition()},he.version="19.2.4",he}var W0;function wm(){return W0||(W0=1,Hd.exports=DE()),Hd.exports}var M=wm(),Gd={exports:{}},Xa={},Wd={exports:{}},Fd={};var F0;function OE(){return F0||(F0=1,(function(t){function e(V,Y){var ee=V.length;V.push(Y);e:for(;0<ee;){var X=ee-1>>>1,W=V[X];if(0<o(W,Y))V[X]=Y,V[ee]=W,ee=X;else break e}}function s(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],ee=V.pop();if(ee!==Y){V[0]=ee;e:for(var X=0,W=V.length,w=W>>>1;X<w;){var L=2*(X+1)-1,Z=V[L],ne=L+1,J=V[ne];if(0>o(Z,ee))ne<W&&0>o(J,Z)?(V[X]=J,V[ne]=ee,X=ne):(V[X]=Z,V[L]=ee,X=L);else if(ne<W&&0>o(J,ee))V[X]=J,V[ne]=ee,X=ne;else break e}}return Y}function o(V,Y){var ee=V.sortIndex-Y.sortIndex;return ee!==0?ee:V.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],p=[],g=1,v=null,_=3,S=!1,T=!1,N=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function E(V){for(var Y=s(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=V)r(p),Y.sortIndex=Y.expirationTime,e(m,Y);else break;Y=s(p)}}function k(V){if(N=!1,E(V),!T)if(s(m)!==null)T=!0,P||(P=!0,Se());else{var Y=s(p);Y!==null&&je(k,Y.startTime-V)}}var P=!1,G=-1,O=5,$=-1;function ce(){return I?!0:!(t.unstable_now()-$<O)}function ve(){if(I=!1,P){var V=t.unstable_now();$=V;var Y=!0;try{e:{T=!1,N&&(N=!1,H(G),G=-1),S=!0;var ee=_;try{t:{for(E(V),v=s(m);v!==null&&!(v.expirationTime>V&&ce());){var X=v.callback;if(typeof X=="function"){v.callback=null,_=v.priorityLevel;var W=X(v.expirationTime<=V);if(V=t.unstable_now(),typeof W=="function"){v.callback=W,E(V),Y=!0;break t}v===s(m)&&r(m),E(V)}else r(m);v=s(m)}if(v!==null)Y=!0;else{var w=s(p);w!==null&&je(k,w.startTime-V),Y=!1}}break e}finally{v=null,_=ee,S=!1}Y=void 0}}finally{Y?Se():P=!1}}}var Se;if(typeof q=="function")Se=function(){q(ve)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,Ne=Ke.port2;Ke.port1.onmessage=ve,Se=function(){Ne.postMessage(null)}}else Se=function(){D(ve,0)};function je(V,Y){G=D(function(){V(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(V){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var ee=_;_=Y;try{return V()}finally{_=ee}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=_;_=V;try{return Y()}finally{_=ee}},t.unstable_scheduleCallback=function(V,Y,ee){var X=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?X+ee:X):ee=X,V){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ee+W,V={id:g++,callback:Y,priorityLevel:V,startTime:ee,expirationTime:W,sortIndex:-1},ee>X?(V.sortIndex=ee,e(p,V),s(m)===null&&V===s(p)&&(N?(H(G),G=-1):N=!0,je(k,ee-X))):(V.sortIndex=W,e(m,V),T||S||(T=!0,P||(P=!0,Se()))),V},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(V){var Y=_;return function(){var ee=_;_=Y;try{return V.apply(this,arguments)}finally{_=ee}}}})(Fd)),Fd}var Y0;function kE(){return Y0||(Y0=1,Wd.exports=OE()),Wd.exports}var Yd={exports:{}},Dt={};var Q0;function LE(){if(Q0)return Dt;Q0=1;var t=wm();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dt.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(m,p,null,g)},Dt.flushSync=function(m){var p=u.T,g=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=g,r.d.f()}},Dt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Dt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Dt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:S}):g==="script"&&r.d.X(m,{crossOrigin:v,integrity:_,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Dt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Dt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Dt.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Dt.requestFormReset=function(m){r.d.r(m)},Dt.unstable_batchedUpdates=function(m,p){return m(p)},Dt.useFormState=function(m,p,g){return u.H.useFormState(m,p,g)},Dt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Dt.version="19.2.4",Dt}var K0;function BE(){if(K0)return Yd.exports;K0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yd.exports=LE(),Yd.exports}var X0;function jE(){if(X0)return Xa;X0=1;var t=kE(),e=wm(),s=BE();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(c(n)!==n)throw Error(r(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(r(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var y=!1,x=f.child;x;){if(x===a){y=!0,a=f,l=d;break}if(x===l){y=!0,l=f,a=d;break}x=x.sibling}if(!y){for(x=d.child;x;){if(x===a){y=!0,a=d,l=f;break}if(x===l){y=!0,l=d,a=f;break}x=x.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),q=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function Se(n){return n===null||typeof n!="object"?null:(n=ve&&n[ve]||n["@@iterator"],typeof n=="function"?n:null)}var Ke=Symbol.for("react.client.reference");function Ne(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ke?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case D:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case P:return"SuspenseList";case $:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case q:return n.displayName||"Context";case H:return(n._context.displayName||"Context")+".Consumer";case E:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return i=n.displayName||null,i!==null?i:Ne(n.type)||"Memo";case O:i=n._payload,n=n._init;try{return Ne(n(i))}catch{}}return null}var je=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},X=[],W=-1;function w(n){return{current:n}}function L(n){0>W||(n.current=X[W],X[W]=null,W--)}function Z(n,i){W++,X[W]=n.current,n.current=i}var ne=w(null),J=w(null),ie=w(null),ge=w(null);function $e(n,i){switch(Z(ie,i),Z(J,n),Z(ne,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?f0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=f0(i),n=d0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}L(ne),Z(ne,n)}function me(){L(ne),L(J),L(ie)}function gi(n){n.memoizedState!==null&&Z(ge,n);var i=ne.current,a=d0(i,n.type);i!==a&&(Z(J,n),Z(ne,a))}function Hn(n){J.current===n&&(L(ne),L(J)),ge.current===n&&(L(ge),Wa._currentValue=ee)}var yi,Us;function on(n){if(yi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);yi=i&&i[1]||"",Us=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yi+n+Us}var Tu=!1;function Cu(n,i){if(!n||Tu)return"";Tu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(U){var z=U}Reflect.construct(n,[],K)}else{try{K.call()}catch(U){z=U}n.call(K.prototype)}}else{try{throw Error()}catch(U){z=U}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(U){if(U&&z&&typeof U.stack=="string")return[U.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],x=d[1];if(y&&x){var C=y.split(`
`),j=x.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===j.length)for(l=C.length-1,f=j.length-1;1<=l&&0<=f&&C[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==j[f]){var F=`
`+C[l].replace(" at new "," at ");return n.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",n.displayName)),F}while(1<=l&&0<=f);break}}}finally{Tu=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?on(a):""}function oT(n,i){switch(n.tag){case 26:case 27:case 5:return on(n.type);case 16:return on("Lazy");case 13:return n.child!==i&&i!==null?on("Suspense Fallback"):on("Suspense");case 19:return on("SuspenseList");case 0:case 15:return Cu(n.type,!1);case 11:return Cu(n.type.render,!1);case 1:return Cu(n.type,!0);case 31:return on("Activity");default:return""}}function qp(n){try{var i="",a=null;do i+=oT(n,a),a=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Eu=Object.prototype.hasOwnProperty,Au=t.unstable_scheduleCallback,Mu=t.unstable_cancelCallback,lT=t.unstable_shouldYield,cT=t.unstable_requestPaint,Kt=t.unstable_now,uT=t.unstable_getCurrentPriorityLevel,Hp=t.unstable_ImmediatePriority,Gp=t.unstable_UserBlockingPriority,Qo=t.unstable_NormalPriority,fT=t.unstable_LowPriority,Wp=t.unstable_IdlePriority,dT=t.log,hT=t.unstable_setDisableYieldValue,ia=null,Xt=null;function vi(n){if(typeof dT=="function"&&hT(n),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ia,n)}catch{}}var Zt=Math.clz32?Math.clz32:gT,mT=Math.log,pT=Math.LN2;function gT(n){return n>>>=0,n===0?32:31-(mT(n)/pT|0)|0}var Ko=256,Xo=262144,Zo=4194304;function as(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Jo(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?f=as(l):(y&=x,y!==0?f=as(y):a||(a=x&~n,a!==0&&(f=as(a))))):(x=l&~d,x!==0?f=as(x):y!==0?f=as(y):a||(a=l&~n,a!==0&&(f=as(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function sa(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function yT(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fp(){var n=Zo;return Zo<<=1,(Zo&62914560)===0&&(Zo=4194304),n}function Nu(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ra(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function vT(n,i,a,l,f,d){var y=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var x=n.entanglements,C=n.expirationTimes,j=n.hiddenUpdates;for(a=y&~a;0<a;){var F=31-Zt(a),K=1<<F;x[F]=0,C[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var U=z[F];U!==null&&(U.lane&=-536870913)}a&=~K}l!==0&&Yp(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(y&~i))}function Yp(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Zt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function Qp(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Zt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function Kp(n,i){var a=i&-i;return a=(a&42)!==0?1:Ru(a),(a&(n.suspendedLanes|i))!==0?0:a}function Ru(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Iu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xp(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:L0(n.type))}function Zp(n,i){var a=Y.p;try{return Y.p=n,i()}finally{Y.p=a}}var _i=Math.random().toString(36).slice(2),wt="__reactFiber$"+_i,Ut="__reactProps$"+_i,qs="__reactContainer$"+_i,Du="__reactEvents$"+_i,_T="__reactListeners$"+_i,bT="__reactHandles$"+_i,Jp="__reactResources$"+_i,aa="__reactMarker$"+_i;function Ou(n){delete n[wt],delete n[Ut],delete n[Du],delete n[_T],delete n[bT]}function Hs(n){var i=n[wt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[qs]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=_0(n);n!==null;){if(a=n[wt])return a;n=_0(n)}return i}n=a,a=n.parentNode}return null}function Gs(n){if(n=n[wt]||n[qs]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function oa(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function Ws(n){var i=n[Jp];return i||(i=n[Jp]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _t(n){n[aa]=!0}var $p=new Set,eg={};function os(n,i){Fs(n,i),Fs(n+"Capture",i)}function Fs(n,i){for(eg[n]=i,n=0;n<i.length;n++)$p.add(i[n])}var xT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tg={},ng={};function ST(n){return Eu.call(ng,n)?!0:Eu.call(tg,n)?!1:xT.test(n)?ng[n]=!0:(tg[n]=!0,!1)}function $o(n,i,a){if(ST(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function el(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Gn(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function ln(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ig(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wT(n,i,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ku(n){if(!n._valueTracker){var i=ig(n)?"checked":"value";n._valueTracker=wT(n,i,""+n[i])}}function sg(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=ig(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function tl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var TT=/[\n"\\]/g;function cn(n){return n.replace(TT,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Lu(n,i,a,l,f,d,y,x){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),i!=null?y==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+ln(i)):n.value!==""+ln(i)&&(n.value=""+ln(i)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),i!=null?Bu(n,y,ln(i)):a!=null?Bu(n,y,ln(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+ln(x):n.removeAttribute("name")}function rg(n,i,a,l,f,d,y,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ku(n);return}a=a!=null?""+ln(a):"",i=i!=null?""+ln(i):a,x||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=x?n.checked:!!l,n.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),ku(n)}function Bu(n,i,a){i==="number"&&tl(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ys(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+ln(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function ag(n,i,a){if(i!=null&&(i=""+ln(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+ln(a):""}function og(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(je(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ln(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),ku(n)}function Qs(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var CT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lg(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||CT.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function cg(n,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&lg(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&lg(n,d,i[d])}function ju(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ET=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),AT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nl(n){return AT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Wn(){}var zu=null;function Pu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ks=null,Xs=null;function ug(n){var i=Gs(n);if(i&&(n=i.stateNode)){var a=n[Ut]||null;e:switch(n=i.stateNode,i.type){case"input":if(Lu(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Ut]||null;if(!f)throw Error(r(90));Lu(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&sg(l)}break e;case"textarea":ag(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ys(n,!!a.multiple,i,!1)}}}var Vu=!1;function fg(n,i,a){if(Vu)return n(i,a);Vu=!0;try{var l=n(i);return l}finally{if(Vu=!1,(Ks!==null||Xs!==null)&&(Hl(),Ks&&(i=Ks,n=Xs,Xs=Ks=null,ug(i),n)))for(i=0;i<n.length;i++)ug(n[i])}}function la(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uu=!1;if(Fn)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{Uu=!1}var bi=null,qu=null,il=null;function dg(){if(il)return il;var n,i=qu,a=i.length,l,f="value"in bi?bi.value:bi.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var y=a-n;for(l=1;l<=y&&i[a-l]===f[d-l];l++);return il=f.slice(n,1<l?1-l:void 0)}function sl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function rl(){return!0}function hg(){return!1}function qt(n){function i(a,l,f,d,y){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(a=n[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rl:hg,this.isPropagationStopped=hg,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),i}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=qt(ls),ua=v({},ls,{view:0,detail:0}),MT=qt(ua),Hu,Gu,fa,ol=v({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fa&&(fa&&n.type==="mousemove"?(Hu=n.screenX-fa.screenX,Gu=n.screenY-fa.screenY):Gu=Hu=0,fa=n),Hu)},movementY:function(n){return"movementY"in n?n.movementY:Gu}}),mg=qt(ol),NT=v({},ol,{dataTransfer:0}),RT=qt(NT),IT=v({},ua,{relatedTarget:0}),Wu=qt(IT),DT=v({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),OT=qt(DT),kT=v({},ls,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),LT=qt(kT),BT=v({},ls,{data:0}),pg=qt(BT),jT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VT(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=PT[n])?!!i[n]:!1}function Fu(){return VT}var UT=v({},ua,{key:function(n){if(n.key){var i=jT[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=sl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fu,charCode:function(n){return n.type==="keypress"?sl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qT=qt(UT),HT=v({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gg=qt(HT),GT=v({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fu}),WT=qt(GT),FT=v({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),YT=qt(FT),QT=v({},ol,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),KT=qt(QT),XT=v({},ls,{newState:0,oldState:0}),ZT=qt(XT),JT=[9,13,27,32],Yu=Fn&&"CompositionEvent"in window,da=null;Fn&&"documentMode"in document&&(da=document.documentMode);var $T=Fn&&"TextEvent"in window&&!da,yg=Fn&&(!Yu||da&&8<da&&11>=da),vg=" ",_g=!1;function bg(n,i){switch(n){case"keyup":return JT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Zs=!1;function eC(n,i){switch(n){case"compositionend":return xg(i);case"keypress":return i.which!==32?null:(_g=!0,vg);case"textInput":return n=i.data,n===vg&&_g?null:n;default:return null}}function tC(n,i){if(Zs)return n==="compositionend"||!Yu&&bg(n,i)?(n=dg(),il=qu=bi=null,Zs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yg&&i.locale!=="ko"?null:i.data;default:return null}}var nC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!nC[n.type]:i==="textarea"}function wg(n,i,a,l){Ks?Xs?Xs.push(l):Xs=[l]:Ks=l,i=Xl(i,"onChange"),0<i.length&&(a=new al("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var ha=null,ma=null;function iC(n){r0(n,0)}function ll(n){var i=oa(n);if(sg(i))return n}function Tg(n,i){if(n==="change")return i}var Cg=!1;if(Fn){var Qu;if(Fn){var Ku="oninput"in document;if(!Ku){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Ku=typeof Eg.oninput=="function"}Qu=Ku}else Qu=!1;Cg=Qu&&(!document.documentMode||9<document.documentMode)}function Ag(){ha&&(ha.detachEvent("onpropertychange",Mg),ma=ha=null)}function Mg(n){if(n.propertyName==="value"&&ll(ma)){var i=[];wg(i,ma,n,Pu(n)),fg(iC,i)}}function sC(n,i,a){n==="focusin"?(Ag(),ha=i,ma=a,ha.attachEvent("onpropertychange",Mg)):n==="focusout"&&Ag()}function rC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ll(ma)}function aC(n,i){if(n==="click")return ll(i)}function oC(n,i){if(n==="input"||n==="change")return ll(i)}function lC(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Jt=typeof Object.is=="function"?Object.is:lC;function pa(n,i){if(Jt(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Eu.call(i,f)||!Jt(n[f],i[f]))return!1}return!0}function Ng(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Rg(n,i){var a=Ng(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ng(a)}}function Ig(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ig(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Dg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=tl(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=tl(n.document)}return i}function Xu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var cC=Fn&&"documentMode"in document&&11>=document.documentMode,Js=null,Zu=null,ga=null,Ju=!1;function Og(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ju||Js==null||Js!==tl(l)||(l=Js,"selectionStart"in l&&Xu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ga&&pa(ga,l)||(ga=l,l=Xl(Zu,"onSelect"),0<l.length&&(i=new al("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Js)))}function cs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var $s={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},$u={},kg={};Fn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function us(n){if($u[n])return $u[n];if(!$s[n])return n;var i=$s[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in kg)return $u[n]=i[a];return n}var Lg=us("animationend"),Bg=us("animationiteration"),jg=us("animationstart"),uC=us("transitionrun"),fC=us("transitionstart"),dC=us("transitioncancel"),zg=us("transitionend"),Pg=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function Sn(n,i){Pg.set(n,i),os(i,[n])}var cl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},un=[],er=0,tf=0;function ul(){for(var n=er,i=tf=er=0;i<n;){var a=un[i];un[i++]=null;var l=un[i];un[i++]=null;var f=un[i];un[i++]=null;var d=un[i];if(un[i++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&Vg(a,f,d)}}function fl(n,i,a,l){un[er++]=n,un[er++]=i,un[er++]=a,un[er++]=l,tf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function nf(n,i,a,l){return fl(n,i,a,l),dl(n)}function fs(n,i){return fl(n,null,null,i),dl(n)}function Vg(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-Zt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function dl(n){if(50<za)throw za=0,dd=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var tr={};function hC(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(n,i,a,l){return new hC(n,i,a,l)}function sf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yn(n,i){var a=n.alternate;return a===null?(a=$t(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ug(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function hl(n,i,a,l,f,d){var y=0;if(l=n,typeof n=="function")sf(n)&&(y=1);else if(typeof n=="string")y=vE(n,a,ne.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case $:return n=$t(31,a,i,f),n.elementType=$,n.lanes=d,n;case N:return ds(a.children,f,d,i);case I:y=8,f|=24;break;case D:return n=$t(12,a,i,f|2),n.elementType=D,n.lanes=d,n;case k:return n=$t(13,a,i,f),n.elementType=k,n.lanes=d,n;case P:return n=$t(19,a,i,f),n.elementType=P,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:y=10;break e;case H:y=9;break e;case E:y=11;break e;case G:y=14;break e;case O:y=16,l=null;break e}y=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return i=$t(y,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function ds(n,i,a,l){return n=$t(7,n,l,i),n.lanes=a,n}function rf(n,i,a){return n=$t(6,n,null,i),n.lanes=a,n}function qg(n){var i=$t(18,null,null,0);return i.stateNode=n,i}function af(n,i,a){return i=$t(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Hg=new WeakMap;function fn(n,i){if(typeof n=="object"&&n!==null){var a=Hg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:qp(i)},Hg.set(n,i),i)}return{value:n,source:i,stack:qp(i)}}var nr=[],ir=0,ml=null,ya=0,dn=[],hn=0,xi=null,Ln=1,Bn="";function Qn(n,i){nr[ir++]=ya,nr[ir++]=ml,ml=n,ya=i}function Gg(n,i,a){dn[hn++]=Ln,dn[hn++]=Bn,dn[hn++]=xi,xi=n;var l=Ln;n=Bn;var f=32-Zt(l)-1;l&=~(1<<f),a+=1;var d=32-Zt(i)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,Ln=1<<32-Zt(i)+f|a<<f|l,Bn=d+n}else Ln=1<<d|a<<f|l,Bn=n}function of(n){n.return!==null&&(Qn(n,1),Gg(n,1,0))}function lf(n){for(;n===ml;)ml=nr[--ir],nr[ir]=null,ya=nr[--ir],nr[ir]=null;for(;n===xi;)xi=dn[--hn],dn[hn]=null,Bn=dn[--hn],dn[hn]=null,Ln=dn[--hn],dn[hn]=null}function Wg(n,i){dn[hn++]=Ln,dn[hn++]=Bn,dn[hn++]=xi,Ln=i.id,Bn=i.overflow,xi=n}var Tt=null,Xe=null,Re=!1,Si=null,mn=!1,cf=Error(r(519));function wi(n){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw va(fn(i,n)),cf}function Fg(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[wt]=n,i[Ut]=l,a){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(a=0;a<Va.length;a++)Te(Va[a],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),rg(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),og(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||c0(i.textContent,a)?(l.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),l.onScroll!=null&&Te("scroll",i),l.onScrollEnd!=null&&Te("scrollend",i),l.onClick!=null&&(i.onclick=Wn),i=!0):i=!1,i||wi(n,!0)}function Yg(n){for(Tt=n.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:mn=!1;return;case 27:case 3:mn=!0;return;default:Tt=Tt.return}}function sr(n){if(n!==Tt)return!1;if(!Re)return Yg(n),Re=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Ad(n.type,n.memoizedProps)),a=!a),a&&Xe&&wi(n),Yg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Xe=v0(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Xe=v0(n)}else i===27?(i=Xe,ji(n.type)?(n=Dd,Dd=null,Xe=n):Xe=i):Xe=Tt?gn(n.stateNode.nextSibling):null;return!0}function hs(){Xe=Tt=null,Re=!1}function uf(){var n=Si;return n!==null&&(Ft===null?Ft=n:Ft.push.apply(Ft,n),Si=null),n}function va(n){Si===null?Si=[n]:Si.push(n)}var ff=w(null),ms=null,Kn=null;function Ti(n,i,a){Z(ff,i._currentValue),i._currentValue=a}function Xn(n){n._currentValue=ff.current,L(ff)}function df(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function hf(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=f;for(var C=0;C<i.length;C++)if(x.context===i[C]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),df(d.return,a,n),l||(y=null);break e}d=x.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),df(y,a,n),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function rr(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var x=f.type;Jt(f.pendingProps.value,y.value)||(n!==null?n.push(x):n=[x])}}else if(f===ge.current){if(y=f.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Wa):n=[Wa])}f=f.return}n!==null&&hf(i,n,a,l),i.flags|=262144}function pl(n){for(n=n.firstContext;n!==null;){if(!Jt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ps(n){ms=n,Kn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ct(n){return Qg(ms,n)}function gl(n,i){return ms===null&&ps(n),Qg(n,i)}function Qg(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Kn===null){if(n===null)throw Error(r(308));Kn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Kn=Kn.next=i;return a}var mC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},pC=t.unstable_scheduleCallback,gC=t.unstable_NormalPriority,ct={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new mC,data:new Map,refCount:0}}function _a(n){n.refCount--,n.refCount===0&&pC(gC,function(){n.controller.abort()})}var ba=null,pf=0,ar=0,or=null;function yC(n,i){if(ba===null){var a=ba=[];pf=0,ar=vd(),or={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pf++,i.then(Kg,Kg),i}function Kg(){if(--pf===0&&ba!==null){or!==null&&(or.status="fulfilled");var n=ba;ba=null,ar=0,or=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function vC(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Xg=V.S;V.S=function(n,i){Ov=Kt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&yC(n,i),Xg!==null&&Xg(n,i)};var gs=w(null);function gf(){var n=gs.current;return n!==null?n:Ge.pooledCache}function yl(n,i){i===null?Z(gs,gs.current):Z(gs,i.pool)}function Zg(){var n=gf();return n===null?null:{parent:ct._currentValue,pool:n}}var lr=Error(r(460)),yf=Error(r(474)),vl=Error(r(542)),_l={then:function(){}};function Jg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function $g(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Wn,Wn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ty(n),n;default:if(typeof i.status=="string")i.then(Wn,Wn);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ty(n),n}throw vs=i,lr}}function ys(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(vs=a,lr):a}}var vs=null;function ey(){if(vs===null)throw Error(r(459));var n=vs;return vs=null,n}function ty(n){if(n===lr||n===vl)throw Error(r(483))}var cr=null,xa=0;function bl(n){var i=xa;return xa+=1,cr===null&&(cr=[]),$g(cr,n,i)}function Sa(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function xl(n,i){throw i.$$typeof===_?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function ny(n){function i(R,A){if(n){var B=R.deletions;B===null?(R.deletions=[A],R.flags|=16):B.push(A)}}function a(R,A){if(!n)return null;for(;A!==null;)i(R,A),A=A.sibling;return null}function l(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function f(R,A){return R=Yn(R,A),R.index=0,R.sibling=null,R}function d(R,A,B){return R.index=B,n?(B=R.alternate,B!==null?(B=B.index,B<A?(R.flags|=67108866,A):B):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function y(R){return n&&R.alternate===null&&(R.flags|=67108866),R}function x(R,A,B,Q){return A===null||A.tag!==6?(A=rf(B,R.mode,Q),A.return=R,A):(A=f(A,B),A.return=R,A)}function C(R,A,B,Q){var ue=B.type;return ue===N?F(R,A,B.props.children,Q,B.key):A!==null&&(A.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===O&&ys(ue)===A.type)?(A=f(A,B.props),Sa(A,B),A.return=R,A):(A=hl(B.type,B.key,B.props,null,R.mode,Q),Sa(A,B),A.return=R,A)}function j(R,A,B,Q){return A===null||A.tag!==4||A.stateNode.containerInfo!==B.containerInfo||A.stateNode.implementation!==B.implementation?(A=af(B,R.mode,Q),A.return=R,A):(A=f(A,B.children||[]),A.return=R,A)}function F(R,A,B,Q,ue){return A===null||A.tag!==7?(A=ds(B,R.mode,Q,ue),A.return=R,A):(A=f(A,B),A.return=R,A)}function K(R,A,B){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=rf(""+A,R.mode,B),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return B=hl(A.type,A.key,A.props,null,R.mode,B),Sa(B,A),B.return=R,B;case T:return A=af(A,R.mode,B),A.return=R,A;case O:return A=ys(A),K(R,A,B)}if(je(A)||Se(A))return A=ds(A,R.mode,B,null),A.return=R,A;if(typeof A.then=="function")return K(R,bl(A),B);if(A.$$typeof===q)return K(R,gl(R,A),B);xl(R,A)}return null}function z(R,A,B,Q){var ue=A!==null?A.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ue!==null?null:x(R,A,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===ue?C(R,A,B,Q):null;case T:return B.key===ue?j(R,A,B,Q):null;case O:return B=ys(B),z(R,A,B,Q)}if(je(B)||Se(B))return ue!==null?null:F(R,A,B,Q,null);if(typeof B.then=="function")return z(R,A,bl(B),Q);if(B.$$typeof===q)return z(R,A,gl(R,B),Q);xl(R,B)}return null}function U(R,A,B,Q,ue){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return R=R.get(B)||null,x(A,R,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return R=R.get(Q.key===null?B:Q.key)||null,C(A,R,Q,ue);case T:return R=R.get(Q.key===null?B:Q.key)||null,j(A,R,Q,ue);case O:return Q=ys(Q),U(R,A,B,Q,ue)}if(je(Q)||Se(Q))return R=R.get(B)||null,F(A,R,Q,ue,null);if(typeof Q.then=="function")return U(R,A,B,bl(Q),ue);if(Q.$$typeof===q)return U(R,A,B,gl(A,Q),ue);xl(A,Q)}return null}function se(R,A,B,Q){for(var ue=null,Ie=null,le=A,ye=A=0,Me=null;le!==null&&ye<B.length;ye++){le.index>ye?(Me=le,le=null):Me=le.sibling;var De=z(R,le,B[ye],Q);if(De===null){le===null&&(le=Me);break}n&&le&&De.alternate===null&&i(R,le),A=d(De,A,ye),Ie===null?ue=De:Ie.sibling=De,Ie=De,le=Me}if(ye===B.length)return a(R,le),Re&&Qn(R,ye),ue;if(le===null){for(;ye<B.length;ye++)le=K(R,B[ye],Q),le!==null&&(A=d(le,A,ye),Ie===null?ue=le:Ie.sibling=le,Ie=le);return Re&&Qn(R,ye),ue}for(le=l(le);ye<B.length;ye++)Me=U(le,R,ye,B[ye],Q),Me!==null&&(n&&Me.alternate!==null&&le.delete(Me.key===null?ye:Me.key),A=d(Me,A,ye),Ie===null?ue=Me:Ie.sibling=Me,Ie=Me);return n&&le.forEach(function(qi){return i(R,qi)}),Re&&Qn(R,ye),ue}function fe(R,A,B,Q){if(B==null)throw Error(r(151));for(var ue=null,Ie=null,le=A,ye=A=0,Me=null,De=B.next();le!==null&&!De.done;ye++,De=B.next()){le.index>ye?(Me=le,le=null):Me=le.sibling;var qi=z(R,le,De.value,Q);if(qi===null){le===null&&(le=Me);break}n&&le&&qi.alternate===null&&i(R,le),A=d(qi,A,ye),Ie===null?ue=qi:Ie.sibling=qi,Ie=qi,le=Me}if(De.done)return a(R,le),Re&&Qn(R,ye),ue;if(le===null){for(;!De.done;ye++,De=B.next())De=K(R,De.value,Q),De!==null&&(A=d(De,A,ye),Ie===null?ue=De:Ie.sibling=De,Ie=De);return Re&&Qn(R,ye),ue}for(le=l(le);!De.done;ye++,De=B.next())De=U(le,R,ye,De.value,Q),De!==null&&(n&&De.alternate!==null&&le.delete(De.key===null?ye:De.key),A=d(De,A,ye),Ie===null?ue=De:Ie.sibling=De,Ie=De);return n&&le.forEach(function(NE){return i(R,NE)}),Re&&Qn(R,ye),ue}function qe(R,A,B,Q){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var ue=B.key;A!==null;){if(A.key===ue){if(ue=B.type,ue===N){if(A.tag===7){a(R,A.sibling),Q=f(A,B.props.children),Q.return=R,R=Q;break e}}else if(A.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===O&&ys(ue)===A.type){a(R,A.sibling),Q=f(A,B.props),Sa(Q,B),Q.return=R,R=Q;break e}a(R,A);break}else i(R,A);A=A.sibling}B.type===N?(Q=ds(B.props.children,R.mode,Q,B.key),Q.return=R,R=Q):(Q=hl(B.type,B.key,B.props,null,R.mode,Q),Sa(Q,B),Q.return=R,R=Q)}return y(R);case T:e:{for(ue=B.key;A!==null;){if(A.key===ue)if(A.tag===4&&A.stateNode.containerInfo===B.containerInfo&&A.stateNode.implementation===B.implementation){a(R,A.sibling),Q=f(A,B.children||[]),Q.return=R,R=Q;break e}else{a(R,A);break}else i(R,A);A=A.sibling}Q=af(B,R.mode,Q),Q.return=R,R=Q}return y(R);case O:return B=ys(B),qe(R,A,B,Q)}if(je(B))return se(R,A,B,Q);if(Se(B)){if(ue=Se(B),typeof ue!="function")throw Error(r(150));return B=ue.call(B),fe(R,A,B,Q)}if(typeof B.then=="function")return qe(R,A,bl(B),Q);if(B.$$typeof===q)return qe(R,A,gl(R,B),Q);xl(R,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,A!==null&&A.tag===6?(a(R,A.sibling),Q=f(A,B),Q.return=R,R=Q):(a(R,A),Q=rf(B,R.mode,Q),Q.return=R,R=Q),y(R)):a(R,A)}return function(R,A,B,Q){try{xa=0;var ue=qe(R,A,B,Q);return cr=null,ue}catch(le){if(le===lr||le===vl)throw le;var Ie=$t(29,le,null,R.mode);return Ie.lanes=Q,Ie.return=R,Ie}}}var _s=ny(!0),iy=ny(!1),Ci=!1;function vf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ei(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ai(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=dl(n),Vg(n,null,a),i}return fl(n,l,i,a),dl(n)}function wa(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Qp(n,a)}}function bf(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var xf=!1;function Ta(){if(xf){var n=or;if(n!==null)throw n}}function Ca(n,i,a,l){xf=!1;var f=n.updateQueue;Ci=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var C=x,j=C.next;C.next=null,y===null?d=j:y.next=j,y=C;var F=n.alternate;F!==null&&(F=F.updateQueue,x=F.lastBaseUpdate,x!==y&&(x===null?F.firstBaseUpdate=j:x.next=j,F.lastBaseUpdate=C))}if(d!==null){var K=f.baseState;y=0,F=j=C=null,x=d;do{var z=x.lane&-536870913,U=z!==x.lane;if(U?(Ae&z)===z:(l&z)===z){z!==0&&z===ar&&(xf=!0),F!==null&&(F=F.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var se=n,fe=x;z=i;var qe=a;switch(fe.tag){case 1:if(se=fe.payload,typeof se=="function"){K=se.call(qe,K,z);break e}K=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=fe.payload,z=typeof se=="function"?se.call(qe,K,z):se,z==null)break e;K=v({},K,z);break e;case 2:Ci=!0}}z=x.callback,z!==null&&(n.flags|=64,U&&(n.flags|=8192),U=f.callbacks,U===null?f.callbacks=[z]:U.push(z))}else U={lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},F===null?(j=F=U,C=K):F=F.next=U,y|=z;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;U=x,x=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);F===null&&(C=K),f.baseState=C,f.firstBaseUpdate=j,f.lastBaseUpdate=F,d===null&&(f.shared.lanes=0),Di|=y,n.lanes=y,n.memoizedState=K}}function sy(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function ry(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)sy(a[n],i)}var ur=w(null),Sl=w(0);function ay(n,i){n=ri,Z(Sl,n),Z(ur,i),ri=n|i.baseLanes}function Sf(){Z(Sl,ri),Z(ur,ur.current)}function wf(){ri=Sl.current,L(ur),L(Sl)}var en=w(null),pn=null;function Mi(n){var i=n.alternate;Z(ot,ot.current&1),Z(en,n),pn===null&&(i===null||ur.current!==null||i.memoizedState!==null)&&(pn=n)}function Tf(n){Z(ot,ot.current),Z(en,n),pn===null&&(pn=n)}function oy(n){n.tag===22?(Z(ot,ot.current),Z(en,n),pn===null&&(pn=n)):Ni()}function Ni(){Z(ot,ot.current),Z(en,en.current)}function tn(n){L(en),pn===n&&(pn=null),L(ot)}var ot=w(0);function wl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Id(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zn=0,pe=null,Ve=null,ut=null,Tl=!1,fr=!1,bs=!1,Cl=0,Ea=0,dr=null,_C=0;function tt(){throw Error(r(321))}function Cf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Jt(n[a],i[a]))return!1;return!0}function Ef(n,i,a,l,f,d){return Zn=d,pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=n===null||n.memoizedState===null?Gy:Uf,bs=!1,d=a(l,f),bs=!1,fr&&(d=cy(i,a,l,f)),ly(n),d}function ly(n){V.H=Na;var i=Ve!==null&&Ve.next!==null;if(Zn=0,ut=Ve=pe=null,Tl=!1,Ea=0,dr=null,i)throw Error(r(300));n===null||ft||(n=n.dependencies,n!==null&&pl(n)&&(ft=!0))}function cy(n,i,a,l){pe=n;var f=0;do{if(fr&&(dr=null),Ea=0,fr=!1,25<=f)throw Error(r(301));if(f+=1,ut=Ve=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}V.H=Wy,d=i(a,l)}while(fr);return d}function bC(){var n=V.H,i=n.useState()[0];return i=typeof i.then=="function"?Aa(i):i,n=n.useState()[0],(Ve!==null?Ve.memoizedState:null)!==n&&(pe.flags|=1024),i}function Af(){var n=Cl!==0;return Cl=0,n}function Mf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Nf(n){if(Tl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Tl=!1}Zn=0,ut=Ve=pe=null,fr=!1,Ea=Cl=0,dr=null}function Lt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?pe.memoizedState=ut=n:ut=ut.next=n,ut}function lt(){if(Ve===null){var n=pe.alternate;n=n!==null?n.memoizedState:null}else n=Ve.next;var i=ut===null?pe.memoizedState:ut.next;if(i!==null)ut=i,Ve=n;else{if(n===null)throw pe.alternate===null?Error(r(467)):Error(r(310));Ve=n,n={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},ut===null?pe.memoizedState=ut=n:ut=ut.next=n}return ut}function El(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Aa(n){var i=Ea;return Ea+=1,dr===null&&(dr=[]),n=$g(dr,n,i),i=pe,(ut===null?i.memoizedState:ut.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?Gy:Uf),n}function Al(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Aa(n);if(n.$$typeof===q)return Ct(n)}throw Error(r(438,String(n)))}function Rf(n){var i=null,a=pe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=El(),pe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=ce;return i.index++,a}function Jn(n,i){return typeof i=="function"?i(n):i}function Ml(n){var i=lt();return If(i,Ve,n)}function If(n,i,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var x=y=null,C=null,j=i,F=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(Ae&K)===K:(Zn&K)===K){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===ar&&(F=!0);else if((Zn&z)===z){j=j.next,z===ar&&(F=!0);continue}else K={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(x=C=K,y=d):C=C.next=K,pe.lanes|=z,Di|=z;K=j.action,bs&&a(d,K),d=j.hasEagerState?j.eagerState:a(d,K)}else z={lane:K,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(x=C=z,y=d):C=C.next=z,pe.lanes|=K,Di|=K;j=j.next}while(j!==null&&j!==i);if(C===null?y=d:C.next=x,!Jt(d,n.memoizedState)&&(ft=!0,F&&(a=or,a!==null)))throw a;n.memoizedState=d,n.baseState=y,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Df(n){var i=lt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do d=n(d,y.action),y=y.next;while(y!==f);Jt(d,i.memoizedState)||(ft=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function uy(n,i,a){var l=pe,f=lt(),d=Re;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!Jt((Ve||f).memoizedState,a);if(y&&(f.memoizedState=a,ft=!0),f=f.queue,Lf(hy.bind(null,l,f,n),[n]),f.getSnapshot!==i||y||ut!==null&&ut.memoizedState.tag&1){if(l.flags|=2048,hr(9,{destroy:void 0},dy.bind(null,l,f,a,i),null),Ge===null)throw Error(r(349));d||(Zn&127)!==0||fy(l,i,a)}return a}function fy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=pe.updateQueue,i===null?(i=El(),pe.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function dy(n,i,a,l){i.value=a,i.getSnapshot=l,my(i)&&py(n)}function hy(n,i,a){return a(function(){my(i)&&py(n)})}function my(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Jt(n,a)}catch{return!0}}function py(n){var i=fs(n,2);i!==null&&Yt(i,n,2)}function Of(n){var i=Lt();if(typeof n=="function"){var a=n;if(n=a(),bs){vi(!0);try{a()}finally{vi(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:n},i}function gy(n,i,a,l){return n.baseState=a,If(n,Ve,typeof l=="function"?l:Jn)}function xC(n,i,a,l,f){if(Il(n))throw Error(r(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};V.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,yy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function yy(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=V.T,y={};V.T=y;try{var x=a(f,l),C=V.S;C!==null&&C(y,x),vy(n,i,x)}catch(j){kf(n,i,j)}finally{d!==null&&y.types!==null&&(d.types=y.types),V.T=d}}else try{d=a(f,l),vy(n,i,d)}catch(j){kf(n,i,j)}}function vy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(n,i,l)},function(l){return kf(n,i,l)}):_y(n,i,a)}function _y(n,i,a){i.status="fulfilled",i.value=a,by(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,yy(n,a)))}function kf(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,by(i),i=i.next;while(i!==l)}n.action=null}function by(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function xy(n,i){return i}function Sy(n,i){if(Re){var a=Ge.formState;if(a!==null){e:{var l=pe;if(Re){if(Xe){t:{for(var f=Xe,d=mn;f.nodeType!==8;){if(!d){f=null;break t}if(f=gn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Xe=gn(f.nextSibling),l=f.data==="F!";break e}}wi(l)}l=!1}l&&(i=a[0])}}return a=Lt(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:i},a.queue=l,a=Uy.bind(null,pe,l),l.dispatch=a,l=Of(!1),d=Vf.bind(null,pe,!1,l.queue),l=Lt(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=xC.bind(null,pe,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function wy(n){var i=lt();return Ty(i,Ve,n)}function Ty(n,i,a){if(i=If(n,i,xy)[0],n=Ml(Jn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Aa(i)}catch(y){throw y===lr?vl:y}else l=i;i=lt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(pe.flags|=2048,hr(9,{destroy:void 0},SC.bind(null,f,a),null)),[l,d,n]}function SC(n,i){n.action=i}function Cy(n){var i=lt(),a=Ve;if(a!==null)return Ty(i,a,n);lt(),i=i.memoizedState,a=lt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function hr(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=pe.updateQueue,i===null&&(i=El(),pe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Ey(){return lt().memoizedState}function Nl(n,i,a,l){var f=Lt();pe.flags|=n,f.memoizedState=hr(1|i,{destroy:void 0},a,l===void 0?null:l)}function Rl(n,i,a,l){var f=lt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ve!==null&&l!==null&&Cf(l,Ve.memoizedState.deps)?f.memoizedState=hr(i,d,a,l):(pe.flags|=n,f.memoizedState=hr(1|i,d,a,l))}function Ay(n,i){Nl(8390656,8,n,i)}function Lf(n,i){Rl(2048,8,n,i)}function wC(n){pe.flags|=4;var i=pe.updateQueue;if(i===null)i=El(),pe.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function My(n){var i=lt().memoizedState;return wC({ref:i,nextImpl:n}),function(){if((ke&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Ny(n,i){return Rl(4,2,n,i)}function Ry(n,i){return Rl(4,4,n,i)}function Iy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Dy(n,i,a){a=a!=null?a.concat([n]):null,Rl(4,4,Iy.bind(null,i,n),a)}function Bf(){}function Oy(n,i){var a=lt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Cf(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function ky(n,i){var a=lt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Cf(i,l[1]))return l[0];if(l=n(),bs){vi(!0);try{n()}finally{vi(!1)}}return a.memoizedState=[l,i],l}function jf(n,i,a){return a===void 0||(Zn&1073741824)!==0&&(Ae&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=Lv(),pe.lanes|=n,Di|=n,a)}function Ly(n,i,a,l){return Jt(a,i)?a:ur.current!==null?(n=jf(n,a,l),Jt(n,i)||(ft=!0),n):(Zn&42)===0||(Zn&1073741824)!==0&&(Ae&261930)===0?(ft=!0,n.memoizedState=a):(n=Lv(),pe.lanes|=n,Di|=n,i)}function By(n,i,a,l,f){var d=Y.p;Y.p=d!==0&&8>d?d:8;var y=V.T,x={};V.T=x,Vf(n,!1,i,a);try{var C=f(),j=V.S;if(j!==null&&j(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=vC(C,l);Ma(n,i,F,rn(n))}else Ma(n,i,l,rn(n))}catch(K){Ma(n,i,{then:function(){},status:"rejected",reason:K},rn())}finally{Y.p=d,y!==null&&x.types!==null&&(y.types=x.types),V.T=y}}function TC(){}function zf(n,i,a,l){if(n.tag!==5)throw Error(r(476));var f=jy(n).queue;By(n,f,i,ee,a===null?TC:function(){return zy(n),a(l)})}function jy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:ee},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function zy(n){var i=jy(n);i.next===null&&(i=n.alternate.memoizedState),Ma(n,i.next.queue,{},rn())}function Pf(){return Ct(Wa)}function Py(){return lt().memoizedState}function Vy(){return lt().memoizedState}function CC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=rn();n=Ei(a);var l=Ai(i,n,a);l!==null&&(Yt(l,i,a),wa(l,i,a)),i={cache:mf()},n.payload=i;return}i=i.return}}function EC(n,i,a){var l=rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Il(n)?qy(i,a):(a=nf(n,i,a,l),a!==null&&(Yt(a,n,l),Hy(a,i,l)))}function Uy(n,i,a){var l=rn();Ma(n,i,a,l)}function Ma(n,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Il(n))qy(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,x=d(y,a);if(f.hasEagerState=!0,f.eagerState=x,Jt(x,y))return fl(n,i,f,0),Ge===null&&ul(),!1}catch{}if(a=nf(n,i,f,l),a!==null)return Yt(a,n,l),Hy(a,i,l),!0}return!1}function Vf(n,i,a,l){if(l={lane:2,revertLane:vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Il(n)){if(i)throw Error(r(479))}else i=nf(n,a,l,2),i!==null&&Yt(i,n,2)}function Il(n){var i=n.alternate;return n===pe||i!==null&&i===pe}function qy(n,i){fr=Tl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Hy(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Qp(n,a)}}var Na={readContext:Ct,use:Al,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};Na.useEffectEvent=tt;var Gy={readContext:Ct,use:Al,useCallback:function(n,i){return Lt().memoizedState=[n,i===void 0?null:i],n},useContext:Ct,useEffect:Ay,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Nl(4194308,4,Iy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Nl(4194308,4,n,i)},useInsertionEffect:function(n,i){Nl(4,2,n,i)},useMemo:function(n,i){var a=Lt();i=i===void 0?null:i;var l=n();if(bs){vi(!0);try{n()}finally{vi(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=Lt();if(a!==void 0){var f=a(i);if(bs){vi(!0);try{a(i)}finally{vi(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=EC.bind(null,pe,n),[l.memoizedState,n]},useRef:function(n){var i=Lt();return n={current:n},i.memoizedState=n},useState:function(n){n=Of(n);var i=n.queue,a=Uy.bind(null,pe,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(n,i){var a=Lt();return jf(a,n,i)},useTransition:function(){var n=Of(!1);return n=By.bind(null,pe,n.queue,!0,!1),Lt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=pe,f=Lt();if(Re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Ge===null)throw Error(r(349));(Ae&127)!==0||fy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Ay(hy.bind(null,l,d,n),[n]),l.flags|=2048,hr(9,{destroy:void 0},dy.bind(null,l,d,a,i),null),a},useId:function(){var n=Lt(),i=Ge.identifierPrefix;if(Re){var a=Bn,l=Ln;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Cl++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=_C++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Pf,useFormState:Sy,useActionState:Sy,useOptimistic:function(n){var i=Lt();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Vf.bind(null,pe,!0,a),a.dispatch=i,[n,i]},useMemoCache:Rf,useCacheRefresh:function(){return Lt().memoizedState=CC.bind(null,pe)},useEffectEvent:function(n){var i=Lt(),a={impl:n};return i.memoizedState=a,function(){if((ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Uf={readContext:Ct,use:Al,useCallback:Oy,useContext:Ct,useEffect:Lf,useImperativeHandle:Dy,useInsertionEffect:Ny,useLayoutEffect:Ry,useMemo:ky,useReducer:Ml,useRef:Ey,useState:function(){return Ml(Jn)},useDebugValue:Bf,useDeferredValue:function(n,i){var a=lt();return Ly(a,Ve.memoizedState,n,i)},useTransition:function(){var n=Ml(Jn)[0],i=lt().memoizedState;return[typeof n=="boolean"?n:Aa(n),i]},useSyncExternalStore:uy,useId:Py,useHostTransitionStatus:Pf,useFormState:wy,useActionState:wy,useOptimistic:function(n,i){var a=lt();return gy(a,Ve,n,i)},useMemoCache:Rf,useCacheRefresh:Vy};Uf.useEffectEvent=My;var Wy={readContext:Ct,use:Al,useCallback:Oy,useContext:Ct,useEffect:Lf,useImperativeHandle:Dy,useInsertionEffect:Ny,useLayoutEffect:Ry,useMemo:ky,useReducer:Df,useRef:Ey,useState:function(){return Df(Jn)},useDebugValue:Bf,useDeferredValue:function(n,i){var a=lt();return Ve===null?jf(a,n,i):Ly(a,Ve.memoizedState,n,i)},useTransition:function(){var n=Df(Jn)[0],i=lt().memoizedState;return[typeof n=="boolean"?n:Aa(n),i]},useSyncExternalStore:uy,useId:Py,useHostTransitionStatus:Pf,useFormState:Cy,useActionState:Cy,useOptimistic:function(n,i){var a=lt();return Ve!==null?gy(a,Ve,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Vy};Wy.useEffectEvent=My;function qf(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Hf={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=rn(),f=Ei(l);f.payload=i,a!=null&&(f.callback=a),i=Ai(n,f,l),i!==null&&(Yt(i,n,l),wa(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=rn(),f=Ei(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ai(n,f,l),i!==null&&(Yt(i,n,l),wa(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=rn(),l=Ei(a);l.tag=2,i!=null&&(l.callback=i),i=Ai(n,l,a),i!==null&&(Yt(i,n,a),wa(i,n,a))}};function Fy(n,i,a,l,f,d,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!pa(a,l)||!pa(f,d):!0}function Yy(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Hf.enqueueReplaceState(i,i.state,null)}function xs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function Qy(n){cl(n)}function Ky(n){console.error(n)}function Xy(n){cl(n)}function Dl(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gf(n,i,a){return a=Ei(a),a.tag=3,a.payload={element:null},a.callback=function(){Dl(n,i)},a}function Jy(n){return n=Ei(n),n.tag=3,n}function $y(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Zy(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){Zy(i,a,l),typeof f!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function AC(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&rr(i,a,f,!0),a=en.current,a!==null){switch(a.tag){case 31:case 13:return pn===null?Gl():a.alternate===null&&nt===0&&(nt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===_l?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),pd(n,l,f)),!1;case 22:return a.flags|=65536,l===_l?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),pd(n,l,f)),!1}throw Error(r(435,a.tag))}return pd(n,l,f),Gl(),!1}if(Re)return i=en.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==cf&&(n=Error(r(422),{cause:l}),va(fn(n,a)))):(l!==cf&&(i=Error(r(423),{cause:l}),va(fn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=fn(l,a),f=Gf(n.stateNode,l,f),bf(n,f),nt!==4&&(nt=2)),!1;var d=Error(r(520),{cause:l});if(d=fn(d,a),ja===null?ja=[d]:ja.push(d),nt!==4&&(nt=2),i===null)return!0;l=fn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Gf(a.stateNode,l,n),bf(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Oi===null||!Oi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Jy(f),$y(f,n,a,l),bf(a,f),!1}a=a.return}while(a!==null);return!1}var Wf=Error(r(461)),ft=!1;function Et(n,i,a,l){i.child=n===null?iy(i,null,a,l):_s(i,n.child,a,l)}function ev(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var y={};for(var x in l)x!=="ref"&&(y[x]=l[x])}else y=l;return ps(i),l=Ef(n,i,a,y,d,f),x=Af(),n!==null&&!ft?(Mf(n,i,f),$n(n,i,f)):(Re&&x&&of(i),i.flags|=1,Et(n,i,l,f),i.child)}function tv(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!sf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,nv(n,i,d,l,f)):(n=hl(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!$f(n,f)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:pa,a(y,l)&&n.ref===i.ref)return $n(n,i,f)}return i.flags|=1,n=Yn(d,l),n.ref=i.ref,n.return=i,i.child=n}function nv(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(pa(d,l)&&n.ref===i.ref)if(ft=!1,i.pendingProps=l=d,$f(n,f))(n.flags&131072)!==0&&(ft=!0);else return i.lanes=n.lanes,$n(n,i,f)}return Ff(n,i,a,l,f)}function iv(n,i,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=i.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return sv(n,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&yl(i,d!==null?d.cachePool:null),d!==null?ay(i,d):Sf(),oy(i);else return l=i.lanes=536870912,sv(n,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(yl(i,d.cachePool),ay(i,d),Ni(),i.memoizedState=null):(n!==null&&yl(i,null),Sf(),Ni());return Et(n,i,f,a),i.child}function Ra(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function sv(n,i,a,l,f){var d=gf();return d=d===null?null:{parent:ct._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&yl(i,null),Sf(),oy(i),n!==null&&rr(n,i,l,!0),i.childLanes=f,null}function Ol(n,i){return i=Ll({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function rv(n,i,a){return _s(i,n.child,null,a),n=Ol(i,i.pendingProps),n.flags|=2,tn(i),i.memoizedState=null,n}function MC(n,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Re){if(l.mode==="hidden")return n=Ol(i,l),i.lanes=536870912,Ra(null,n);if(Tf(i),(n=Xe)?(n=y0(n,mn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:xi!==null?{id:Ln,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},a=qg(n),a.return=i,i.child=a,Tt=i,Xe=null)):n=null,n===null)throw wi(i);return i.lanes=536870912,null}return Ol(i,l)}var d=n.memoizedState;if(d!==null){var y=d.dehydrated;if(Tf(i),f)if(i.flags&256)i.flags&=-257,i=rv(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(r(558));else if(ft||rr(n,i,a,!1),f=(a&n.childLanes)!==0,ft||f){if(l=Ge,l!==null&&(y=Kp(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,fs(n,y),Yt(l,n,y),Wf;Gl(),i=rv(n,i,a)}else n=d.treeContext,Xe=gn(y.nextSibling),Tt=i,Re=!0,Si=null,mn=!1,n!==null&&Wg(i,n),i=Ol(i,l),i.flags|=4096;return i}return n=Yn(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function kl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Ff(n,i,a,l,f){return ps(i),a=Ef(n,i,a,l,void 0,f),l=Af(),n!==null&&!ft?(Mf(n,i,f),$n(n,i,f)):(Re&&l&&of(i),i.flags|=1,Et(n,i,a,f),i.child)}function av(n,i,a,l,f,d){return ps(i),i.updateQueue=null,a=cy(i,l,a,f),ly(n),l=Af(),n!==null&&!ft?(Mf(n,i,d),$n(n,i,d)):(Re&&l&&of(i),i.flags|=1,Et(n,i,a,d),i.child)}function ov(n,i,a,l,f){if(ps(i),i.stateNode===null){var d=tr,y=a.contextType;typeof y=="object"&&y!==null&&(d=Ct(y)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},vf(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?Ct(y):tr,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(qf(i,a,y,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Hf.enqueueReplaceState(d,d.state,null),Ca(i,l,d,f),Ta(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var x=i.memoizedProps,C=xs(a,x);d.props=C;var j=d.context,F=a.contextType;y=tr,typeof F=="object"&&F!==null&&(y=Ct(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||j!==y)&&Yy(i,d,l,y),Ci=!1;var z=i.memoizedState;d.state=z,Ca(i,l,d,f),Ta(),j=i.memoizedState,x||z!==j||Ci?(typeof K=="function"&&(qf(i,a,K,l),j=i.memoizedState),(C=Ci||Fy(i,a,C,l,z,j,y))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=y,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,_f(n,i),y=i.memoizedProps,F=xs(a,y),d.props=F,K=i.pendingProps,z=d.context,j=a.contextType,C=tr,typeof j=="object"&&j!==null&&(C=Ct(j)),x=a.getDerivedStateFromProps,(j=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==K||z!==C)&&Yy(i,d,l,C),Ci=!1,z=i.memoizedState,d.state=z,Ca(i,l,d,f),Ta();var U=i.memoizedState;y!==K||z!==U||Ci||n!==null&&n.dependencies!==null&&pl(n.dependencies)?(typeof x=="function"&&(qf(i,a,x,l),U=i.memoizedState),(F=Ci||Fy(i,a,F,l,z,U,C)||n!==null&&n.dependencies!==null&&pl(n.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,U,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,U,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&z===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&z===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=C,l=F):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&z===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&z===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,kl(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=_s(i,n.child,null,f),i.child=_s(i,null,a,f)):Et(n,i,a,f),i.memoizedState=d.state,n=i.child):n=$n(n,i,f),n}function lv(n,i,a,l){return hs(),i.flags|=256,Et(n,i,a,l),i.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(n){return{baseLanes:n,cachePool:Zg()}}function Kf(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=sn),n}function cv(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=n!==null&&n.memoizedState===null?!1:(ot.current&2)!==0),y&&(f=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,n===null){if(Re){if(f?Mi(i):Ni(),(n=Xe)?(n=y0(n,mn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:xi!==null?{id:Ln,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},a=qg(n),a.return=i,i.child=a,Tt=i,Xe=null)):n=null,n===null)throw wi(i);return Id(n)?i.lanes=32:i.lanes=536870912,null}var x=l.children;return l=l.fallback,f?(Ni(),f=i.mode,x=Ll({mode:"hidden",children:x},f),l=ds(l,f,a,null),x.return=i,l.return=i,x.sibling=l,i.child=x,l=i.child,l.memoizedState=Qf(a),l.childLanes=Kf(n,y,a),i.memoizedState=Yf,Ra(null,l)):(Mi(i),Xf(i,x))}var C=n.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(d)i.flags&256?(Mi(i),i.flags&=-257,i=Zf(n,i,a)):i.memoizedState!==null?(Ni(),i.child=n.child,i.flags|=128,i=null):(Ni(),x=l.fallback,f=i.mode,l=Ll({mode:"visible",children:l.children},f),x=ds(x,f,a,null),x.flags|=2,l.return=i,x.return=i,l.sibling=x,i.child=l,_s(i,n.child,null,a),l=i.child,l.memoizedState=Qf(a),l.childLanes=Kf(n,y,a),i.memoizedState=Yf,i=Ra(null,l));else if(Mi(i),Id(x)){if(y=x.nextSibling&&x.nextSibling.dataset,y)var j=y.dgst;y=j,l=Error(r(419)),l.stack="",l.digest=y,va({value:l,source:null,stack:null}),i=Zf(n,i,a)}else if(ft||rr(n,i,a,!1),y=(a&n.childLanes)!==0,ft||y){if(y=Ge,y!==null&&(l=Kp(y,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,fs(n,l),Yt(y,n,l),Wf;Rd(x)||Gl(),i=Zf(n,i,a)}else Rd(x)?(i.flags|=192,i.child=n.child,i=null):(n=C.treeContext,Xe=gn(x.nextSibling),Tt=i,Re=!0,Si=null,mn=!1,n!==null&&Wg(i,n),i=Xf(i,l.children),i.flags|=4096);return i}return f?(Ni(),x=l.fallback,f=i.mode,C=n.child,j=C.sibling,l=Yn(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?x=Yn(j,x):(x=ds(x,f,a,null),x.flags|=2),x.return=i,l.return=i,l.sibling=x,i.child=l,Ra(null,l),l=i.child,x=n.child.memoizedState,x===null?x=Qf(a):(f=x.cachePool,f!==null?(C=ct._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Zg(),x={baseLanes:x.baseLanes|a,cachePool:f}),l.memoizedState=x,l.childLanes=Kf(n,y,a),i.memoizedState=Yf,Ra(n.child,l)):(Mi(i),a=n.child,n=a.sibling,a=Yn(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(y=i.deletions,y===null?(i.deletions=[n],i.flags|=16):y.push(n)),i.child=a,i.memoizedState=null,a)}function Xf(n,i){return i=Ll({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Ll(n,i){return n=$t(22,n,null,i),n.lanes=0,n}function Zf(n,i,a){return _s(i,n.child,null,a),n=Xf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function uv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),df(n.return,i,a)}function Jf(n,i,a,l,f,d){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f,y.treeForkCount=d)}function fv(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=ot.current,x=(y&2)!==0;if(x?(y=y&1|2,i.flags|=128):y&=1,Z(ot,y),Et(n,i,l,a),l=Re?ya:0,!x&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&uv(n,a,i);else if(n.tag===19)uv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&wl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Jf(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&wl(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Jf(i,!0,a,null,d,l);break;case"together":Jf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function $n(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Di|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(rr(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,a=Yn(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Yn(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function $f(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&pl(n)))}function NC(n,i,a){switch(i.tag){case 3:$e(i,i.stateNode.containerInfo),Ti(i,ct,n.memoizedState.cache),hs();break;case 27:case 5:gi(i);break;case 4:$e(i,i.stateNode.containerInfo);break;case 10:Ti(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Mi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?cv(n,i,a):(Mi(i),n=$n(n,i,a),n!==null?n.sibling:null);Mi(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(rr(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return fv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(ot,ot.current),l)break;return null;case 22:return i.lanes=0,iv(n,i,a,i.pendingProps);case 24:Ti(i,ct,n.memoizedState.cache)}return $n(n,i,a)}function dv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)ft=!0;else{if(!$f(n,a)&&(i.flags&128)===0)return ft=!1,NC(n,i,a);ft=(n.flags&131072)!==0}else ft=!1,Re&&(i.flags&1048576)!==0&&Gg(i,ya,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(n=ys(i.elementType),i.type=n,typeof n=="function")sf(n)?(l=xs(n,l),i.tag=1,i=ov(null,i,n,l,a)):(i.tag=0,i=Ff(null,i,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===E){i.tag=11,i=ev(null,i,n,l,a);break e}else if(f===G){i.tag=14,i=tv(null,i,n,l,a);break e}}throw i=Ne(n)||n,Error(r(306,i,""))}}return i;case 0:return Ff(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=xs(l,i.pendingProps),ov(n,i,l,f,a);case 3:e:{if($e(i,i.stateNode.containerInfo),n===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,_f(n,i),Ca(i,l,null,a);var y=i.memoizedState;if(l=y.cache,Ti(i,ct,l),l!==d.cache&&hf(i,[ct],a,!0),Ta(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=lv(n,i,l,a);break e}else if(l!==f){f=fn(Error(r(424)),i),va(f),i=lv(n,i,l,a);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Xe=gn(n.firstChild),Tt=i,Re=!0,Si=null,mn=!0,a=iy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hs(),l===f){i=$n(n,i,a);break e}Et(n,i,l,a)}i=i.child}return i;case 26:return kl(n,i),n===null?(a=w0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Re||(a=i.type,n=i.pendingProps,l=Zl(ie.current).createElement(a),l[wt]=i,l[Ut]=n,At(l,a,n),_t(l),i.stateNode=l):i.memoizedState=w0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return gi(i),n===null&&Re&&(l=i.stateNode=b0(i.type,i.pendingProps,ie.current),Tt=i,mn=!0,f=Xe,ji(i.type)?(Dd=f,Xe=gn(l.firstChild)):Xe=f),Et(n,i,i.pendingProps.children,a),kl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Re&&((f=l=Xe)&&(l=rE(l,i.type,i.pendingProps,mn),l!==null?(i.stateNode=l,Tt=i,Xe=gn(l.firstChild),mn=!1,f=!0):f=!1),f||wi(i)),gi(i),f=i.type,d=i.pendingProps,y=n!==null?n.memoizedProps:null,l=d.children,Ad(f,d)?l=null:y!==null&&Ad(f,y)&&(i.flags|=32),i.memoizedState!==null&&(f=Ef(n,i,bC,null,null,a),Wa._currentValue=f),kl(n,i),Et(n,i,l,a),i.child;case 6:return n===null&&Re&&((n=a=Xe)&&(a=aE(a,i.pendingProps,mn),a!==null?(i.stateNode=a,Tt=i,Xe=null,n=!0):n=!1),n||wi(i)),null;case 13:return cv(n,i,a);case 4:return $e(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=_s(i,null,l,a):Et(n,i,l,a),i.child;case 11:return ev(n,i,i.type,i.pendingProps,a);case 7:return Et(n,i,i.pendingProps,a),i.child;case 8:return Et(n,i,i.pendingProps.children,a),i.child;case 12:return Et(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ti(i,i.type,l.value),Et(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ps(i),f=Ct(f),l=l(f),i.flags|=1,Et(n,i,l,a),i.child;case 14:return tv(n,i,i.type,i.pendingProps,a);case 15:return nv(n,i,i.type,i.pendingProps,a);case 19:return fv(n,i,a);case 31:return MC(n,i,a);case 22:return iv(n,i,a,i.pendingProps);case 24:return ps(i),l=Ct(ct),n===null?(f=gf(),f===null&&(f=Ge,d=mf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},vf(i),Ti(i,ct,f)):((n.lanes&a)!==0&&(_f(n,i),Ca(i,null,null,a),Ta()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ti(i,ct,l)):(l=d.cache,Ti(i,ct,l),l!==f.cache&&hf(i,[ct],a,!0))),Et(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ei(n){n.flags|=4}function ed(n,i,a,l,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Pv())n.flags|=8192;else throw vs=_l,yf}else n.flags&=-16777217}function hv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!M0(i))if(Pv())n.flags|=8192;else throw vs=_l,yf}function Bl(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Fp():536870912,n.lanes|=i,yr|=i)}function Ia(n,i){if(!Re)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ze(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function RC(n,i,a){var l=i.pendingProps;switch(lf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(i),null;case 1:return Ze(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xn(ct),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(sr(i)?ei(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uf())),Ze(i),null;case 26:var f=i.type,d=i.memoizedState;return n===null?(ei(i),d!==null?(Ze(i),hv(i,d)):(Ze(i),ed(i,f,null,l,a))):d?d!==n.memoizedState?(ei(i),Ze(i),hv(i,d)):(Ze(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&ei(i),Ze(i),ed(i,f,n,l,a)),null;case 27:if(Hn(i),a=ie.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Ze(i),null}n=ne.current,sr(i)?Fg(i):(n=b0(f,l,a),i.stateNode=n,ei(i))}return Ze(i),null;case 5:if(Hn(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ei(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Ze(i),null}if(d=ne.current,sr(i))Fg(i);else{var y=Zl(ie.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[wt]=i,d[Ut]=l;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;e:switch(At(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ei(i)}}return Ze(i),ed(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&ei(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(n=ie.current,sr(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=Tt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[wt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||c0(n.nodeValue,a)),n||wi(i,!0)}else n=Zl(n).createTextNode(l),n[wt]=i,i.stateNode=n}return Ze(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(l=sr(i),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[wt]=i}else hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),n=!1}else a=uf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(tn(i),i):(tn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Ze(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=sr(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[wt]=i}else hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ze(i),f=!1}else f=uf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(tn(i),i):(tn(i),null)}return tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),Bl(i,i.updateQueue),Ze(i),null);case 4:return me(),n===null&&Sd(i.stateNode.containerInfo),Ze(i),null;case 10:return Xn(i.type),Ze(i),null;case 19:if(L(ot),l=i.memoizedState,l===null)return Ze(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Ia(l,!1);else{if(nt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=wl(n),d!==null){for(i.flags|=128,Ia(l,!1),n=d.updateQueue,i.updateQueue=n,Bl(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Ug(a,n),a=a.sibling;return Z(ot,ot.current&1|2),Re&&Qn(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&Kt()>Ul&&(i.flags|=128,f=!0,Ia(l,!1),i.lanes=4194304)}else{if(!f)if(n=wl(d),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Bl(i,n),Ia(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Re)return Ze(i),null}else 2*Kt()-l.renderingStartTime>Ul&&a!==536870912&&(i.flags|=128,f=!0,Ia(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(n=l.last,n!==null?n.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Kt(),n.sibling=null,a=ot.current,Z(ot,f?a&1|2:a&1),Re&&Qn(i,l.treeForkCount),n):(Ze(i),null);case 22:case 23:return tn(i),wf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Ze(i),i.subtreeFlags&6&&(i.flags|=8192)):Ze(i),a=i.updateQueue,a!==null&&Bl(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&L(gs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xn(ct),Ze(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function IC(n,i){switch(lf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Xn(ct),me(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Hn(i),null;case 31:if(i.memoizedState!==null){if(tn(i),i.alternate===null)throw Error(r(340));hs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(tn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));hs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return L(ot),null;case 4:return me(),null;case 10:return Xn(i.type),null;case 22:case 23:return tn(i),wf(),n!==null&&L(gs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Xn(ct),null;case 25:return null;default:return null}}function mv(n,i){switch(lf(i),i.tag){case 3:Xn(ct),me();break;case 26:case 27:case 5:Hn(i);break;case 4:me();break;case 31:i.memoizedState!==null&&tn(i);break;case 13:tn(i);break;case 19:L(ot);break;case 10:Xn(i.type);break;case 22:case 23:tn(i),wf(),n!==null&&L(gs);break;case 24:Xn(ct)}}function Da(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==f)}}catch(x){Pe(i,i.return,x)}}function Ri(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var y=l.inst,x=y.destroy;if(x!==void 0){y.destroy=void 0,f=i;var C=a,j=x;try{j()}catch(F){Pe(f,C,F)}}}l=l.next}while(l!==d)}}catch(F){Pe(i,i.return,F)}}function pv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{ry(i,a)}catch(l){Pe(n,n.return,l)}}}function gv(n,i,a){a.props=xs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Pe(n,i,l)}}function Oa(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Pe(n,i,f)}}function jn(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Pe(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Pe(n,i,f)}else a.current=null}function yv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Pe(n,n.return,f)}}function td(n,i,a){try{var l=n.stateNode;$C(l,n.type,a,i),l[Ut]=i}catch(f){Pe(n,n.return,f)}}function vv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ji(n.type)||n.tag===4}function nd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ji(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function id(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wn));else if(l!==4&&(l===27&&ji(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(id(n,i,a),n=n.sibling;n!==null;)id(n,i,a),n=n.sibling}function jl(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&ji(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(jl(n,i,a),n=n.sibling;n!==null;)jl(n,i,a),n=n.sibling}function _v(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);At(i,l,a),i[wt]=n,i[Ut]=a}catch(d){Pe(n,n.return,d)}}var ti=!1,dt=!1,sd=!1,bv=typeof WeakSet=="function"?WeakSet:Set,bt=null;function DC(n,i){if(n=n.containerInfo,Cd=sc,n=Dg(n),Xu(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,x=-1,C=-1,j=0,F=0,K=n,z=null;t:for(;;){for(var U;K!==a||f!==0&&K.nodeType!==3||(x=y+f),K!==d||l!==0&&K.nodeType!==3||(C=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(U=K.firstChild)!==null;)z=K,K=U;for(;;){if(K===n)break t;if(z===a&&++j===f&&(x=y),z===d&&++F===l&&(C=y),(U=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=U}a=x===-1||C===-1?null:{start:x,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:n,selectionRange:a},sc=!1,bt=i;bt!==null;)if(i=bt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,bt=n;else for(;bt!==null;){switch(i=bt,d=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var se=xs(a.type,f);n=l.getSnapshotBeforeUpdate(se,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(fe){Pe(a,a.return,fe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Nd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Nd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,bt=n;break}bt=i.return}}function xv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ii(n,a),l&4&&Da(5,a);break;case 1:if(ii(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(y){Pe(a,a.return,y)}else{var f=xs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(y){Pe(a,a.return,y)}}l&64&&pv(a),l&512&&Oa(a,a.return);break;case 3:if(ii(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ry(n,i)}catch(y){Pe(a,a.return,y)}}break;case 27:i===null&&l&4&&_v(a);case 26:case 5:ii(n,a),i===null&&l&4&&yv(a),l&512&&Oa(a,a.return);break;case 12:ii(n,a);break;case 31:ii(n,a),l&4&&Tv(n,a);break;case 13:ii(n,a),l&4&&Cv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=UC.bind(null,a),oE(n,a))));break;case 22:if(l=a.memoizedState!==null||ti,!l){i=i!==null&&i.memoizedState!==null||dt,f=ti;var d=dt;ti=l,(dt=i)&&!d?si(n,a,(a.subtreeFlags&8772)!==0):ii(n,a),ti=f,dt=d}break;case 30:break;default:ii(n,a)}}function Sv(n){var i=n.alternate;i!==null&&(n.alternate=null,Sv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ou(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Je=null,Ht=!1;function ni(n,i,a){for(a=a.child;a!==null;)wv(n,i,a),a=a.sibling}function wv(n,i,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ia,a)}catch{}switch(a.tag){case 26:dt||jn(a,i),ni(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||jn(a,i);var l=Je,f=Ht;ji(a.type)&&(Je=a.stateNode,Ht=!1),ni(n,i,a),qa(a.stateNode),Je=l,Ht=f;break;case 5:dt||jn(a,i);case 6:if(l=Je,f=Ht,Je=null,ni(n,i,a),Je=l,Ht=f,Je!==null)if(Ht)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(d){Pe(a,i,d)}else try{Je.removeChild(a.stateNode)}catch(d){Pe(a,i,d)}break;case 18:Je!==null&&(Ht?(n=Je,p0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Cr(n)):p0(Je,a.stateNode));break;case 4:l=Je,f=Ht,Je=a.stateNode.containerInfo,Ht=!0,ni(n,i,a),Je=l,Ht=f;break;case 0:case 11:case 14:case 15:Ri(2,a,i),dt||Ri(4,a,i),ni(n,i,a);break;case 1:dt||(jn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gv(a,i,l)),ni(n,i,a);break;case 21:ni(n,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,ni(n,i,a),dt=l;break;default:ni(n,i,a)}}function Tv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Cr(n)}catch(a){Pe(i,i.return,a)}}}function Cv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Cr(n)}catch(a){Pe(i,i.return,a)}}function OC(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new bv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new bv),i;default:throw Error(r(435,n.tag))}}function zl(n,i){var a=OC(n);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=qC.bind(null,n,l);l.then(f,f)}})}function Gt(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,y=i,x=y;e:for(;x!==null;){switch(x.tag){case 27:if(ji(x.type)){Je=x.stateNode,Ht=!1;break e}break;case 5:Je=x.stateNode,Ht=!1;break e;case 3:case 4:Je=x.stateNode.containerInfo,Ht=!0;break e}x=x.return}if(Je===null)throw Error(r(160));wv(d,y,f),Je=null,Ht=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ev(i,n),i=i.sibling}var wn=null;function Ev(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gt(i,n),Wt(n),l&4&&(Ri(3,n,n.return),Da(3,n),Ri(5,n,n.return));break;case 1:Gt(i,n),Wt(n),l&512&&(dt||a===null||jn(a,a.return)),l&64&&ti&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=wn;if(Gt(i,n),Wt(n),l&512&&(dt||a===null||jn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[aa]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),At(d,l,a),d[wt]=n,_t(d),l=d;break e;case"link":var y=E0("link","href",f).get(l+(a.href||""));if(y){for(var x=0;x<y.length;x++)if(d=y[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(x,1);break t}}d=f.createElement(l),At(d,l,a),f.head.appendChild(d);break;case"meta":if(y=E0("meta","content",f).get(l+(a.content||""))){for(x=0;x<y.length;x++)if(d=y[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(x,1);break t}}d=f.createElement(l),At(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[wt]=n,_t(d),l=d}n.stateNode=l}else A0(f,n.type,n.stateNode);else n.stateNode=C0(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?A0(f,n.type,n.stateNode):C0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&td(n,n.memoizedProps,a.memoizedProps)}break;case 27:Gt(i,n),Wt(n),l&512&&(dt||a===null||jn(a,a.return)),a!==null&&l&4&&td(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Gt(i,n),Wt(n),l&512&&(dt||a===null||jn(a,a.return)),n.flags&32){f=n.stateNode;try{Qs(f,"")}catch(se){Pe(n,n.return,se)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,td(n,f,a!==null?a.memoizedProps:f)),l&1024&&(sd=!0);break;case 6:if(Gt(i,n),Wt(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(se){Pe(n,n.return,se)}}break;case 3:if(ec=null,f=wn,wn=Jl(i.containerInfo),Gt(i,n),wn=f,Wt(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cr(i.containerInfo)}catch(se){Pe(n,n.return,se)}sd&&(sd=!1,Av(n));break;case 4:l=wn,wn=Jl(n.stateNode.containerInfo),Gt(i,n),Wt(n),wn=l;break;case 12:Gt(i,n),Wt(n);break;case 31:Gt(i,n),Wt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zl(n,l)));break;case 13:Gt(i,n),Wt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vl=Kt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zl(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=ti,F=dt;if(ti=j||f,dt=F||C,Gt(i,n),dt=F,ti=j,Wt(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||ti||dt||Ss(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{x=C.stateNode;var K=C.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;x.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(se){Pe(C,C.return,se)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(se){Pe(C,C.return,se)}}}else if(i.tag===18){if(a===null){C=i;try{var U=C.stateNode;f?g0(U,!0):g0(C.stateNode,!1)}catch(se){Pe(C,C.return,se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zl(n,a))));break;case 19:Gt(i,n),Wt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,zl(n,l)));break;case 30:break;case 21:break;default:Gt(i,n),Wt(n)}}function Wt(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(vv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=nd(n);jl(n,d,f);break;case 5:var y=a.stateNode;a.flags&32&&(Qs(y,""),a.flags&=-33);var x=nd(n);jl(n,x,y);break;case 3:case 4:var C=a.stateNode.containerInfo,j=nd(n);id(n,j,C);break;default:throw Error(r(161))}}catch(F){Pe(n,n.return,F)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Av(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ii(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xv(n,i.alternate,i),i=i.sibling}function Ss(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ri(4,i,i.return),Ss(i);break;case 1:jn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&gv(i,i.return,a),Ss(i);break;case 27:qa(i.stateNode);case 26:case 5:jn(i,i.return),Ss(i);break;case 22:i.memoizedState===null&&Ss(i);break;case 30:Ss(i);break;default:Ss(i)}n=n.sibling}}function si(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:si(f,d,a),Da(4,d);break;case 1:if(si(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Pe(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var x=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)sy(C[f],x)}catch(j){Pe(l,l.return,j)}}a&&y&64&&pv(d),Oa(d,d.return);break;case 27:_v(d);case 26:case 5:si(f,d,a),a&&l===null&&y&4&&yv(d),Oa(d,d.return);break;case 12:si(f,d,a);break;case 31:si(f,d,a),a&&y&4&&Tv(f,d);break;case 13:si(f,d,a),a&&y&4&&Cv(f,d);break;case 22:d.memoizedState===null&&si(f,d,a),Oa(d,d.return);break;case 30:break;default:si(f,d,a)}i=i.sibling}}function rd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&_a(a))}function ad(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&_a(n))}function Tn(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Mv(n,i,a,l),i=i.sibling}function Mv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Tn(n,i,a,l),f&2048&&Da(9,i);break;case 1:Tn(n,i,a,l);break;case 3:Tn(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&_a(n)));break;case 12:if(f&2048){Tn(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,y=d.id,x=d.onPostCommit;typeof x=="function"&&x(y,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Pe(i,i.return,C)}}else Tn(n,i,a,l);break;case 31:Tn(n,i,a,l);break;case 13:Tn(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?Tn(n,i,a,l):ka(n,i):d._visibility&2?Tn(n,i,a,l):(d._visibility|=2,mr(n,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&rd(y,i);break;case 24:Tn(n,i,a,l),f&2048&&ad(i.alternate,i);break;default:Tn(n,i,a,l)}}function mr(n,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=n,y=i,x=a,C=l,j=y.flags;switch(y.tag){case 0:case 11:case 15:mr(d,y,x,C,f),Da(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?mr(d,y,x,C,f):ka(d,y):(F._visibility|=2,mr(d,y,x,C,f)),f&&j&2048&&rd(y.alternate,y);break;case 24:mr(d,y,x,C,f),f&&j&2048&&ad(y.alternate,y);break;default:mr(d,y,x,C,f)}i=i.sibling}}function ka(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:ka(a,l),f&2048&&rd(l.alternate,l);break;case 24:ka(a,l),f&2048&&ad(l.alternate,l);break;default:ka(a,l)}i=i.sibling}}var La=8192;function pr(n,i,a){if(n.subtreeFlags&La)for(n=n.child;n!==null;)Nv(n,i,a),n=n.sibling}function Nv(n,i,a){switch(n.tag){case 26:pr(n,i,a),n.flags&La&&n.memoizedState!==null&&_E(a,wn,n.memoizedState,n.memoizedProps);break;case 5:pr(n,i,a);break;case 3:case 4:var l=wn;wn=Jl(n.stateNode.containerInfo),pr(n,i,a),wn=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=La,La=16777216,pr(n,i,a),La=l):pr(n,i,a));break;default:pr(n,i,a)}}function Rv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ba(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];bt=l,Dv(l,n)}Rv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iv(n),n=n.sibling}function Iv(n){switch(n.tag){case 0:case 11:case 15:Ba(n),n.flags&2048&&Ri(9,n,n.return);break;case 3:Ba(n);break;case 12:Ba(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Pl(n)):Ba(n);break;default:Ba(n)}}function Pl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];bt=l,Dv(l,n)}Rv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ri(8,i,i.return),Pl(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Pl(i));break;default:Pl(i)}n=n.sibling}}function Dv(n,i){for(;bt!==null;){var a=bt;switch(a.tag){case 0:case 11:case 15:Ri(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_a(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,bt=l;else e:for(a=n;bt!==null;){l=bt;var f=l.sibling,d=l.return;if(Sv(l),l===a){bt=null;break e}if(f!==null){f.return=d,bt=f;break e}bt=d}}}var kC={getCacheForType:function(n){var i=Ct(ct),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return Ct(ct).controller.signal}},LC=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ge=null,we=null,Ae=0,ze=0,nn=null,Ii=!1,gr=!1,od=!1,ri=0,nt=0,Di=0,ws=0,ld=0,sn=0,yr=0,ja=null,Ft=null,cd=!1,Vl=0,Ov=0,Ul=1/0,ql=null,Oi=null,mt=0,ki=null,vr=null,ai=0,ud=0,fd=null,kv=null,za=0,dd=null;function rn(){return(ke&2)!==0&&Ae!==0?Ae&-Ae:V.T!==null?vd():Xp()}function Lv(){if(sn===0)if((Ae&536870912)===0||Re){var n=Xo;Xo<<=1,(Xo&3932160)===0&&(Xo=262144),sn=n}else sn=536870912;return n=en.current,n!==null&&(n.flags|=32),sn}function Yt(n,i,a){(n===Ge&&(ze===2||ze===9)||n.cancelPendingCommit!==null)&&(_r(n,0),Li(n,Ae,sn,!1)),ra(n,a),((ke&2)===0||n!==Ge)&&(n===Ge&&((ke&2)===0&&(ws|=a),nt===4&&Li(n,Ae,sn,!1)),zn(n))}function Bv(n,i,a){if((ke&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&n.expiredLanes)===0||sa(n,i),f=l?zC(n,i):md(n,i,!0),d=l;do{if(f===0){gr&&!l&&Li(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!BC(a)){f=md(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var x=n;f=ja;var C=x.current.memoizedState.isDehydrated;if(C&&(_r(x,y).flags|=256),y=md(x,y,!1),y!==2){if(od&&!C){x.errorRecoveryDisabledLanes|=d,ws|=d,f=4;break e}d=Ft,Ft=f,d!==null&&(Ft===null?Ft=d:Ft.push.apply(Ft,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){_r(n,0),Li(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Li(l,i,sn,!Ii);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Vl+300-Kt(),10<f)){if(Li(l,i,sn,!Ii),Jo(l,0,!0)!==0)break e;ai=i,l.timeoutHandle=h0(jv.bind(null,l,a,Ft,ql,cd,i,sn,ws,yr,Ii,d,"Throttled",-0,0),f);break e}jv(l,a,Ft,ql,cd,i,sn,ws,yr,Ii,d,null,-0,0)}}break}while(!0);zn(n)}function jv(n,i,a,l,f,d,y,x,C,j,F,K,z,U){if(n.timeoutHandle=-1,K=i.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Nv(i,d,K);var se=(d&62914560)===d?Vl-Kt():(d&4194048)===d?Ov-Kt():0;if(se=bE(K,se),se!==null){ai=d,n.cancelPendingCommit=se(Wv.bind(null,n,i,d,a,l,f,y,x,C,F,K,null,z,U)),Li(n,d,y,!j);return}}Wv(n,i,d,a,l,f,y,x,C)}function BC(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Jt(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(n,i,a,l){i&=~ld,i&=~ws,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-Zt(f),y=1<<d;l[d]=-1,f&=~y}a!==0&&Yp(n,a,i)}function Hl(){return(ke&6)===0?(Pa(0),!1):!0}function hd(){if(we!==null){if(ze===0)var n=we.return;else n=we,Kn=ms=null,Nf(n),cr=null,xa=0,n=we;for(;n!==null;)mv(n.alternate,n),n=n.return;we=null}}function _r(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,nE(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),ai=0,hd(),Ge=n,we=a=Yn(n.current,null),Ae=i,ze=0,nn=null,Ii=!1,gr=sa(n,i),od=!1,yr=sn=ld=ws=Di=nt=0,Ft=ja=null,cd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Zt(l),d=1<<f;i|=n[f],l&=~d}return ri=i,ul(),a}function zv(n,i){pe=null,V.H=Na,i===lr||i===vl?(i=ey(),ze=3):i===yf?(i=ey(),ze=4):ze=i===Wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,nn=i,we===null&&(nt=1,Dl(n,fn(i,n.current)))}function Pv(){var n=en.current;return n===null?!0:(Ae&4194048)===Ae?pn===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?n===pn:!1}function Vv(){var n=V.H;return V.H=Na,n===null?Na:n}function Uv(){var n=V.A;return V.A=kC,n}function Gl(){nt=4,Ii||(Ae&4194048)!==Ae&&en.current!==null||(gr=!0),(Di&134217727)===0&&(ws&134217727)===0||Ge===null||Li(Ge,Ae,sn,!1)}function md(n,i,a){var l=ke;ke|=2;var f=Vv(),d=Uv();(Ge!==n||Ae!==i)&&(ql=null,_r(n,i)),i=!1;var y=nt;e:do try{if(ze!==0&&we!==null){var x=we,C=nn;switch(ze){case 8:hd(),y=6;break e;case 3:case 2:case 9:case 6:en.current===null&&(i=!0);var j=ze;if(ze=0,nn=null,br(n,x,C,j),a&&gr){y=0;break e}break;default:j=ze,ze=0,nn=null,br(n,x,C,j)}}jC(),y=nt;break}catch(F){zv(n,F)}while(!0);return i&&n.shellSuspendCounter++,Kn=ms=null,ke=l,V.H=f,V.A=d,we===null&&(Ge=null,Ae=0,ul()),y}function jC(){for(;we!==null;)qv(we)}function zC(n,i){var a=ke;ke|=2;var l=Vv(),f=Uv();Ge!==n||Ae!==i?(ql=null,Ul=Kt()+500,_r(n,i)):gr=sa(n,i);e:do try{if(ze!==0&&we!==null){i=we;var d=nn;t:switch(ze){case 1:ze=0,nn=null,br(n,i,d,1);break;case 2:case 9:if(Jg(d)){ze=0,nn=null,Hv(i);break}i=function(){ze!==2&&ze!==9||Ge!==n||(ze=7),zn(n)},d.then(i,i);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Jg(d)?(ze=0,nn=null,Hv(i)):(ze=0,nn=null,br(n,i,d,7));break;case 5:var y=null;switch(we.tag){case 26:y=we.memoizedState;case 5:case 27:var x=we;if(y?M0(y):x.stateNode.complete){ze=0,nn=null;var C=x.sibling;if(C!==null)we=C;else{var j=x.return;j!==null?(we=j,Wl(j)):we=null}break t}}ze=0,nn=null,br(n,i,d,5);break;case 6:ze=0,nn=null,br(n,i,d,6);break;case 8:hd(),nt=6;break e;default:throw Error(r(462))}}PC();break}catch(F){zv(n,F)}while(!0);return Kn=ms=null,V.H=l,V.A=f,ke=a,we!==null?0:(Ge=null,Ae=0,ul(),nt)}function PC(){for(;we!==null&&!lT();)qv(we)}function qv(n){var i=dv(n.alternate,n,ri);n.memoizedProps=n.pendingProps,i===null?Wl(n):we=i}function Hv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=av(a,i,i.pendingProps,i.type,void 0,Ae);break;case 11:i=av(a,i,i.pendingProps,i.type.render,i.ref,Ae);break;case 5:Nf(i);default:mv(a,i),i=we=Ug(i,ri),i=dv(a,i,ri)}n.memoizedProps=n.pendingProps,i===null?Wl(n):we=i}function br(n,i,a,l){Kn=ms=null,Nf(i),cr=null,xa=0;var f=i.return;try{if(AC(n,f,i,a,Ae)){nt=1,Dl(n,fn(a,n.current)),we=null;return}}catch(d){if(f!==null)throw we=f,d;nt=1,Dl(n,fn(a,n.current)),we=null;return}i.flags&32768?(Re||l===1?n=!0:gr||(Ae&536870912)!==0?n=!1:(Ii=n=!0,(l===2||l===9||l===3||l===6)&&(l=en.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gv(i,n)):Wl(i)}function Wl(n){var i=n;do{if((i.flags&32768)!==0){Gv(i,Ii);return}n=i.return;var a=RC(i.alternate,i,ri);if(a!==null){we=a;return}if(i=i.sibling,i!==null){we=i;return}we=i=n}while(i!==null);nt===0&&(nt=5)}function Gv(n,i){do{var a=IC(n.alternate,n);if(a!==null){a.flags&=32767,we=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){we=n;return}we=n=a}while(n!==null);nt=6,we=null}function Wv(n,i,a,l,f,d,y,x,C){n.cancelPendingCommit=null;do Fl();while(mt!==0);if((ke&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=tf,vT(n,a,d,y,x,C),n===Ge&&(we=Ge=null,Ae=0),vr=i,ki=n,ai=a,ud=d,fd=f,kv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,HC(Qo,function(){return Xv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=V.T,V.T=null,f=Y.p,Y.p=2,y=ke,ke|=4;try{DC(n,i,a)}finally{ke=y,Y.p=f,V.T=l}}mt=1,Fv(),Yv(),Qv()}}function Fv(){if(mt===1){mt=0;var n=ki,i=vr,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var l=Y.p;Y.p=2;var f=ke;ke|=4;try{Ev(i,n);var d=Ed,y=Dg(n.containerInfo),x=d.focusedElem,C=d.selectionRange;if(y!==x&&x&&x.ownerDocument&&Ig(x.ownerDocument.documentElement,x)){if(C!==null&&Xu(x)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in x)x.selectionStart=j,x.selectionEnd=Math.min(F,x.value.length);else{var K=x.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var U=z.getSelection(),se=x.textContent.length,fe=Math.min(C.start,se),qe=C.end===void 0?fe:Math.min(C.end,se);!U.extend&&fe>qe&&(y=qe,qe=fe,fe=y);var R=Rg(x,fe),A=Rg(x,qe);if(R&&A&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var B=K.createRange();B.setStart(R.node,R.offset),U.removeAllRanges(),fe>qe?(U.addRange(B),U.extend(A.node,A.offset)):(B.setEnd(A.node,A.offset),U.addRange(B))}}}}for(K=[],U=x;U=U.parentNode;)U.nodeType===1&&K.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<K.length;x++){var Q=K[x];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}sc=!!Cd,Ed=Cd=null}finally{ke=f,Y.p=l,V.T=a}}n.current=i,mt=2}}function Yv(){if(mt===2){mt=0;var n=ki,i=vr,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var l=Y.p;Y.p=2;var f=ke;ke|=4;try{xv(n,i.alternate,i)}finally{ke=f,Y.p=l,V.T=a}}mt=3}}function Qv(){if(mt===4||mt===3){mt=0,cT();var n=ki,i=vr,a=ai,l=kv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?mt=5:(mt=0,vr=ki=null,Kv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Oi=null),Iu(a),i=i.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ia,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=V.T,f=Y.p,Y.p=2,V.T=null;try{for(var d=n.onRecoverableError,y=0;y<l.length;y++){var x=l[y];d(x.value,{componentStack:x.stack})}}finally{V.T=i,Y.p=f}}(ai&3)!==0&&Fl(),zn(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===dd?za++:(za=0,dd=n):za=0,Pa(0)}}function Kv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,_a(i)))}function Fl(){return Fv(),Yv(),Qv(),Xv()}function Xv(){if(mt!==5)return!1;var n=ki,i=ud;ud=0;var a=Iu(ai),l=V.T,f=Y.p;try{Y.p=32>a?32:a,V.T=null,a=fd,fd=null;var d=ki,y=ai;if(mt=0,vr=ki=null,ai=0,(ke&6)!==0)throw Error(r(331));var x=ke;if(ke|=4,Iv(d.current),Mv(d,d.current,y,a),ke=x,Pa(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ia,d)}catch{}return!0}finally{Y.p=f,V.T=l,Kv(n,i)}}function Zv(n,i,a){i=fn(a,i),i=Gf(n.stateNode,i,2),n=Ai(n,i,2),n!==null&&(ra(n,2),zn(n))}function Pe(n,i,a){if(n.tag===3)Zv(n,n,a);else for(;i!==null;){if(i.tag===3){Zv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oi===null||!Oi.has(l))){n=fn(a,n),a=Jy(2),l=Ai(i,a,2),l!==null&&($y(a,l,i,n),ra(l,2),zn(l));break}}i=i.return}}function pd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new LC;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(od=!0,f.add(a),n=VC.bind(null,n,i,a),i.then(n,n))}function VC(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ge===n&&(Ae&a)===a&&(nt===4||nt===3&&(Ae&62914560)===Ae&&300>Kt()-Vl?(ke&2)===0&&_r(n,0):ld|=a,yr===Ae&&(yr=0)),zn(n)}function Jv(n,i){i===0&&(i=Fp()),n=fs(n,i),n!==null&&(ra(n,i),zn(n))}function UC(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Jv(n,a)}function qC(n,i){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Jv(n,a)}function HC(n,i){return Au(n,i)}var Yl=null,xr=null,gd=!1,Ql=!1,yd=!1,Bi=0;function zn(n){n!==xr&&n.next===null&&(xr===null?Yl=xr=n:xr=xr.next=n),Ql=!0,gd||(gd=!0,WC())}function Pa(n,i){if(!yd&&Ql){yd=!0;do for(var a=!1,l=Yl;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-Zt(42|n)+1)-1,d&=f&~(y&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,n0(l,d))}else d=Ae,d=Jo(l,l===Ge?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||sa(l,d)||(a=!0,n0(l,d));l=l.next}while(a);yd=!1}}function GC(){$v()}function $v(){Ql=gd=!1;var n=0;Bi!==0&&tE()&&(n=Bi);for(var i=Kt(),a=null,l=Yl;l!==null;){var f=l.next,d=e0(l,i);d===0?(l.next=null,a===null?Yl=f:a.next=f,f===null&&(xr=a)):(a=l,(n!==0||(d&3)!==0)&&(Ql=!0)),l=f}mt!==0&&mt!==5||Pa(n),Bi!==0&&(Bi=0)}function e0(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var y=31-Zt(d),x=1<<y,C=f[y];C===-1?((x&a)===0||(x&l)!==0)&&(f[y]=yT(x,i)):C<=i&&(n.expiredLanes|=x),d&=~x}if(i=Ge,a=Ae,a=Jo(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(ze===2||ze===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Mu(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||sa(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Mu(l),Iu(a)){case 2:case 8:a=Gp;break;case 32:a=Qo;break;case 268435456:a=Wp;break;default:a=Qo}return l=t0.bind(null,n),a=Au(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Mu(l),n.callbackPriority=2,n.callbackNode=null,2}function t0(n,i){if(mt!==0&&mt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Fl()&&n.callbackNode!==a)return null;var l=Ae;return l=Jo(n,n===Ge?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Bv(n,l,i),e0(n,Kt()),n.callbackNode!=null&&n.callbackNode===a?t0.bind(null,n):null)}function n0(n,i){if(Fl())return null;Bv(n,i,!0)}function WC(){iE(function(){(ke&6)!==0?Au(Hp,GC):$v()})}function vd(){if(Bi===0){var n=ar;n===0&&(n=Ko,Ko<<=1,(Ko&261888)===0&&(Ko=256)),Bi=n}return Bi}function i0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:nl(""+n)}function s0(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function FC(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=i0((f[Ut]||null).action),y=l.submitter;y&&(i=(i=y[Ut]||null)?i0(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var x=new al("action","action",null,l,f);n.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bi!==0){var C=y?s0(f,y):new FormData(f);zf(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(x.preventDefault(),C=y?s0(f,y):new FormData(f),zf(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var _d=0;_d<ef.length;_d++){var bd=ef[_d],YC=bd.toLowerCase(),QC=bd[0].toUpperCase()+bd.slice(1);Sn(YC,"on"+QC)}Sn(Lg,"onAnimationEnd"),Sn(Bg,"onAnimationIteration"),Sn(jg,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(uC,"onTransitionRun"),Sn(fC,"onTransitionStart"),Sn(dC,"onTransitionCancel"),Sn(zg,"onTransitionEnd"),Fs("onMouseEnter",["mouseout","mouseover"]),Fs("onMouseLeave",["mouseout","mouseover"]),Fs("onPointerEnter",["pointerout","pointerover"]),Fs("onPointerLeave",["pointerout","pointerover"]),os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),os("onBeforeInput",["compositionend","keypress","textInput","paste"]),os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Va));function r0(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var x=l[y],C=x.instance,j=x.currentTarget;if(x=x.listener,C!==d&&f.isPropagationStopped())break e;d=x,f.currentTarget=j;try{d(f)}catch(F){cl(F)}f.currentTarget=null,d=C}else for(y=0;y<l.length;y++){if(x=l[y],C=x.instance,j=x.currentTarget,x=x.listener,C!==d&&f.isPropagationStopped())break e;d=x,f.currentTarget=j;try{d(f)}catch(F){cl(F)}f.currentTarget=null,d=C}}}}function Te(n,i){var a=i[Du];a===void 0&&(a=i[Du]=new Set);var l=n+"__bubble";a.has(l)||(a0(i,n,2,!1),a.add(l))}function xd(n,i,a){var l=0;i&&(l|=4),a0(a,n,l,i)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Sd(n){if(!n[Kl]){n[Kl]=!0,$p.forEach(function(a){a!=="selectionchange"&&(KC.has(a)||xd(a,!1,n),xd(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Kl]||(i[Kl]=!0,xd("selectionchange",!1,i))}}function a0(n,i,a,l){switch(L0(i)){case 2:var f=wE;break;case 8:f=TE;break;default:f=jd}a=f.bind(null,i,a,n),f=void 0,!Uu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function wd(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var x=l.stateNode.containerInfo;if(x===f)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;x!==null;){if(y=Hs(x),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=d=y;continue e}x=x.parentNode}}l=l.return}fg(function(){var j=d,F=Pu(a),K=[];e:{var z=Pg.get(n);if(z!==void 0){var U=al,se=n;switch(n){case"keypress":if(sl(a)===0)break e;case"keydown":case"keyup":U=qT;break;case"focusin":se="focus",U=Wu;break;case"focusout":se="blur",U=Wu;break;case"beforeblur":case"afterblur":U=Wu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=RT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=WT;break;case Lg:case Bg:case jg:U=OT;break;case zg:U=YT;break;case"scroll":case"scrollend":U=MT;break;case"wheel":U=KT;break;case"copy":case"cut":case"paste":U=LT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=gg;break;case"toggle":case"beforetoggle":U=ZT}var fe=(i&4)!==0,qe=!fe&&(n==="scroll"||n==="scrollend"),R=fe?z!==null?z+"Capture":null:z;fe=[];for(var A=j,B;A!==null;){var Q=A;if(B=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||B===null||R===null||(Q=la(A,R),Q!=null&&fe.push(Ua(A,Q,B))),qe)break;A=A.return}0<fe.length&&(z=new U(z,se,null,a,F),K.push({event:z,listeners:fe}))}}if((i&7)===0){e:{if(z=n==="mouseover"||n==="pointerover",U=n==="mouseout"||n==="pointerout",z&&a!==zu&&(se=a.relatedTarget||a.fromElement)&&(Hs(se)||se[qs]))break e;if((U||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,U?(se=a.relatedTarget||a.toElement,U=j,se=se?Hs(se):null,se!==null&&(qe=c(se),fe=se.tag,se!==qe||fe!==5&&fe!==27&&fe!==6)&&(se=null)):(U=null,se=j),U!==se)){if(fe=mg,Q="onMouseLeave",R="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(fe=gg,Q="onPointerLeave",R="onPointerEnter",A="pointer"),qe=U==null?z:oa(U),B=se==null?z:oa(se),z=new fe(Q,A+"leave",U,a,F),z.target=qe,z.relatedTarget=B,Q=null,Hs(F)===j&&(fe=new fe(R,A+"enter",se,a,F),fe.target=B,fe.relatedTarget=qe,Q=fe),qe=Q,U&&se)t:{for(fe=XC,R=U,A=se,B=0,Q=R;Q;Q=fe(Q))B++;Q=0;for(var ue=A;ue;ue=fe(ue))Q++;for(;0<B-Q;)R=fe(R),B--;for(;0<Q-B;)A=fe(A),Q--;for(;B--;){if(R===A||A!==null&&R===A.alternate){fe=R;break t}R=fe(R),A=fe(A)}fe=null}else fe=null;U!==null&&o0(K,z,U,fe,!1),se!==null&&qe!==null&&o0(K,qe,se,fe,!0)}}e:{if(z=j?oa(j):window,U=z.nodeName&&z.nodeName.toLowerCase(),U==="select"||U==="input"&&z.type==="file")var Ie=Tg;else if(Sg(z))if(Cg)Ie=oC;else{Ie=rC;var le=sC}else U=z.nodeName,!U||U.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ju(j.elementType)&&(Ie=Tg):Ie=aC;if(Ie&&(Ie=Ie(n,j))){wg(K,Ie,a,F);break e}le&&le(n,z,j),n==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Bu(z,"number",z.value)}switch(le=j?oa(j):window,n){case"focusin":(Sg(le)||le.contentEditable==="true")&&(Js=le,Zu=j,ga=null);break;case"focusout":ga=Zu=Js=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,Og(K,a,F);break;case"selectionchange":if(cC)break;case"keydown":case"keyup":Og(K,a,F)}var ye;if(Yu)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Zs?bg(n,a)&&(Me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(yg&&a.locale!=="ko"&&(Zs||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Zs&&(ye=dg()):(bi=F,qu="value"in bi?bi.value:bi.textContent,Zs=!0)),le=Xl(j,Me),0<le.length&&(Me=new pg(Me,n,null,a,F),K.push({event:Me,listeners:le}),ye?Me.data=ye:(ye=xg(a),ye!==null&&(Me.data=ye)))),(ye=$T?eC(n,a):tC(n,a))&&(Me=Xl(j,"onBeforeInput"),0<Me.length&&(le=new pg("onBeforeInput","beforeinput",null,a,F),K.push({event:le,listeners:Me}),le.data=ye)),FC(K,n,j,a,F)}r0(K,i)})}function Ua(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Xl(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=la(n,a),f!=null&&l.unshift(Ua(n,f,d)),f=la(n,i),f!=null&&l.push(Ua(n,f,d))),n.tag===3)return l;n=n.return}return[]}function XC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function o0(n,i,a,l,f){for(var d=i._reactName,y=[];a!==null&&a!==l;){var x=a,C=x.alternate,j=x.stateNode;if(x=x.tag,C!==null&&C===l)break;x!==5&&x!==26&&x!==27||j===null||(C=j,f?(j=la(a,d),j!=null&&y.unshift(Ua(a,j,C))):f||(j=la(a,d),j!=null&&y.push(Ua(a,j,C)))),a=a.return}y.length!==0&&n.push({event:i,listeners:y})}var ZC=/\r\n?/g,JC=/\u0000|\uFFFD/g;function l0(n){return(typeof n=="string"?n:""+n).replace(ZC,`
`).replace(JC,"")}function c0(n,i){return i=l0(i),l0(n)===i}function Ue(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Qs(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Qs(n,""+l);break;case"className":el(n,"class",l);break;case"tabIndex":el(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":el(n,a,l);break;case"style":cg(n,l,d);break;case"data":if(i!=="object"){el(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=nl(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ue(n,i,"name",f.name,f,null),Ue(n,i,"formEncType",f.formEncType,f,null),Ue(n,i,"formMethod",f.formMethod,f,null),Ue(n,i,"formTarget",f.formTarget,f,null)):(Ue(n,i,"encType",f.encType,f,null),Ue(n,i,"method",f.method,f,null),Ue(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=nl(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Wn);break;case"onScroll":l!=null&&Te("scroll",n);break;case"onScrollEnd":l!=null&&Te("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=nl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Te("beforetoggle",n),Te("toggle",n),$o(n,"popover",l);break;case"xlinkActuate":Gn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$o(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ET.get(a)||a,$o(n,a,l))}}function Td(n,i,a,l,f,d){switch(a){case"style":cg(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Qs(n,l):(typeof l=="number"||typeof l=="bigint")&&Qs(n,""+l);break;case"onScroll":l!=null&&Te("scroll",n);break;case"onScrollEnd":l!=null&&Te("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):$o(n,a,l)}}}function At(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",n),Te("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ue(n,i,d,y,a,null)}}f&&Ue(n,i,"srcSet",a.srcSet,a,null),l&&Ue(n,i,"src",a.src,a,null);return;case"input":Te("invalid",n);var x=d=y=f=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":f=F;break;case"type":y=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":d=F;break;case"defaultValue":x=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:Ue(n,i,l,F,a,null)}}rg(n,d,x,C,j,y,f,!1);return;case"select":Te("invalid",n),l=y=d=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":d=x;break;case"defaultValue":y=x;break;case"multiple":l=x;default:Ue(n,i,f,x,a,null)}i=d,a=y,n.multiple=!!l,i!=null?Ys(n,!!l,i,!1):a!=null&&Ys(n,!!l,a,!0);return;case"textarea":Te("invalid",n),d=f=l=null;for(y in a)if(a.hasOwnProperty(y)&&(x=a[y],x!=null))switch(y){case"value":l=x;break;case"defaultValue":f=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:Ue(n,i,y,x,a,null)}og(n,l,f,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":Ue(n,i,C,l,a,null));return;case"dialog":Te("beforetoggle",n),Te("toggle",n),Te("cancel",n),Te("close",n);break;case"iframe":case"object":Te("load",n);break;case"video":case"audio":for(l=0;l<Va.length;l++)Te(Va[l],n);break;case"image":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"embed":case"source":case"link":Te("error",n),Te("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ue(n,i,j,l,a,null)}return;default:if(ju(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Td(n,i,F,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&Ue(n,i,x,l,a,null))}function $C(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,x=null,C=null,j=null,F=null;for(U in a){var K=a[U];if(a.hasOwnProperty(U)&&K!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=K;default:l.hasOwnProperty(U)||Ue(n,i,U,null,l,K)}}for(var z in l){var U=l[z];if(K=a[z],l.hasOwnProperty(z)&&(U!=null||K!=null))switch(z){case"type":d=U;break;case"name":f=U;break;case"checked":j=U;break;case"defaultChecked":F=U;break;case"value":y=U;break;case"defaultValue":x=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,i));break;default:U!==K&&Ue(n,i,z,U,l,K)}}Lu(n,y,x,C,j,F,d,f);return;case"select":U=y=x=z=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":U=C;default:l.hasOwnProperty(d)||Ue(n,i,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":z=d;break;case"defaultValue":x=d;break;case"multiple":y=d;default:d!==C&&Ue(n,i,f,d,l,C)}i=x,a=y,l=U,z!=null?Ys(n,!!a,z,!1):!!l!=!!a&&(i!=null?Ys(n,!!a,i,!0):Ys(n,!!a,a?[]:"",!1));return;case"textarea":U=z=null;for(x in a)if(f=a[x],a.hasOwnProperty(x)&&f!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ue(n,i,x,null,l,f)}for(y in l)if(f=l[y],d=a[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":z=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&Ue(n,i,y,f,l,d)}ag(n,z,U);return;case"option":for(var se in a)z=a[se],a.hasOwnProperty(se)&&z!=null&&!l.hasOwnProperty(se)&&(se==="selected"?n.selected=!1:Ue(n,i,se,null,l,z));for(C in l)z=l[C],U=a[C],l.hasOwnProperty(C)&&z!==U&&(z!=null||U!=null)&&(C==="selected"?n.selected=z&&typeof z!="function"&&typeof z!="symbol":Ue(n,i,C,z,l,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)z=a[fe],a.hasOwnProperty(fe)&&z!=null&&!l.hasOwnProperty(fe)&&Ue(n,i,fe,null,l,z);for(j in l)if(z=l[j],U=a[j],l.hasOwnProperty(j)&&z!==U&&(z!=null||U!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:Ue(n,i,j,z,l,U)}return;default:if(ju(i)){for(var qe in a)z=a[qe],a.hasOwnProperty(qe)&&z!==void 0&&!l.hasOwnProperty(qe)&&Td(n,i,qe,void 0,l,z);for(F in l)z=l[F],U=a[F],!l.hasOwnProperty(F)||z===U||z===void 0&&U===void 0||Td(n,i,F,z,l,U);return}}for(var R in a)z=a[R],a.hasOwnProperty(R)&&z!=null&&!l.hasOwnProperty(R)&&Ue(n,i,R,null,l,z);for(K in l)z=l[K],U=a[K],!l.hasOwnProperty(K)||z===U||z==null&&U==null||Ue(n,i,K,z,l,U)}function u0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,y=f.initiatorType,x=f.duration;if(d&&x&&u0(y)){for(y=0,x=f.responseEnd,l+=1;l<a.length;l++){var C=a[l],j=C.startTime;if(j>x)break;var F=C.transferSize,K=C.initiatorType;F&&u0(K)&&(C=C.responseEnd,y+=F*(C<x?1:(x-j)/(C-j)))}if(--l,i+=8*(d+y)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Cd=null,Ed=null;function Zl(n){return n.nodeType===9?n:n.ownerDocument}function f0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Ad(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function tE(){var n=window.event;return n&&n.type==="popstate"?n===Md?!1:(Md=n,!0):(Md=null,!1)}var h0=typeof setTimeout=="function"?setTimeout:void 0,nE=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,iE=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(n){return m0.resolve(null).then(n).catch(sE)}:h0;function sE(n){setTimeout(function(){throw n})}function ji(n){return n==="head"}function p0(n,i){var a=i,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Cr(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")qa(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,qa(a);for(var d=a.firstChild;d;){var y=d.nextSibling,x=d.nodeName;d[aa]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&qa(n.ownerDocument.body);a=f}while(a);Cr(i)}function g0(n,i){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Nd(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),Ou(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function rE(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[aa])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=gn(n.nextSibling),n===null)break}return null}function aE(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=gn(n.nextSibling),n===null))return null;return n}function y0(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=gn(n.nextSibling),n===null))return null;return n}function Rd(n){return n.data==="$?"||n.data==="$~"}function Id(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function oE(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function gn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Dd=null;function v0(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return gn(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function _0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function b0(n,i,a){switch(i=Zl(a),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function qa(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ou(n)}var yn=new Map,x0=new Set;function Jl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var oi=Y.d;Y.d={f:lE,r:cE,D:uE,C:fE,L:dE,m:hE,X:pE,S:mE,M:gE};function lE(){var n=oi.f(),i=Hl();return n||i}function cE(n){var i=Gs(n);i!==null&&i.tag===5&&i.type==="form"?zy(i):oi.r(n)}var Sr=typeof document>"u"?null:document;function S0(n,i,a){var l=Sr;if(l&&typeof i=="string"&&i){var f=cn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),x0.has(f)||(x0.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),At(i,"link",n),_t(i),l.head.appendChild(i)))}}function uE(n){oi.D(n),S0("dns-prefetch",n,null)}function fE(n,i){oi.C(n,i),S0("preconnect",n,i)}function dE(n,i,a){oi.L(n,i,a);var l=Sr;if(l&&n&&i){var f='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(n)+'"]';var d=f;switch(i){case"style":d=wr(n);break;case"script":d=Tr(n)}yn.has(d)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),yn.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ha(d))||i==="script"&&l.querySelector(Ga(d))||(i=l.createElement("link"),At(i,"link",n),_t(i),l.head.appendChild(i)))}}function hE(n,i){oi.m(n,i);var a=Sr;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Tr(n)}if(!yn.has(d)&&(n=v({rel:"modulepreload",href:n},i),yn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ga(d)))return}l=a.createElement("link"),At(l,"link",n),_t(l),a.head.appendChild(l)}}}function mE(n,i,a){oi.S(n,i,a);var l=Sr;if(l&&n){var f=Ws(l).hoistableStyles,d=wr(n);i=i||"default";var y=f.get(d);if(!y){var x={loading:0,preload:null};if(y=l.querySelector(Ha(d)))x.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=yn.get(d))&&Od(n,a);var C=y=l.createElement("link");_t(C),At(C,"link",n),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,$l(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:x},f.set(d,y)}}}function pE(n,i){oi.X(n,i);var a=Sr;if(a&&n){var l=Ws(a).hoistableScripts,f=Tr(n),d=l.get(f);d||(d=a.querySelector(Ga(f)),d||(n=v({src:n,async:!0},i),(i=yn.get(f))&&kd(n,i),d=a.createElement("script"),_t(d),At(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function gE(n,i){oi.M(n,i);var a=Sr;if(a&&n){var l=Ws(a).hoistableScripts,f=Tr(n),d=l.get(f);d||(d=a.querySelector(Ga(f)),d||(n=v({src:n,async:!0,type:"module"},i),(i=yn.get(f))&&kd(n,i),d=a.createElement("script"),_t(d),At(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function w0(n,i,a,l){var f=(f=ie.current)?Jl(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=wr(a.href),a=Ws(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=wr(a.href);var d=Ws(f).hoistableStyles,y=d.get(n);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,y),(d=f.querySelector(Ha(n)))&&!d._p&&(y.instance=d,y.state.loading=5),yn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yn.set(n,a),d||yE(f,n,a,y.state))),i&&l===null)throw Error(r(528,""));return y}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Tr(a),a=Ws(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function wr(n){return'href="'+cn(n)+'"'}function Ha(n){return'link[rel="stylesheet"]['+n+"]"}function T0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function yE(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),At(i,"link",a),_t(i),n.head.appendChild(i))}function Tr(n){return'[src="'+cn(n)+'"]'}function Ga(n){return"script[async]"+n}function C0(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,_t(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),_t(l),At(l,"style",f),$l(l,a.precedence,n),i.instance=l;case"stylesheet":f=wr(a.href);var d=n.querySelector(Ha(f));if(d)return i.state.loading|=4,i.instance=d,_t(d),d;l=T0(a),(f=yn.get(f))&&Od(l,f),d=(n.ownerDocument||n).createElement("link"),_t(d);var y=d;return y._p=new Promise(function(x,C){y.onload=x,y.onerror=C}),At(d,"link",l),i.state.loading|=4,$l(d,a.precedence,n),i.instance=d;case"script":return d=Tr(a.src),(f=n.querySelector(Ga(d)))?(i.instance=f,_t(f),f):(l=a,(f=yn.get(d))&&(l=v({},a),kd(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),_t(f),At(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,$l(l,a.precedence,n));return i.instance}function $l(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var x=l[y];if(x.dataset.precedence===i)d=x;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Od(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function kd(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ec=null;function E0(n,i,a){if(ec===null){var l=new Map,f=ec=new Map;f.set(a,l)}else f=ec,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[aa]||d[wt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=n+y;var x=l.get(y);x?x.push(d):l.set(y,[d])}}return l}function A0(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function vE(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function M0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function _E(n,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=wr(l.href),d=i.querySelector(Ha(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=tc.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=d,_t(d);return}d=i.ownerDocument||i,l=T0(l),(f=yn.get(f))&&Od(l,f),d=d.createElement("link"),_t(d);var y=d;y._p=new Promise(function(x,C){y.onload=x,y.onerror=C}),At(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=tc.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var Ld=0;function bE(n,i){return n.stylesheets&&n.count===0&&ic(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&ic(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+i);0<n.imgBytes&&Ld===0&&(Ld=62500*eE());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&ic(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Ld?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ic(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var nc=null;function ic(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,nc=new Map,i.forEach(xE,n),nc=null,tc.call(n))}function xE(n,i){if(!(i.state.loading&4)){var a=nc.get(n);if(a)var l=a.get(null);else{a=new Map,nc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}f=i.instance,y=f.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,f),a.set(y,f),this.count++,l=tc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Wa={$$typeof:q,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function SE(n,i,a,l,f,d,y,x,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.hiddenUpdates=Nu(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function N0(n,i,a,l,f,d,y,x,C,j,F,K){return n=new SE(n,i,a,y,C,j,F,K,x),i=1,d===!0&&(i|=24),d=$t(3,null,null,i),n.current=d,d.stateNode=n,i=mf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},vf(d),n}function R0(n){return n?(n=tr,n):tr}function I0(n,i,a,l,f,d){f=R0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ei(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ai(n,l,i),a!==null&&(Yt(a,n,i),wa(a,n,i))}function D0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Bd(n,i){D0(n,i),(n=n.alternate)&&D0(n,i)}function O0(n){if(n.tag===13||n.tag===31){var i=fs(n,67108864);i!==null&&Yt(i,n,67108864),Bd(n,67108864)}}function k0(n){if(n.tag===13||n.tag===31){var i=rn();i=Ru(i);var a=fs(n,i);a!==null&&Yt(a,n,i),Bd(n,i)}}var sc=!0;function wE(n,i,a,l){var f=V.T;V.T=null;var d=Y.p;try{Y.p=2,jd(n,i,a,l)}finally{Y.p=d,V.T=f}}function TE(n,i,a,l){var f=V.T;V.T=null;var d=Y.p;try{Y.p=8,jd(n,i,a,l)}finally{Y.p=d,V.T=f}}function jd(n,i,a,l){if(sc){var f=zd(l);if(f===null)wd(n,i,l,rc,a),B0(n,l);else if(EE(f,n,i,a,l))l.stopPropagation();else if(B0(n,l),i&4&&-1<CE.indexOf(n)){for(;f!==null;){var d=Gs(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=as(d.pendingLanes);if(y!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;y;){var C=1<<31-Zt(y);x.entanglements[1]|=C,y&=~C}zn(d),(ke&6)===0&&(Ul=Kt()+500,Pa(0))}}break;case 31:case 13:x=fs(d,2),x!==null&&Yt(x,d,2),Hl(),Bd(d,2)}if(d=zd(l),d===null&&wd(n,i,l,rc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else wd(n,i,l,null,a)}}function zd(n){return n=Pu(n),Pd(n)}var rc=null;function Pd(n){if(rc=null,n=Hs(n),n!==null){var i=c(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===31){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return rc=n,null}function L0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uT()){case Hp:return 2;case Gp:return 8;case Qo:case fT:return 32;case Wp:return 268435456;default:return 32}default:return 32}}var Vd=!1,zi=null,Pi=null,Vi=null,Fa=new Map,Ya=new Map,Ui=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B0(n,i){switch(n){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Fa.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(i.pointerId)}}function Qa(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Gs(i),i!==null&&O0(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function EE(n,i,a,l,f){switch(i){case"focusin":return zi=Qa(zi,n,i,a,l,f),!0;case"dragenter":return Pi=Qa(Pi,n,i,a,l,f),!0;case"mouseover":return Vi=Qa(Vi,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Fa.set(d,Qa(Fa.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ya.set(d,Qa(Ya.get(d)||null,n,i,a,l,f)),!0}return!1}function j0(n){var i=Hs(n.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,Zp(n.priority,function(){k0(a)});return}}else if(i===31){if(i=h(a),i!==null){n.blockedOn=i,Zp(n.priority,function(){k0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ac(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=zd(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);zu=l,a.target.dispatchEvent(l),zu=null}else return i=Gs(a),i!==null&&O0(i),n.blockedOn=a,!1;i.shift()}return!0}function z0(n,i,a){ac(n)&&a.delete(i)}function AE(){Vd=!1,zi!==null&&ac(zi)&&(zi=null),Pi!==null&&ac(Pi)&&(Pi=null),Vi!==null&&ac(Vi)&&(Vi=null),Fa.forEach(z0),Ya.forEach(z0)}function oc(n,i){n.blockedOn===i&&(n.blockedOn=null,Vd||(Vd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,AE)))}var lc=null;function P0(n){lc!==n&&(lc=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){lc===n&&(lc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Pd(l||a)===null)continue;break}var d=Gs(a);d!==null&&(n.splice(i,3),i-=3,zf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Cr(n){function i(C){return oc(C,n)}zi!==null&&oc(zi,n),Pi!==null&&oc(Pi,n),Vi!==null&&oc(Vi,n),Fa.forEach(i),Ya.forEach(i);for(var a=0;a<Ui.length;a++){var l=Ui[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ui.length&&(a=Ui[0],a.blockedOn===null);)j0(a),a.blockedOn===null&&Ui.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],y=f[Ut]||null;if(typeof d=="function")y||P0(a);else if(y){var x=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[Ut]||null)x=y.formAction;else if(Pd(f)!==null)continue}else x=y.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),P0(a)}}}function V0(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Ud(n){this._internalRoot=n}cc.prototype.render=Ud.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=rn();I0(a,l,n,i,null,null)},cc.prototype.unmount=Ud.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;I0(n.current,2,null,n,null,null),Hl(),i[qs]=null}};function cc(n){this._internalRoot=n}cc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Xp();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ui.length&&i!==0&&i<Ui[a].priority;a++);Ui.splice(a,0,n),a===0&&j0(n)}};var U0=e.version;if(U0!=="19.2.4")throw Error(r(527,U0,"19.2.4"));Y.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var ME={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{ia=uc.inject(ME),Xt=uc}catch{}}return Xa.createRoot=function(n,i){if(!o(n))throw Error(r(299));var a=!1,l="",f=Qy,d=Ky,y=Xy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=N0(n,1,!1,null,null,a,l,null,f,d,y,V0),n[qs]=i.current,Sd(n),new Ud(i)},Xa.hydrateRoot=function(n,i,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=Qy,y=Ky,x=Xy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=N0(n,1,!0,i,a??null,l,f,C,d,y,x,V0),i.context=R0(null),a=i.current,l=rn(),l=Ru(l),f=Ei(l),f.callback=null,Ai(a,f,l),a=l,i.current.lanes=a,ra(i,a),zn(i),n[qs]=i.current,Sd(n),new cc(i)},Xa.version="19.2.4",Xa}var Z0;function zE(){if(Z0)return Gd.exports;Z0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gd.exports=jE(),Gd.exports}var PE=zE();const Fi=[0,1,2,3,4,5,6,7,15,23,31,39,47,55,63,62,61,60,59,58,57,56,48,40,32,24,16,8,9,10,11,12,13,14,22,30,38,46,54,53,52,51,50,49,41,33,25,17],An=Fi.length-1,Mn=["film","science","general","history"],x1={film:"Film & TV",science:"Science & Technology",general:"General Knowledge",history:"History & Arts"},In={1:"#ef4444",2:"#3b82f6",3:"#eab308",4:"#f715e8"},VE=["#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6","#8b5cf6","#ec4899","#f43f5e","#14b8a6","#a855f7","#84cc16"],UE={film:"text-cat-film",science:"text-cat-science",general:"text-cat-general",history:"text-cat-history"},qE={film:"bg-cat-film",science:"bg-cat-science",general:"bg-cat-general",history:"bg-cat-history"},so=new Set([10,20,30,40]),Qd=30,Nh=new Set([5,15,25,35,45]),Kd=30,Za=500,Nr=8,HE=Nr*Nr,S1={questionsLoaded:!1,questions:[],players:[{id:1,name:"Player 1",position:0,color:In[1]},{id:2,name:"Player 2",position:0,color:In[2]}],localPlayers:[],maxPlayers:4,minPlayers:1,currentPlayerIndex:0,activeQuestion:null,pendingMove:0,pendingCategory:null,isTurnLocked:!1,usedQuestionIds:new Set,debugMode:!1,gameMode:"local",showWinModal:!1,showQuestionModal:!1,showCultureModal:!1,showNotModal:!1,showEditor:!1,showSettings:!1,showWelcome:!0,answerResult:null,cultureTimerStartedAt:null,cultureScore:null,notTimerStartedAt:null,notScore:null,currentNotCard:null,isTeamMode:!1,currentAnswererId:null,currentDescriberId:null,activeTeamId:null,cultureQuestionIndex:null};function J0(t){const e=[...t];for(let s=e.length-1;s>0;s--){const r=Math.floor(Math.random()*(s+1));[e[s],e[r]]=[e[r],e[s]]}return e}function GE(t,e){switch(e.type){case"ADD_PLAYER":{if(t.players.length>=t.maxPlayers)return t;const s=t.players.length+1;return{...t,players:[...t.players,{id:s,name:`Player ${s}`,position:0,color:In[s]}]}}case"REMOVE_PLAYER":{if(t.players.length<=t.minPlayers)return t;const s=t.players.slice(0,-1);return{...t,players:s,currentPlayerIndex:t.currentPlayerIndex>=s.length?0:t.currentPlayerIndex}}case"RENAME_PLAYER":return{...t,players:t.players.map(s=>s.id===e.playerId?{...s,name:e.name}:s)};case"ADVANCE_TURN":return{...t,currentPlayerIndex:(t.currentPlayerIndex+1)%t.players.length};case"LOCK_TURN":return{...t,isTurnLocked:!0};case"UNLOCK_TURN":return{...t,isTurnLocked:!1,activeQuestion:null,pendingMove:0,pendingCategory:null};case"SET_ACTIVE_QUESTION":return{...t,activeQuestion:e.question,pendingMove:e.roll,showQuestionModal:!0};case"CLEAR_QUESTION":return{...t,activeQuestion:null,pendingMove:0,showQuestionModal:!1,answerResult:null};case"SET_ANSWER_RESULT":return{...t,answerResult:e.result};case"MOVE_PLAYER":return{...t,players:t.players.map(s=>{if(s.id!==e.playerId)return s;const r=Math.min(s.position+e.steps,An);return{...s,position:r}})};case"SET_PLAYER_POSITION":return{...t,players:t.players.map(s=>s.id===e.playerId?{...s,position:e.position}:s)};case"MARK_QUESTION_USED":{const s=new Set(t.usedQuestionIds);return s.add(e.questionId),{...t,usedQuestionIds:s}}case"CLEAR_USED_QUESTIONS":{const s=new Set(t.usedQuestionIds);return e.questionIds.forEach(r=>s.delete(r)),{...t,usedQuestionIds:s}}case"SET_PLAYER_COLOR":return{...t,players:t.players.map(s=>s.id===e.playerId?{...s,color:e.color}:s)};case"TOGGLE_DEBUG":return{...t,debugMode:!t.debugMode};case"SET_GAME_MODE":{const s={activeQuestion:null,pendingMove:0,pendingCategory:null,isTurnLocked:!1,answerResult:null,showWinModal:!1,showQuestionModal:!1,showCultureModal:!1,showNotModal:!1,cultureTimerStartedAt:null,cultureScore:null,notTimerStartedAt:null,notScore:null,currentNotCard:null};if(e.mode==="online")return{...t,...s,gameMode:"online",localPlayers:t.players,players:[]};const r=[{id:1,name:"Player 1",position:0,color:In[1]},{id:2,name:"Player 2",position:0,color:In[2]}],o=t.localPlayers.length>0?t.localPlayers:t.players.length>0?t.players:r;return{...t,...s,gameMode:"local",players:o,localPlayers:[],currentPlayerIndex:Math.min(t.currentPlayerIndex,o.length-1)}}case"RESET_GAME":return{...t,questions:J0([...t.questions]),players:t.players.map(s=>({...s,position:0})),localPlayers:[],currentPlayerIndex:0,activeQuestion:null,pendingMove:0,pendingCategory:null,isTurnLocked:!1,usedQuestionIds:new Set,showWinModal:!1,showQuestionModal:!1,showCultureModal:!1,showNotModal:!1,cultureTimerStartedAt:null,cultureScore:null,notTimerStartedAt:null,notScore:null,currentNotCard:null,currentAnswererId:null,currentDescriberId:null};case"SET_QUESTIONS":return{...t,questions:J0(e.questions),questionsLoaded:!0};case"SHOW_WIN_MODAL":return{...t,showWinModal:e.show};case"SHOW_QUESTION_MODAL":return{...t,showQuestionModal:e.show};case"SHOW_CULTURE_MODAL":return e.show?{...t,showCultureModal:!0}:{...t,showCultureModal:!1,cultureTimerStartedAt:null,cultureScore:null,cultureQuestionIndex:null};case"SET_CULTURE_TIMER_START":return{...t,cultureTimerStartedAt:e.startedAt};case"SET_CULTURE_SCORE":return{...t,cultureScore:e.score};case"SHOW_NOT_MODAL":return e.show?{...t,showNotModal:!0}:{...t,showNotModal:!1,notTimerStartedAt:null,notScore:null,currentNotCard:null};case"SET_NOT_TIMER_START":return{...t,notTimerStartedAt:e.startedAt};case"SET_NOT_SCORE":return{...t,notScore:e.score};case"SET_NOT_CARD":return{...t,currentNotCard:e.card};case"SHOW_EDITOR":return{...t,showEditor:e.show};case"SHOW_SETTINGS":return{...t,showSettings:e.show};case"DISMISS_WELCOME":return{...t,showWelcome:!1};case"SET_TEAM_MODE":return{...t,isTeamMode:e.value};case"SET_ANSWERER_IDS":return{...t,currentAnswererId:e.answererId,currentDescriberId:e.describerId};case"SET_ACTIVE_TEAM":return{...t,activeTeamId:e.teamId};case"SET_CULTURE_QUESTION_INDEX":return{...t,cultureQuestionIndex:e.index};case"SET_PENDING_CATEGORY":return{...t,pendingCategory:e.category};case"SYNC_ONLINE_STATE":{const s=e.currentPlayerIndex!==t.currentPlayerIndex;return{...t,players:e.players.map(r=>{const o=t.players.find(c=>c.id===r.id);return o&&r.position<o.position?{...r,position:o.position}:r}),currentPlayerIndex:e.currentPlayerIndex,isTurnLocked:s?!1:t.isTurnLocked}}default:return t}}const w1=M.createContext(S1),T1=M.createContext(()=>{});function WE({children:t}){const[e,s]=M.useReducer(GE,S1);return b.jsx(w1.Provider,{value:e,children:b.jsx(T1.Provider,{value:s,children:t})})}function It(){return M.useContext(w1)}function an(){return M.useContext(T1)}const C1={roomCode:null,playerId:null,playerName:null,teamId:null,teamName:null},E1=M.createContext({identity:C1,setIdentity:()=>{}});function FE({children:t}){const[e,s]=M.useState(C1);return b.jsx(E1.Provider,{value:{identity:e,setIdentity:s},children:t})}function js(){return M.useContext(E1)}function YE(){const t=It(),e=an();return{getQuestion:M.useCallback((r,o)=>{const c=t.questions.filter(p=>p.category===r&&p.difficulty===o);if(c.length===0)return null;const u=c.filter(p=>!t.usedQuestionIds.has(p.id));let h=u;u.length===0&&(e({type:"CLEAR_USED_QUESTIONS",questionIds:c.map(p=>p.id)}),h=c);const m=h[0];return e({type:"MARK_QUESTION_USED",questionId:m.id}),m},[t.questions,t.usedQuestionIds,e])}}const A1=M.createContext(null),Xd="notculture-sound";function QE({children:t}){const[e,s]=M.useState(()=>{try{const h=localStorage.getItem(Xd);if(h)return JSON.parse(h).volume??.8}catch{}return .8}),[r,o]=M.useState(()=>{try{const h=localStorage.getItem(Xd);if(h)return JSON.parse(h).muted??!1}catch{}return!1});M.useEffect(()=>{try{localStorage.setItem(Xd,JSON.stringify({volume:e,muted:r}))}catch{}},[e,r]);const c=h=>s(Math.max(0,Math.min(1,h))),u=h=>o(h);return b.jsx(A1.Provider,{value:{volume:e,muted:r,setVolume:c,setMuted:u},children:t})}function M1(){const t=M.useContext(A1);if(!t)throw new Error("useSoundSettings must be used within SoundProvider");return t}const fc="/notculture-board-game/",dc={dice:`${fc}assets/sounds/dice.mp3`,move:`${fc}assets/sounds/move.mp3`,correct:`${fc}assets/sounds/correct.mp3`,wrong:`${fc}assets/sounds/wrong.mp3`},KE={dice:1,move:1,correct:1,wrong:.6};function hc(t){const e=new Audio(t);return e.preload="auto",e.load(),e}function Lo(){const{volume:t,muted:e}=M1(),s=M.useRef(null),r=M.useRef(null),o=M.useRef(t),c=M.useRef(e);M.useEffect(()=>{o.current=t,c.current=e},[t,e]),s.current||(s.current={dice:hc(dc.dice),move:hc(dc.move),correct:hc(dc.correct),wrong:hc(dc.wrong)});const u=M.useCallback(m=>{if(c.current)return;const p=s.current?.[m];p&&(p.currentTime=0,p.volume=o.current*KE[m],p.play().catch(()=>{}))},[]),h=M.useCallback(()=>{if(!c.current)try{if(!r.current){const q=window.AudioContext??window.webkitAudioContext;r.current=new q}const m=r.current,p=m.currentTime,g=o.current,v=m.createOscillator(),_=m.createGain();v.connect(_),_.connect(m.destination),v.type="triangle",v.frequency.setValueAtTime(550,p),v.frequency.exponentialRampToValueAtTime(120,p+.04),_.gain.setValueAtTime(.45*g,p),_.gain.exponentialRampToValueAtTime(.001,p+.04),v.start(p),v.stop(p+.04);const S=Math.ceil(m.sampleRate*.018),T=m.createBuffer(1,S,m.sampleRate),N=T.getChannelData(0);for(let q=0;q<S;q++)N[q]=Math.random()*2-1;const I=m.createBufferSource();I.buffer=T;const D=m.createBiquadFilter();D.type="bandpass",D.frequency.value=1800,D.Q.value=2;const H=m.createGain();I.connect(D),D.connect(H),H.connect(m.destination),H.gain.setValueAtTime(.18*g,p),H.gain.exponentialRampToValueAtTime(.001,p+.018),I.start(p),I.stop(p+.018)}catch{}},[]);return{playSound:u,playTick:h}}const Zd=[{id:"not-001",answers:["Umbrella","Astronaut","Birthday cake","Traffic light","Earthquake","Penguin"]},{id:"not-002",answers:["Eiffel Tower","Sneezing","Submarine","Rainbow","Dentist","Scissors"]},{id:"not-003",answers:["Escalator","Flamingo","Telescope","Firefighter","Sandcastle","Compass"]},{id:"not-004",answers:["Magnifying glass","Airport","Chameleon","Juggling","Quicksand","Lighthouse"]},{id:"not-005",answers:["Octopus","Museum","Alarm clock","Tightrope walker","Volcano","Vacuum cleaner"]},{id:"not-006",answers:["Giraffe","Desert island","Tornado","Magician","Parachute","Ladder"]},{id:"not-007",answers:["Binoculars","Skydiving","Igloo","Surgeon","Avalanche","Sunglasses"]},{id:"not-008",answers:["Thermometer","Librarian","Treehouse","Surfing","Waterfall","Narwhal"]},{id:"not-009",answers:["Pilot","Knitting","Pyramid","Sloth","Boomerang","Fog"]},{id:"not-010",answers:["Clown","Kite","Jungle","Swimming","Platypus","Candle"]},{id:"not-011",answers:["Lifeguard","Roller skates","Yoga","Football stadium","Meerkat","Mirror"]},{id:"not-012",answers:["Archaeologist","Fishing","Hot air balloon","Capybara","Lawnmower","Thunderstorm"]},{id:"not-013",answers:["Beekeeper","Cycling","Ski slope","Axolotl","Suitcase","Eclipse"]},{id:"not-014",answers:["Mountaineer","Boxing","Northern lights","Pangolin","Backpack","Tsunami"]},{id:"not-015",answers:["Referee","Photography","Underwater cave","Rock climbing","Pillow","Torch"]},{id:"not-016",answers:["Chef","Hiking","Bucket","Dancing","Kangaroo","Glacier"]},{id:"not-017",answers:["Whispering","Trampoline","Crocodile","Scarecrow","Diving board","Hammock"]},{id:"not-018",answers:["Jellyfish","Windmill","Paintbrush","Seesaw","Cactus","Stethoscope"]},{id:"not-019",answers:["Wheelbarrow","Cathedral","Puppet","Accordion","Sundial","Kayak"]},{id:"not-020",answers:["Tractor","Snowglobe","Fencing","Beehive","Porcupine","Periscope"]},{id:"not-021",answers:["Abacus","Archery","Castle","Gondola","Anvil","Skipping rope"]},{id:"not-022",answers:["Typewriter","Pole vault","Moat","Hang glider","Lantern","Hopscotch"]},{id:"not-023",answers:["Gramophone","Hurdles","Drawbridge","Blimp","Slingshot","Pedalo"]},{id:"not-024",answers:["Hourglass","Javelin","Trebuchet","Hovercraft","Catapult","Wrestling"]},{id:"not-025",answers:["Rickshaw","Paraglider","Snowmobile","Bellows","Guillotine","Pogo stick"]},{id:"not-026",answers:["Trapeze","Unicycle","Megaphone","Portcullis","Spinning top","Maze"]},{id:"not-027",answers:["Tobogganing","Bagpipes","Stilts","Treadmill","Catamaran","Mudslide"]},{id:"not-028",answers:["Hot spring","Gyroscope","Kaleidoscope","Croquet","Warthog","Paddleboat"]},{id:"not-029",answers:["Mirage","Somersaulting","Mongoose","Glowworm","Paddling pool","Bellboy"]},{id:"not-030",answers:["Sombrero","Didgeridoo","Cartwheel","Iguana","Quicklime","Lasso"]}],Rh=JSON.parse(`[{"id":"culture-001","question":"Name the Top 10 highest-grossing films starring Christian Bale","answers":["The Dark Knight Rises","The Dark Knight","Thor: Love and Thunder","Batman Begins","American Hustle","Ford v Ferrari","The Big Short","The Fighter","Vice","Exodus: Gods and Kings"]},{"id":"culture-002","question":"Name the Top 10 best-selling video game franchises of all time","answers":["Mario","Tetris","Call of Duty","Pokmon","FIFA / EA Sports FC","Grand Theft Auto","Minecraft","The Sims","Madden NFL","Need for Speed"]},{"id":"culture-003","question":"Name the Top 10 most-streamed artists on Spotify of all time (as of 2023)","answers":["Ed Sheeran","Drake","The Weeknd","Bad Bunny","Taylor Swift","Justin Bieber","Ariana Grande","Rihanna","Eminem","BTS"]},{"id":"culture-004","question":"Name the Top 10 highest-grossing movie franchises of all time","answers":["Marvel Cinematic Universe","Star Wars","Harry Potter / Wizarding World","James Bond","The Lord of the Rings / The Hobbit","X-Men","Fast & Furious","Transformers","Batman","Spider-Man"]},{"id":"culture-005","question":"Name the Top 10 most-watched TV shows on Netflix of all time (as of 2025)","answers":["Squid Game (Season 1)","Wednesday","Stranger Things (Season 4)","The Night Agent","Ginny & Georgia (Season 2)","The Glory","Outer Banks (Season 3)","Squid Game (Season 2)","You (Season 4)","Bridgerton (Season 3)"]},{"id":"culture-006","question":"Name the Top 10 best-selling albums of all time","answers":["Thriller  Michael Jackson","Back in Black  AC/DC","The Dark Side of the Moon  Pink Floyd","Bat Out of Hell  Meat Loaf","Their Greatest Hits  Eagles","Rumours  Fleetwood Mac","Come On Over  Shania Twain","Led Zeppelin IV  Led Zeppelin","The Bodyguard  Soundtrack","Falling into You  Celine Dion"]},{"id":"culture-007","question":"Name the Top 10 highest-paid athletes in the world in 2024","answers":["Cristiano Ronaldo","Jon Rahm","Lionel Messi","LeBron James","Lamar Jackson","Giannis Antetokounmpo","Canelo lvarez","Stephen Curry","Roger Federer","Novak Djokovic"]},{"id":"culture-008","question":"Name the Top 10 most-followed accounts on Instagram (as of 2023)","answers":["Instagram","Cristiano Ronaldo","Lionel Messi","Selena Gomez","Kylie Jenner","Dwayne Johnson","Ariana Grande","Kim Kardashian","Beyonc","Khlo Kardashian"]},{"id":"culture-009","question":"Name the Top 10 highest-rated IMDb TV shows of all time (as of 2023)","answers":["Breaking Bad","Planet Earth II","Band of Brothers","Chernobyl","Our Planet","Game of Thrones (Season 4)","The Wire","Avatar: The Last Airbender","The Sopranos","Sherlock"]},{"id":"culture-010","question":"Name the Top 10 best-selling books of all time","answers":["Don Quixote","A Tale of Two Cities","The Lord of the Rings","The Little Prince","Harry Potter and the Philosopher's Stone","And Then There Were None","Dream of the Red Chamber","The Hobbit","She: A History of Adventure","The Lion, the Witch and the Wardrobe"]},{"id":"culture-011","question":"Name the Top 10 highest-grossing films of all time","answers":["Avatar (2009)","Avengers: Endgame","Avatar: The Way of Water","Titanic","Star Wars: The Force Awakens","Avengers: Infinity War","Spider-Man: No Way Home","Inside Out 2","Jurassic World","The Lion King (2019)"]},{"id":"culture-012","question":"Name the Top 10 most-streamed songs on Spotify of all time (as of 2023)","answers":["Blinding Lights  The Weeknd","Shape of You  Ed Sheeran","Someone You Loved  Lewis Capaldi","Dance Monkey  Tones and I","Sunflower  Post Malone & Swae Lee","One Dance  Drake","Stay  The Kid LAROI & Justin Bieber","Believer  Imagine Dragons","Rockstar  Post Malone ft. 21 Savage","Closer  The Chainsmokers ft. Halsey"]},{"id":"culture-013","question":"Name the Top 10 most-visited countries in the world","answers":["France","Spain","United States","Turkey","Italy","Mexico","United Kingdom","Germany","Greece","Austria"]},{"id":"culture-014","question":"Name the Top 10 largest countries in the world by area","answers":["Russia","Canada","United States","China","Brazil","Australia","India","Argentina","Kazakhstan","Algeria"]},{"id":"culture-015","question":"Name the Top 10 highest-rated films on IMDb of all time","answers":["The Shawshank Redemption","The Godfather","The Dark Knight","The Godfather Part II","12 Angry Men","Schindler's List","The Lord of the Rings: The Return of the King","Pulp Fiction","The Lord of the Rings: The Two Towers","The Good, the Bad and the Ugly"]},{"id":"culture-016","question":"Name the Top 10 best-selling music artists of all time","answers":["The Beatles","Elvis Presley","Michael Jackson","Madonna","Elton John","Led Zeppelin","Pink Floyd","Celine Dion","AC/DC","Whitney Houston"]},{"id":"culture-017","question":"Name the Top 10 most-watched YouTube videos of all time (as of 2023)","answers":["Baby Shark Dance  Pinkfong","Despacito  Luis Fonsi","Johny Johny Yes Papa  LooLoo Kids","Shape of You  Ed Sheeran","See You Again  Wiz Khalifa","Phonics Song with Two Ants  ChuChu TV","Uptown Funk  Mark Ronson","Gangnam Style  PSY","Bath Song  Cocomelon","Learning Colors  Miroshka TV"]},{"id":"culture-018","question":"Name the Top 10 richest people in the world (Forbes, 2024)","answers":["Elon Musk","Jeff Bezos","Mark Zuckerberg","Larry Ellison","Bill Gates","Warren Buffett","Larry Page","Sergey Brin","Steve Ballmer","Jensen Huang"]},{"id":"culture-019","question":"Name the Top 10 most populous cities in the world","answers":["Tokyo","Delhi","Shanghai","Dhaka","So Paulo","Mexico City","Cairo","Beijing","Mumbai","Kinshasa"]},{"id":"culture-020","question":"Name the Top 10 most popular sports in the world by fan following","answers":["Football / Soccer","Cricket","Basketball","Field Hockey","Tennis","Volleyball","Table Tennis","Baseball","Rugby","Golf"]},{"id":"culture-021","question":"Name the Top 10 highest-grossing animated films of all time","answers":["Inside Out 2","The Lion King (2019)","Frozen II","The Super Mario Bros. Movie","Incredibles 2","Minions","Toy Story 4","Toy Story 3","Finding Dory","Zootopia"]},{"id":"culture-022","question":"Name the 10 most recent Oscar Best Picture winners","answers":["Anora (2025)","Oppenheimer (2024)","Everything Everywhere All at Once (2023)","CODA (2022)","Nomadland (2021)","Parasite (2020)","Green Book (2019)","The Shape of Water (2018)","Moonlight (2017)","Spotlight (2016)"]},{"id":"culture-023","question":"Name the Top 10 best-selling video games of all time","answers":["Minecraft","Grand Theft Auto V","Tetris (Mobile)","Wii Sports","PUBG: Battlegrounds","Mario Kart 8 Deluxe","Red Dead Redemption 2","Terraria","Super Mario Bros (NES)","Animal Crossing: New Horizons"]},{"id":"culture-024","question":"Name the Top 10 most popular dog breeds in the US (AKC 2023)","answers":["French Bulldog","Labrador Retriever","Golden Retriever","German Shepherd","Bulldog","Poodle","Beagle","Rottweiler","German Shorthaired Pointer","Dachshund"]},{"id":"culture-025","question":"Name the Top 10 most-downloaded apps of all time","answers":["Facebook","WhatsApp","Instagram","Messenger","TikTok","YouTube","Snapchat","Telegram","Twitter / X","Spotify"]},{"id":"culture-026","question":"Name the Top 10 countries with the most Olympic gold medals of all time","answers":["United States","Soviet Union","Great Britain","China","Germany","France","Australia","Italy","Hungary","Sweden"]},{"id":"culture-027","question":"Name the Top 10 highest-earning musicians of 2023","answers":["Taylor Swift","Bad Bunny","Morgan Wallen","Drake","Elton John","Ed Sheeran","The Weeknd","Beyonc","Coldplay","Bruce Springsteen"]},{"id":"culture-028","question":"Name the Top 10 most-watched Netflix original films of all time","answers":["Glass Onion: A Knives Out Mystery","Red Notice","Don't Look Up","Bird Box","The Gray Man","Extraction","Army of the Dead","Murder Mystery","Extraction 2","The Mother"]},{"id":"culture-029","question":"Name the Top 10 highest-paid actors in Hollywood (2023)","answers":["Tom Cruise","Adam Sandler","Leonardo DiCaprio","Dwayne Johnson","Mark Wahlberg","Ryan Reynolds","Vin Diesel","Brad Pitt","Ben Affleck","Will Smith"]},{"id":"culture-030","question":"Name the Top 10 countries with the most FIFA World Cup appearances","answers":["Brazil","Germany","Italy","Argentina","Mexico","Spain","France","England","Uruguay","Sweden"]}]`),XE=()=>{};var $0={};const N1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const te=function(t,e){if(!t)throw Yr(e)},Yr=function(t){return new Error("Firebase Database ("+N1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const R1=function(t){const e=[];let s=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},ZE=function(t){const e=[];let s=0,r=0;for(;s<t.length;){const o=t[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[s++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[s++],u=t[s++],h=t[s++],m=((o&7)<<18|(c&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=t[s++],u=t[s++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},Tm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const c=t[o],u=o+1<t.length,h=u?t[o+1]:0,m=o+2<t.length,p=m?t[o+2]:0,g=c>>2,v=(c&3)<<4|h>>4;let _=(h&15)<<2|p>>6,S=p&63;m||(S=64,u||(_=64)),r.push(s[g],s[v],s[_],s[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const c=s[t.charAt(o++)],h=o<t.length?s[t.charAt(o)]:0;++o;const p=o<t.length?s[t.charAt(o)]:64;++o;const v=o<t.length?s[t.charAt(o)]:64;if(++o,c==null||h==null||p==null||v==null)throw new JE;const _=c<<2|h>>4;if(r.push(_),p!==64){const S=h<<4&240|p>>2;if(r.push(S),v!==64){const T=p<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I1=function(t){const e=R1(t);return Tm.encodeByteArray(e,!0)},Oc=function(t){return I1(t).replace(/\./g,"")},Ih=function(t){try{return Tm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $E(t){return D1(void 0,t)}function D1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!eA(s)||(t[s]=D1(t[s],e[s]));return t}function eA(t){return t!=="__proto__"}function tA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nA=()=>tA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof $0>"u")return;const t=$0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ih(t[1]);return e&&JSON.parse(e)},O1=()=>{try{return XE()||nA()||iA()||sA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rA=t=>O1()?.emulatorHosts?.[t],aA=t=>{const e=rA(t);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},k1=()=>O1()?.config;class Bo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}function Cm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oA(t){return(await fetch(t,{credentials:"include"})).ok}function lA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Oc(JSON.stringify(s)),Oc(JSON.stringify(u)),""].join(".")}const ao={};function cA(){const t={prod:[],emulator:[]};for(const e of Object.keys(ao))ao[e]?t.emulator.push(e):t.prod.push(e);return t}function uA(t){let e=document.getElementById(t),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),s=!0),{created:s,element:e}}let e_=!1;function fA(t,e){if(typeof window>"u"||typeof document>"u"||!Cm(window.location.host)||ao[t]===e||ao[t]||e_)return;ao[t]=e;function s(_){return`__firebase__banner__${_}`}const r="__firebase__banner",c=cA().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{e_=!0,u()},_}function g(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=uA(r),S=s("text"),T=document.getElementById(S)||document.createElement("span"),N=s("learnmore"),I=document.getElementById(N)||document.createElement("a"),D=s("preprendIcon"),H=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const q=_.element;h(q),g(I,N);const E=p();m(H,D),q.append(H,T,I,E),document.body.appendChild(q)}c?(T.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function dA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dA())}function hA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mA(){return N1.NODE_ADMIN===!0}function pA(){try{return typeof indexedDB=="object"}catch{return!1}}function gA(){return new Promise((t,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const yA="FirebaseError";class jo extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=yA,Object.setPrototypeOf(this,jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,B1.prototype.create)}}class B1{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?vA(c,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new jo(o,h,r)}}function vA(t,e){return t.replace(_A,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const _A=/\{\$([^}]+)}/g;function _o(t){return JSON.parse(t)}function vt(t){return JSON.stringify(t)}const j1=function(t){let e={},s={},r={},o="";try{const c=t.split(".");e=_o(Ih(c[0])||""),s=_o(Ih(c[1])||""),o=c[2],r=s.d||{},delete s.d}catch{}return{header:e,claims:s,data:r,signature:o}},bA=function(t){const e=j1(t),s=e.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},xA=function(t){const e=j1(t).claims;return typeof e=="object"&&e.admin===!0};function qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function t_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kc(t,e,s){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(s,t[o],o,t));return r}function Lc(t,e){if(t===e)return!0;const s=Object.keys(t),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const c=t[o],u=e[o];if(n_(c)&&n_(u)){if(!Lc(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function n_(t){return t!==null&&typeof t=="object"}function SA(t){const e=[];for(const[s,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class wA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,s){s||(s=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(let v=0;v<16;v++)r[v]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(let v=16;v<80;v++){const _=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],u=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,g;for(let v=0;v<80;v++){v<40?v<20?(p=h^c&(u^h),g=1518500249):(p=c^u^h,g=1859775393):v<60?(p=c&u|h&(c|u),g=2400959708):(p=c^u^h,g=3395469782);const _=(o<<5|o>>>27)+p+m+g+r[v]&4294967295;m=h,h=u,u=(c<<30|c>>>2)&4294967295,c=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,s){if(e==null)return;s===void 0&&(s=e.length);const r=s-this.blockSize;let o=0;const c=this.buf_;let u=this.inbuf_;for(;o<s;){if(u===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<s;)if(c[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(c),u=0;break}}else for(;o<s;)if(c[u]=e[o],++u,++o,u===this.blockSize){this.compress_(c),u=0;break}}this.inbuf_=u,this.total_+=s}digest(){const e=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[o]>>c&255,++r;return e}}function au(t,e){return`${t} failed: ${e} argument `}const TA=function(t){const e=[];let s=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,te(r<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(r)-56320;o=65536+(c<<10)+u}o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):o<65536?(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},ou=function(t){let e=0;for(let s=0;s<t.length;s++){const r=t.charCodeAt(s);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,s++):e+=3}return e};function Qr(t){return t&&t._delegate?t._delegate:t}class bo{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Es="[DEFAULT]";class CA{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new Bo;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AA(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[c,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&u.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EA(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EA(t){return t===Es?void 0:t}function AA(t){return t.instantiationMode==="EAGER"}class MA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new CA(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const NA={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},RA=Fe.INFO,IA={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},DA=(t,e,...s)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=IA[e];if(o)console[o](`[${r}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z1{constructor(e){this.name=e,this._logLevel=RA,this._logHandler=DA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const OA=(t,e)=>e.some(s=>t instanceof s);let i_,s_;function kA(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LA(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,Dh=new WeakMap,V1=new WeakMap,Jd=new WeakMap,Em=new WeakMap;function BA(t){const e=new Promise((s,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{s(Ki(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(s=>{s instanceof IDBCursor&&P1.set(s,t)}).catch(()=>{}),Em.set(e,t),e}function jA(t){if(Dh.has(t))return;const e=new Promise((s,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{s(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Dh.set(t,e)}let Oh={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return Dh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V1.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ki(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zA(t){Oh=t(Oh)}function PA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=t.call($d(this),e,...s);return V1.set(r,e.sort?e.sort():[e]),Ki(r)}:LA().includes(t)?function(...e){return t.apply($d(this),e),Ki(P1.get(this))}:function(...e){return Ki(t.apply($d(this),e))}}function VA(t){return typeof t=="function"?PA(t):(t instanceof IDBTransaction&&jA(t),OA(t,kA())?new Proxy(t,Oh):t)}function Ki(t){if(t instanceof IDBRequest)return BA(t);if(Jd.has(t))return Jd.get(t);const e=VA(t);return e!==t&&(Jd.set(t,e),Em.set(e,t)),e}const $d=t=>Em.get(t);function UA(t,e,{blocked:s,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),h=Ki(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Ki(u.result),m.oldVersion,m.newVersion,Ki(u.transaction),m)}),s&&u.addEventListener("blocked",m=>s(m.oldVersion,m.newVersion,m)),h.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const qA=["get","getKey","getAll","getAllKeys","count"],HA=["put","add","delete","clear"],eh=new Map;function r_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eh.get(e))return eh.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=HA.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||qA.includes(s)))return;const c=async function(u,...h){const m=this.transaction(u,o?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[s](...h),o&&m.done]))[0]};return eh.set(e,c),c}zA(t=>({...t,get:(e,s,r)=>r_(e,s)||t.get(e,s,r),has:(e,s)=>!!r_(e,s)||t.has(e,s)}));class GA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(WA(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function WA(t){return t.getComponent()?.type==="VERSION"}const kh="@firebase/app",a_="0.14.8";const di=new z1("@firebase/app"),FA="@firebase/app-compat",YA="@firebase/analytics-compat",QA="@firebase/analytics",KA="@firebase/app-check-compat",XA="@firebase/app-check",ZA="@firebase/auth",JA="@firebase/auth-compat",$A="@firebase/database",eM="@firebase/data-connect",tM="@firebase/database-compat",nM="@firebase/functions",iM="@firebase/functions-compat",sM="@firebase/installations",rM="@firebase/installations-compat",aM="@firebase/messaging",oM="@firebase/messaging-compat",lM="@firebase/performance",cM="@firebase/performance-compat",uM="@firebase/remote-config",fM="@firebase/remote-config-compat",dM="@firebase/storage",hM="@firebase/storage-compat",mM="@firebase/firestore",pM="@firebase/ai",gM="@firebase/firestore-compat",yM="firebase",vM="12.9.0";const Lh="[DEFAULT]",_M={[kh]:"fire-core",[FA]:"fire-core-compat",[QA]:"fire-analytics",[YA]:"fire-analytics-compat",[XA]:"fire-app-check",[KA]:"fire-app-check-compat",[ZA]:"fire-auth",[JA]:"fire-auth-compat",[$A]:"fire-rtdb",[eM]:"fire-data-connect",[tM]:"fire-rtdb-compat",[nM]:"fire-fn",[iM]:"fire-fn-compat",[sM]:"fire-iid",[rM]:"fire-iid-compat",[aM]:"fire-fcm",[oM]:"fire-fcm-compat",[lM]:"fire-perf",[cM]:"fire-perf-compat",[uM]:"fire-rc",[fM]:"fire-rc-compat",[dM]:"fire-gcs",[hM]:"fire-gcs-compat",[mM]:"fire-fst",[gM]:"fire-fst-compat",[pM]:"fire-vertex","fire-js":"fire-js",[yM]:"fire-js-all"};const Bc=new Map,bM=new Map,Bh=new Map;function o_(t,e){try{t.container.addComponent(e)}catch(s){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function jc(t){const e=t.name;if(Bh.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Bh.set(e,t);for(const s of Bc.values())o_(s,t);for(const s of bM.values())o_(s,t);return!0}function xM(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function SM(t){return t==null?!1:t.settings!==void 0}const wM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new B1("app","Firebase",wM);class TM{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}const CM=vM;function U1(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const r={name:Lh,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(s||(s=k1()),!s)throw Xi.create("no-options");const c=Bc.get(o);if(c){if(Lc(s,c.options)&&Lc(r,c.config))return c;throw Xi.create("duplicate-app",{appName:o})}const u=new MA(o);for(const m of Bh.values())u.addComponent(m);const h=new TM(s,r,u);return Bc.set(o,h),h}function EM(t=Lh){const e=Bc.get(t);if(!e&&t===Lh&&k1())return U1();if(!e)throw Xi.create("no-app",{appName:t});return e}function Br(t,e,s){let r=_M[t]??t;s&&(r+=`-${s}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(u.join(" "));return}jc(new bo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const AM="firebase-heartbeat-database",MM=1,xo="firebase-heartbeat-store";let th=null;function q1(){return th||(th=UA(AM,MM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xo)}catch(s){console.warn(s)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),th}async function NM(t){try{const s=(await q1()).transaction(xo),r=await s.objectStore(xo).get(H1(t));return await s.done,r}catch(e){if(e instanceof jo)di.warn(e.message);else{const s=Xi.create("idb-get",{originalErrorMessage:e?.message});di.warn(s.message)}}}async function l_(t,e){try{const r=(await q1()).transaction(xo,"readwrite");await r.objectStore(xo).put(e,H1(t)),await r.done}catch(s){if(s instanceof jo)di.warn(s.message);else{const r=Xi.create("idb-set",{originalErrorMessage:s?.message});di.warn(r.message)}}}function H1(t){return`${t.name}!${t.options.appId}`}const RM=1024,IM=30;class DM{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new kM(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=c_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>IM){const o=LM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c_(),{heartbeatsToSend:s,unsentEntries:r}=OM(this._heartbeatsCache.heartbeats),o=Oc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return di.warn(e),""}}}function c_(){return new Date().toISOString().substring(0,10)}function OM(t,e=RM){const s=[];let r=t.slice();for(const o of t){const c=s.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),u_(s)>e){c.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),u_(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class kM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pA()?gA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await NM(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function u_(t){return Oc(JSON.stringify({version:2,heartbeats:t})).length}function LM(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let r=1;r<t.length;r++)t[r].date<s&&(s=t[r].date,e=r);return e}function BM(t){jc(new bo("platform-logger",e=>new GA(e),"PRIVATE")),jc(new bo("heartbeat",e=>new DM(e),"PRIVATE")),Br(kh,a_,t),Br(kh,a_,"esm2020"),Br("fire-js","")}BM("");var f_={};const d_="@firebase/database",h_="1.1.0";let G1="";function jM(t){G1=t}class zM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,s){s==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),vt(s))}get(e){const s=this.domStorage_.getItem(this.prefixedName_(e));return s==null?null:_o(s)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class PM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,s){s==null?delete this.cache_[e]:this.cache_[e]=s}get(e){return qn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const W1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zM(e)}}catch{}return new PM},Ns=W1("localStorage"),VM=W1("sessionStorage");const jr=new z1("@firebase/database"),UM=(function(){let t=1;return function(){return t++}})(),F1=function(t){const e=TA(t),s=new wA;s.update(e);const r=s.digest();return Tm.encodeByteArray(r)},zo=function(...t){let e="";for(let s=0;s<t.length;s++){const r=t[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zo.apply(null,r):typeof r=="object"?e+=vt(r):e+=r,e+=" "}return e};let oo=null,m_=!0;const qM=function(t,e){te(!0,"Can't turn on custom loggers persistently."),jr.logLevel=Fe.VERBOSE,oo=jr.log.bind(jr)},Nt=function(...t){if(m_===!0&&(m_=!1,oo===null&&VM.get("logging_enabled")===!0&&qM()),oo){const e=zo.apply(null,t);oo(e)}},Po=function(t){return function(...e){Nt(t,...e)}},jh=function(...t){const e="FIREBASE INTERNAL ERROR: "+zo(...t);jr.error(e)},hi=function(...t){const e=`FIREBASE FATAL ERROR: ${zo(...t)}`;throw jr.error(e),new Error(e)},Vt=function(...t){const e="FIREBASE WARNING: "+zo(...t);jr.warn(e)},HM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Am=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},GM=function(t){if(document.readyState==="complete")t();else{let e=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Ur="[MIN_NAME]",Os="[MAX_NAME]",zs=function(t,e){if(t===e)return 0;if(t===Ur||e===Os)return-1;if(e===Ur||t===Os)return 1;{const s=p_(t),r=p_(e);return s!==null?r!==null?s-r===0?t.length-e.length:s-r:-1:r!==null?1:t<e?-1:1}},WM=function(t,e){return t===e?0:t<e?-1:1},Ja=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+vt(e))},Mm=function(t){if(typeof t!="object"||t===null)return vt(t);const e=[];for(const r in t)e.push(r);e.sort();let s="{";for(let r=0;r<e.length;r++)r!==0&&(s+=","),s+=vt(e[r]),s+=":",s+=Mm(t[e[r]]);return s+="}",s},Y1=function(t,e){const s=t.length;if(s<=e)return[t];const r=[];for(let o=0;o<s;o+=e)o+e>s?r.push(t.substring(o,s)):r.push(t.substring(o,o+e));return r};function Rt(t,e){for(const s in t)t.hasOwnProperty(s)&&e(s,t[s])}const Q1=function(t){te(!Am(t),"Invalid JSON number");const e=11,s=52,r=(1<<e-1)-1;let o,c,u,h,m;t===0?(c=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),c=h+r,u=Math.round(t*Math.pow(2,s-h)-Math.pow(2,s))):(c=0,u=Math.round(t/Math.pow(2,1-r-s))));const p=[];for(m=s;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(m=e;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(o?1:0),p.reverse();const g=p.join("");let v="";for(m=0;m<64;m+=8){let _=parseInt(g.substr(m,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},FM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},YM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function QM(t,e){let s="Unknown Error";t==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?s="Client doesn't have permission to access the desired data.":t==="unavailable"&&(s="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+s);return r.code=t.toUpperCase(),r}const KM=new RegExp("^-?(0*)\\d{1,10}$"),XM=-2147483648,ZM=2147483647,p_=function(t){if(KM.test(t)){const e=Number(t);if(e>=XM&&e<=ZM)return e}return null},Kr=function(t){try{t()}catch(e){setTimeout(()=>{const s=e.stack||"";throw Vt("Exception was thrown by user callback.",s),e},Math.floor(0))}},JM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},lo=function(t,e){const s=setTimeout(t,e);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};class $M{constructor(e,s){this.appCheckProvider=s,this.appName=e.name,SM(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class eN{constructor(e,s,r){this.appName_=e,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(s=>s&&s.code==="auth/token-not-initialized"?(Nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(s=>s.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(s=>s.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class Cc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Cc.OWNER="owner";const Nm="5",K1="v",X1="s",Z1="r",J1="f",$1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ex="ls",tx="p",zh="ac",nx="websocket",ix="long_polling";class sx{constructor(e,s,r,o,c=!1,u="",h=!1,m=!1,p=null){this.secure=s,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ns.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ns.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${s}`}}function tN(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function rx(t,e,s){te(typeof e=="string","typeof type must == string"),te(typeof s=="object","typeof params must == object");let r;if(e===nx)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ix)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);tN(t)&&(s.ns=t.namespace);const o=[];return Rt(s,(c,u)=>{o.push(c+"="+u)}),r+o.join("&")}class nN{constructor(){this.counters_={}}incrementCounter(e,s=1){qn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=s}get(){return $E(this.counters_)}}const nh={},ih={};function Rm(t){const e=t.toString();return nh[e]||(nh[e]=new nN),nh[e]}function iN(t,e){const s=t.toString();return ih[s]||(ih[s]=e()),ih[s]}class sN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,s){this.closeAfterResponse=e,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,s){for(this.pendingResponses[e]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Kr(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const g_="start",rN="close",aN="pLPCommand",oN="pRTLPCB",ax="id",ox="pw",lx="ser",lN="cb",cN="seg",uN="ts",fN="d",dN="dframe",cx=1870,ux=30,hN=cx-ux,mN=25e3,pN=3e4;class Rr{constructor(e,s,r,o,c,u,h){this.connId=e,this.repoInfo=s,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Po(e),this.stats_=Rm(s),this.urlFn=m=>(this.appCheckToken&&(m[zh]=this.appCheckToken),rx(s,ix,m))}open(e,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new sN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pN)),GM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Im((...c)=>{const[u,h,m,p,g]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===g_)this.id=h,this.password=m;else if(u===rN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...c)=>{const[u,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[g_]="t",r[lx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[lN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[K1]=Nm,this.transportSessionId&&(r[X1]=this.transportSessionId),this.lastSessionId&&(r[ex]=this.lastSessionId),this.applicationId&&(r[tx]=this.applicationId),this.appCheckToken&&(r[zh]=this.appCheckToken),typeof location<"u"&&location.hostname&&$1.test(location.hostname)&&(r[Z1]=J1);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rr.forceAllow_=!0}static forceDisallow(){Rr.forceDisallow_=!0}static isAvailable(){return Rr.forceAllow_?!0:!Rr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FM()&&!YM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const s=vt(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=I1(s),o=Y1(r,hN);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[dN]="t",r[ax]=e,r[ox]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const s=vt(e).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Im{constructor(e,s,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=UM(),window[aN+this.uniqueCallbackIdentifier]=e,window[oN+this.uniqueCallbackIdentifier]=s,this.myIFrame=Im.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Nt("frame writing exception"),h.stack&&Nt(h.stack),Nt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Nt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,s){for(this.myID=e,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ax]=this.myID,e[ox]=this.myPW,e[lx]=this.currentSerial;let s=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ux+r.length<=cx;){const u=this.pendingSegs.shift();r=r+"&"+cN+o+"="+u.seg+"&"+uN+o+"="+u.ts+"&"+fN+o+"="+u.d,o++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(e,s,r){this.pendingSegs.push({seg:e,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(r,Math.floor(mN)),c=()=>{clearTimeout(o),r()};this.addTag(e,c)}addTag(e,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{Nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const gN=16384,yN=45e3;let zc=null;typeof MozWebSocket<"u"?zc=MozWebSocket:typeof WebSocket<"u"&&(zc=WebSocket);class Nn{constructor(e,s,r,o,c,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Po(this.connId),this.stats_=Rm(s),this.connURL=Nn.connectionURL_(s,u,h,o,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,r,o,c){const u={};return u[K1]=Nm,typeof location<"u"&&location.hostname&&$1.test(location.hostname)&&(u[Z1]=J1),s&&(u[X1]=s),r&&(u[ex]=r),o&&(u[zh]=o),c&&(u[tx]=c),rx(e,nx,u)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ns.set("previous_websocket_failure",!0);try{let r;mA(),this.mySock=new zc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Nn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&zc!==null&&!Nn.forceDisallow_}static previouslyFailed(){return Ns.isInMemoryStorage||Ns.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ns.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=_o(s);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const s=vt(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=Y1(s,gN);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(yN))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Nn.responsesRequiredToBeHealthy=2;Nn.healthyTimeout=3e4;class So{static get ALL_TRANSPORTS(){return[Rr,Nn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const s=Nn&&Nn.isAvailable();let r=s&&!Nn.previouslyFailed();if(e.webSocketOnly&&(s||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nn];else{const o=this.transports_=[];for(const c of So.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);So.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}So.globalTransportInitialized_=!1;const vN=6e4,_N=5e3,bN=10*1024,xN=100*1024,sh="t",y_="d",SN="s",v_="r",wN="e",__="o",b_="a",x_="n",S_="p",TN="h";class CN{constructor(e,s,r,o,c,u,h,m,p,g){this.id=e,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Po("c:"+this.id+":"),this.transportManager_=new So(s),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=lo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return s=>{e===this.conn_?this.onConnectionLost_(s):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return s=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(s):e===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(e){const s={t:"d",d:e};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(sh in e){const s=e[sh];s===b_?this.upgradeIfSecondaryHealthy_():s===v_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===__&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const s=Ja("t",e),r=Ja("d",e);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:S_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:b_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:x_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const s=Ja("t",e),r=Ja("d",e);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const s=Ja(sh,e);if(y_ in e){const r=e[y_];if(s===TN){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===x_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===SN?this.onConnectionShutdown_(r):s===v_?this.onReset_(r):s===wN?jh("Server Error: "+r):s===__?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jh("Unknown control packet command: "+s)}}onHandshake_(e){const s=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Nm!==r&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),lo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(vN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,s){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_N))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:S_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ns.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fx{put(e,s,r,o){}merge(e,s,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,s,r){}onDisconnectMerge(e,s,r){}onDisconnectCancel(e,s){}reportStats(e){}}class dx{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...s){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,s)}}on(e,s,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:s,context:r});const o=this.getInitialEvent(e);o&&s.apply(r,o)}off(e,s,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===s&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(e){te(this.allowedEvents_.find(s=>s===e),"Unknown event: "+e)}}class Pc extends dx{static getInstance(){return new Pc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!L1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const w_=32,T_=768;class He{constructor(e,s){if(s===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=s}toString(){let e="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(e+="/"+this.pieces_[s]);return e||"/"}}function Oe(){return new He("")}function be(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function $i(t){return t.pieces_.length-t.pieceNum_}function Ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new He(t.pieces_,e)}function Dm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function EN(t){let e="";for(let s=t.pieceNum_;s<t.pieces_.length;s++)t.pieces_[s]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[s])));return e||"/"}function wo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hx(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let s=t.pieceNum_;s<t.pieces_.length-1;s++)e.push(t.pieces_[s]);return new He(e,0)}function st(t,e){const s=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)s.push(t.pieces_[r]);if(e instanceof He)for(let r=e.pieceNum_;r<e.pieces_.length;r++)s.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&s.push(r[o])}return new He(s,0)}function Ce(t){return t.pieceNum_>=t.pieces_.length}function Bt(t,e){const s=be(t),r=be(e);if(s===null)return e;if(s===r)return Bt(Ye(t),Ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function AN(t,e){const s=wo(t,0),r=wo(e,0);for(let o=0;o<s.length&&o<r.length;o++){const c=zs(s[o],r[o]);if(c!==0)return c}return s.length===r.length?0:s.length<r.length?-1:1}function Om(t,e){if($i(t)!==$i(e))return!1;for(let s=t.pieceNum_,r=e.pieceNum_;s<=t.pieces_.length;s++,r++)if(t.pieces_[s]!==e.pieces_[r])return!1;return!0}function vn(t,e){let s=t.pieceNum_,r=e.pieceNum_;if($i(t)>$i(e))return!1;for(;s<t.pieces_.length;){if(t.pieces_[s]!==e.pieces_[r])return!1;++s,++r}return!0}class MN{constructor(e,s){this.errorPrefix_=s,this.parts_=wo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ou(this.parts_[r]);mx(this)}}function NN(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ou(e),mx(t)}function RN(t){const e=t.parts_.pop();t.byteLength_-=ou(e),t.parts_.length>0&&(t.byteLength_-=1)}function mx(t){if(t.byteLength_>T_)throw new Error(t.errorPrefix_+"has a key path longer than "+T_+" bytes ("+t.byteLength_+").");if(t.parts_.length>w_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+w_+") or object contains a cycle "+As(t))}function As(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}class km extends dx{static getInstance(){return new km}constructor(){super(["visible"]);let e,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}const $a=1e3,IN=300*1e3,C_=30*1e3,DN=1.3,ON=3e4,kN="server_kill",E_=3;class fi extends fx{constructor(e,s,r,o,c,u,h,m){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=fi.nextPersistentConnectionId_++,this.log_=Po("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$a,this.maxReconnectDelay_=IN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");km.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,r){const o=++this.requestNumber_,c={r:o,a:e,b:s};this.log_(vt(c)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const s=new Bo,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?s.resolve(h):s.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),s.promise}listen(e,s,r,o){this.initConnection_();const c=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+c),this.listens.has(u)||this.listens.set(u,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(u).has(c),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:s,query:e,tag:r};this.listens.get(u).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(e){const s=e.query,r=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},u="q";e.tag&&(c.q=s._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(u,c,h=>{const m=h.d,p=h.s;fi.warnOnListenWarnings_(m,s),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,s){if(e&&typeof e=="object"&&qn(e,"w")){const r=Vr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',c=s._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||xA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=C_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=bA(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,o=>{const c=o.s,u=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,r=e.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(e,s){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,s)}sendUnlisten_(e,s,r,o){this.log_("Unlisten on "+e+" for "+s);const c={p:e},u="n";o&&(c.q=r,c.t=o),this.sendRequest(u,c)}onDisconnectPut(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:r})}onDisconnectMerge(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:r})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,r,o){const c={p:s,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,s,r,o){this.putInternal("p",e,s,r,o)}merge(e,s,r,o){this.putInternal("m",e,s,r,o)}putInternal(e,s,r,o,c){this.initConnection_();const u={p:s,d:r};c!==void 0&&(u.h=c),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,r,c=>{this.log_(s+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+vt(e));const s=e.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),e==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):e==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):e==="c"?this.onListenRevoked_(s.p,s.q):e==="ac"?this.onAuthRevoked_(s.s,s.d):e==="apc"?this.onAppCheckRevoked_(s.s,s.d):e==="sd"?this.onSecurityDebugPacket_(s):jh("Unrecognized action received from server: "+vt(e)+`
Are you using the latest client?`)}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$a,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$a,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ON&&(this.reconnectDelay_=$a),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*DN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+fi.nextConnectionId_++,c=this.lastSessionId;let u=!1,h=null;const m=function(){h?h.close():(u=!0,r())},p=function(v){te(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?Nt("getToken() completed but was canceled"):(Nt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,h=new CN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,s,r,S=>{Vt(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(kN)},c))}catch(v){this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&Vt(v),m())}}}interrupt(e){Nt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Nt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],t_(this.interruptReasons_)&&(this.reconnectDelay_=$a,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let r;s?r=s.map(c=>Mm(c)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,s){const r=new He(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(s),c.delete(s),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,s){Nt("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=E_&&(this.reconnectDelay_=C_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Nt("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=E_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";e["sdk."+s+"."+G1.replace(/\./g,"-")]=1,L1()?e["framework.cordova"]=1:hA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pc.getInstance().currentlyOnline();return t_(this.interruptReasons_)&&e}}fi.nextPersistentConnectionId_=0;fi.nextConnectionId_=0;class xe{constructor(e,s){this.name=e,this.node=s}static Wrap(e,s){return new xe(e,s)}}class lu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,s){const r=new xe(Ur,e),o=new xe(Ur,s);return this.compare(r,o)!==0}minPost(){return xe.MIN}}let mc;class px extends lu{static get __EMPTY_NODE(){return mc}static set __EMPTY_NODE(e){mc=e}compare(e,s){return zs(e.name,s.name)}isDefinedOn(e){throw Yr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,s){return!1}minPost(){return xe.MIN}maxPost(){return new xe(Os,mc)}makePost(e,s){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new xe(e,mc)}toString(){return".key"}}const zr=new px;class pc{constructor(e,s,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=s?r(e.key,s):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(e.key,e.value):s={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class St{constructor(e,s,r,o,c){this.key=e,this.value=s,this.color=r??St.RED,this.left=o??Qt.EMPTY_NODE,this.right=c??Qt.EMPTY_NODE}copy(e,s,r,o,c){return new St(e??this.key,s??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const c=r(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,s,r),null):c===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let r,o;if(r=this,s(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(e,r.key)===0){if(r.right.isEmpty())return Qt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}St.RED=!0;St.BLACK=!1;class LN{copy(e,s,r,o,c){return this}insert(e,s,r){return new St(e,s,null)}remove(e,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qt{constructor(e,s=Qt.EMPTY_NODE){this.comparator_=e,this.root_=s}insert(e,s){return new Qt(this.comparator_,this.root_.insert(e,s,this.comparator_).copy(null,null,St.BLACK,null,null))}remove(e){return new Qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,St.BLACK,null,null))}get(e){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(e,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(e){let s,r=this.root_,o=null;for(;!r.isEmpty();)if(s=this.comparator_(e,r.key),s===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new pc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,s){return new pc(this.root_,e,this.comparator_,!1,s)}getReverseIteratorFrom(e,s){return new pc(this.root_,e,this.comparator_,!0,s)}getReverseIterator(e){return new pc(this.root_,null,this.comparator_,!0,e)}}Qt.EMPTY_NODE=new LN;function BN(t,e){return zs(t.name,e.name)}function Lm(t,e){return zs(t,e)}let Ph;function jN(t){Ph=t}const gx=function(t){return typeof t=="number"?"number:"+Q1(t):"string:"+t},yx=function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&qn(e,".sv"),"Priority must be a string or number.")}else te(t===Ph||t.isEmpty(),"priority of unexpected type.");te(t===Ph||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let A_;class xt{static set __childrenNodeConstructor(e){A_=e}static get __childrenNodeConstructor(){return A_}constructor(e,s=xt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yx(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:xt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ce(e)?this:be(e)===".priority"?this.priorityNode_:xt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return e===".priority"?this.updatePriority(s):s.isEmpty()&&e!==".priority"?this:xt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const r=be(e);return r===null?s:s.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||$i(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,xt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ye(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gx(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",s==="number"?e+=Q1(this.value_):e+=this.value_,this.lazyHash_=F1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xt.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,r=typeof this.value_,o=xt.VALUE_TYPE_ORDER.indexOf(s),c=xt.VALUE_TYPE_ORDER.indexOf(r);return te(o>=0,"Unknown leaf type: "+s),te(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}xt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let vx,_x;function zN(t){vx=t}function PN(t){_x=t}class VN extends lu{compare(e,s){const r=e.node.getPriority(),o=s.node.getPriority(),c=r.compareTo(o);return c===0?zs(e.name,s.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,s){return!e.getPriority().equals(s.getPriority())}minPost(){return xe.MIN}maxPost(){return new xe(Os,new xt("[PRIORITY-POST]",_x))}makePost(e,s){const r=vx(e);return new xe(s,new xt("[PRIORITY-POST]",r))}toString(){return".priority"}}const rt=new VN;const UN=Math.log(2);class qN{constructor(e){const s=c=>parseInt(Math.log(c)/UN,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=s(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vc=function(t,e,s,r){t.sort(e);const o=function(m,p){const g=p-m;let v,_;if(g===0)return null;if(g===1)return v=t[m],_=s?s(v):v,new St(_,v.node,St.BLACK,null,null);{const S=parseInt(g/2,10)+m,T=o(m,S),N=o(S+1,p);return v=t[S],_=s?s(v):v,new St(_,v.node,St.BLACK,T,N)}},c=function(m){let p=null,g=null,v=t.length;const _=function(T,N){const I=v-T,D=v;v-=T;const H=o(I+1,D),q=t[I],E=s?s(q):q;S(new St(E,q.node,N,null,H))},S=function(T){p?(p.left=T,p=T):(g=T,p=T)};for(let T=0;T<m.count;++T){const N=m.nextBitIsOne(),I=Math.pow(2,m.count-(T+1));N?_(I,St.BLACK):(_(I,St.BLACK),_(I,St.RED))}return g},u=new qN(t.length),h=c(u);return new Qt(r||e,h)};let rh;const Er={};class ui{static get Default(){return te(Er&&rt,"ChildrenNode.ts has not been loaded"),rh=rh||new ui({".priority":Er},{".priority":rt}),rh}constructor(e,s){this.indexes_=e,this.indexSet_=s}get(e){const s=Vr(this.indexes_,e);if(!s)throw new Error("No index defined for "+e);return s instanceof Qt?s:null}hasIndex(e){return qn(this.indexSet_,e.toString())}addIndex(e,s){te(e!==zr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=s.getIterator(xe.Wrap);let u=c.getNext();for(;u;)o=o||e.isDefinedOn(u.node),r.push(u),u=c.getNext();let h;o?h=Vc(r,e.getCompare()):h=Er;const m=e.toString(),p={...this.indexSet_};p[m]=e;const g={...this.indexes_};return g[m]=h,new ui(g,p)}addToIndexes(e,s){const r=kc(this.indexes_,(o,c)=>{const u=Vr(this.indexSet_,c);if(te(u,"Missing index implementation for "+c),o===Er)if(u.isDefinedOn(e.node)){const h=[],m=s.getIterator(xe.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),Vc(h,u.getCompare())}else return Er;else{const h=s.get(e.name);let m=o;return h&&(m=m.remove(new xe(e.name,h))),m.insert(e,e.node)}});return new ui(r,this.indexSet_)}removeFromIndexes(e,s){const r=kc(this.indexes_,o=>{if(o===Er)return o;{const c=s.get(e.name);return c?o.remove(new xe(e.name,c)):o}});return new ui(r,this.indexSet_)}}let eo;class de{static get EMPTY_NODE(){return eo||(eo=new de(new Qt(Lm),null,ui.Default))}constructor(e,s,r){this.children_=e,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&yx(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eo}updatePriority(e){return this.children_.isEmpty()?this:new de(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const s=this.children_.get(e);return s===null?eo:s}}getChild(e){const s=be(e);return s===null?this:this.getImmediateChild(s).getChild(Ye(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,s){if(te(s,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(s);{const r=new xe(e,s);let o,c;s.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,s),c=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?eo:this.priorityNode_;return new de(o,u,c)}}updateChild(e,s){const r=be(e);if(r===null)return s;{te(be(e)!==".priority"||$i(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Ye(e),s);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let r=0,o=0,c=!0;if(this.forEachChild(rt,(u,h)=>{s[u]=h.val(e),r++,c&&de.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):c=!1}),!e&&c&&o<2*r){const u=[];for(const h in s)u[h]=s[h];return u}else return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+gx(this.getPriority().val())+":"),this.forEachChild(rt,(s,r)=>{const o=r.hash();o!==""&&(e+=":"+s+":"+o)}),this.lazyHash_=e===""?"":F1(e)}return this.lazyHash_}getPredecessorChildName(e,s,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new xe(e,s));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new xe(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new xe(s,this.children_.get(s)):null}forEachChild(e,s){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,xe.Wrap);let c=o.peek();for(;c!=null&&s.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,xe.Wrap);let c=o.peek();for(;c!=null&&s.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vo?-1:0}withIndex(e){if(e===zr||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new de(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===zr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(rt),o=s.getIterator(rt);let c=r.getNext(),u=o.getNext();for(;c&&u;){if(c.name!==u.name||!c.node.equals(u.node))return!1;c=r.getNext(),u=o.getNext()}return c===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===zr?null:this.indexMap_.get(e.toString())}}de.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class HN extends de{constructor(){super(new Qt(Lm),de.EMPTY_NODE,ui.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return de.EMPTY_NODE}isEmpty(){return!1}}const Vo=new HN;Object.defineProperties(xe,{MIN:{value:new xe(Ur,de.EMPTY_NODE)},MAX:{value:new xe(Os,Vo)}});px.__EMPTY_NODE=de.EMPTY_NODE;xt.__childrenNodeConstructor=de;jN(Vo);PN(Vo);const GN=!0;function yt(t,e=null){if(t===null)return de.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const s=t;return new xt(s,yt(e))}if(!(t instanceof Array)&&GN){const s=[];let r=!1;if(Rt(t,(u,h)=>{if(u.substring(0,1)!=="."){const m=yt(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),s.push(new xe(u,m)))}}),s.length===0)return de.EMPTY_NODE;const c=Vc(s,BN,u=>u.name,Lm);if(r){const u=Vc(s,rt.getCompare());return new de(c,yt(e),new ui({".priority":u},{".priority":rt}))}else return new de(c,yt(e),ui.Default)}else{let s=de.EMPTY_NODE;return Rt(t,(r,o)=>{if(qn(t,r)&&r.substring(0,1)!=="."){const c=yt(o);(c.isLeafNode()||!c.isEmpty())&&(s=s.updateImmediateChild(r,c))}}),s.updatePriority(yt(e))}}zN(yt);class WN extends lu{constructor(e){super(),this.indexPath_=e,te(!Ce(e)&&be(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,s){const r=this.extractChild(e.node),o=this.extractChild(s.node),c=r.compareTo(o);return c===0?zs(e.name,s.name):c}makePost(e,s){const r=yt(e),o=de.EMPTY_NODE.updateChild(this.indexPath_,r);return new xe(s,o)}maxPost(){const e=de.EMPTY_NODE.updateChild(this.indexPath_,Vo);return new xe(Os,e)}toString(){return wo(this.indexPath_,0).join("/")}}class FN extends lu{compare(e,s){const r=e.node.compareTo(s.node);return r===0?zs(e.name,s.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,s){return!e.equals(s)}minPost(){return xe.MIN}maxPost(){return xe.MAX}makePost(e,s){const r=yt(e);return new xe(s,r)}toString(){return".value"}}const YN=new FN;function bx(t){return{type:"value",snapshotNode:t}}function qr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function To(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Co(t,e,s){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:s}}function QN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}class Bm{constructor(e){this.index_=e}updateChild(e,s,r,o,c,u){te(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(s);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(u!=null&&(r.isEmpty()?e.hasChild(s)?u.trackChildChange(To(s,h)):te(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(qr(s,r)):u.trackChildChange(Co(s,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(e,s,r){return r!=null&&(e.isLeafNode()||e.forEachChild(rt,(o,c)=>{s.hasChild(o)||r.trackChildChange(To(o,c))}),s.isLeafNode()||s.forEachChild(rt,(o,c)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(c)||r.trackChildChange(Co(o,c,u))}else r.trackChildChange(qr(o,c))})),s.withIndex(this.index_)}updatePriority(e,s){return e.isEmpty()?de.EMPTY_NODE:e.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Eo{constructor(e){this.indexedFilter_=new Bm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Eo.getStartPost_(e),this.endPost_=Eo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return s&&r}updateChild(e,s,r,o,c,u){return this.matches(new xe(s,r))||(r=de.EMPTY_NODE),this.indexedFilter_.updateChild(e,s,r,o,c,u)}updateFullNode(e,s,r){s.isLeafNode()&&(s=de.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(de.EMPTY_NODE);const c=this;return s.forEachChild(rt,(u,h)=>{c.matches(new xe(u,h))||(o=o.updateImmediateChild(u,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const s=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),s)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const s=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),s)}else return e.getIndex().maxPost()}}class KN{constructor(e){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Eo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,s,r,o,c,u){return this.rangedFilter_.matches(new xe(s,r))||(r=de.EMPTY_NODE),e.getImmediateChild(s).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,s,r,o,c,u):this.fullLimitUpdateChild_(e,s,r,c,u)}updateFullNode(e,s,r){let o;if(s.isLeafNode()||s.isEmpty())o=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=de.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;c.hasNext()&&u<this.limit_;){const h=c.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(de.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let u=0;for(;c.hasNext();){const h=c.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:o=o.updateImmediateChild(h.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,s,r,o,c){let u;if(this.reverse_){const v=this.index_.getCompare();u=(_,S)=>v(S,_)}else u=this.index_.getCompare();const h=e;te(h.numChildren()===this.limit_,"");const m=new xe(s,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(m);if(h.hasChild(s)){const v=h.getImmediateChild(s);let _=o.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===s||h.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const S=_==null?1:u(_,m);if(g&&!r.isEmpty()&&S>=0)return c?.trackChildChange(Co(s,r,v)),h.updateImmediateChild(s,r);{c?.trackChildChange(To(s,v));const N=h.updateImmediateChild(s,de.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(c?.trackChildChange(qr(_.name,_.node)),N.updateImmediateChild(_.name,_.node)):N}}else return r.isEmpty()?e:g&&u(p,m)>=0?(c!=null&&(c.trackChildChange(To(p.name,p.node)),c.trackChildChange(qr(s,r))),h.updateImmediateChild(s,r).updateImmediateChild(p.name,de.EMPTY_NODE)):e}}class jm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ur}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Os}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rt}copy(){const e=new jm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function XN(t){return t.loadsAllData()?new Bm(t.getIndex()):t.hasLimit()?new KN(t):new Eo(t)}function M_(t){const e={};if(t.isDefault())return e;let s;if(t.index_===rt?s="$priority":t.index_===YN?s="$value":t.index_===zr?s="$key":(te(t.index_ instanceof WN,"Unrecognized index type!"),s=t.index_.toString()),e.orderBy=vt(s),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=vt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+vt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=vt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+vt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function N_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let s=t.viewFrom_;s===""&&(t.isViewFromLeft()?s="l":s="r"),e.vf=s}return t.index_!==rt&&(e.i=t.index_.toString()),e}class Uc extends fx{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,s){return s!==void 0?"tag$"+s:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,s,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Po("p:rest:"),this.listens_={}}listen(e,s,r,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const u=Uc.getListenId_(e,r),h={};this.listens_[u]=h;const m=M_(e._queryParams);this.restRequest_(c+".json",m,(p,g)=>{let v=g;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(c,v,!1,r),Vr(this.listens_,u)===h){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",o(_,null)}})}unlisten(e,s){const r=Uc.getListenId_(e,s);delete this.listens_[r]}get(e){const s=M_(e._queryParams),r=e._path.toString(),o=new Bo;return this.restRequest_(r+".json",s,(c,u)=>{let h=u;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(s.auth=o.accessToken),c&&c.token&&(s.ac=c.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+SA(s);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=_o(h.responseText)}catch{Vt("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,m)}else h.status!==401&&h.status!==404&&Vt("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}class ZN{constructor(){this.rootNode_=de.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,s){this.rootNode_=this.rootNode_.updateChild(e,s)}}function qc(){return{value:null,children:new Map}}function xx(t,e,s){if(Ce(e))t.value=s,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,s);else{const r=be(e);t.children.has(r)||t.children.set(r,qc());const o=t.children.get(r);e=Ye(e),xx(o,e,s)}}function Vh(t,e,s){t.value!==null?s(e,t.value):JN(t,(r,o)=>{const c=new He(e.toString()+"/"+r);Vh(o,c,s)})}function JN(t,e){t.children.forEach((s,r)=>{e(r,s)})}class $N{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),s={...e};return this.last_&&Rt(this.last_,(r,o)=>{s[r]=s[r]-o}),this.last_=e,s}}const R_=10*1e3,eR=30*1e3,tR=300*1e3;class nR{constructor(e,s){this.server_=s,this.statsToReport_={},this.statsListener_=new $N(e);const r=R_+(eR-R_)*Math.random();lo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),s={};let r=!1;Rt(e,(o,c)=>{c>0&&qn(this.statsToReport_,o)&&(s[o]=c,r=!0)}),r&&this.server_.reportStats(s),lo(this.reportStats_.bind(this),Math.floor(Math.random()*2*tR))}}var Rn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rn||(Rn={}));function zm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Pm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Vm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Hc{constructor(e,s,r){this.path=e,this.affectedTree=s,this.revert=r,this.type=Rn.ACK_USER_WRITE,this.source=zm()}operationForChild(e){if(Ce(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new He(e));return new Hc(Oe(),s,this.revert)}}else return te(be(this.path)===e,"operationForChild called for unrelated child."),new Hc(Ye(this.path),this.affectedTree,this.revert)}}class Ao{constructor(e,s){this.source=e,this.path=s,this.type=Rn.LISTEN_COMPLETE}operationForChild(e){return Ce(this.path)?new Ao(this.source,Oe()):new Ao(this.source,Ye(this.path))}}class ks{constructor(e,s,r){this.source=e,this.path=s,this.snap=r,this.type=Rn.OVERWRITE}operationForChild(e){return Ce(this.path)?new ks(this.source,Oe(),this.snap.getImmediateChild(e)):new ks(this.source,Ye(this.path),this.snap)}}class Hr{constructor(e,s,r){this.source=e,this.path=s,this.children=r,this.type=Rn.MERGE}operationForChild(e){if(Ce(this.path)){const s=this.children.subtree(new He(e));return s.isEmpty()?null:s.value?new ks(this.source,Oe(),s.value):new Hr(this.source,Oe(),s)}else return te(be(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hr(this.source,Ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class es{constructor(e,s,r){this.node_=e,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const s=be(e);return this.isCompleteForChild(s)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class iR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function sR(t,e,s,r){const o=[],c=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&c.push(QN(u.childName,u.snapshotNode))}),to(t,o,"child_removed",e,r,s),to(t,o,"child_added",e,r,s),to(t,o,"child_moved",c,r,s),to(t,o,"child_changed",e,r,s),to(t,o,"value",e,r,s),o}function to(t,e,s,r,o,c){const u=r.filter(h=>h.type===s);u.sort((h,m)=>aR(t,h,m)),u.forEach(h=>{const m=rR(t,h,c);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,t.query_))})})}function rR(t,e,s){return e.type==="value"||e.type==="child_removed"||(e.prevName=s.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function aR(t,e,s){if(e.childName==null||s.childName==null)throw Yr("Should only compare child_ events.");const r=new xe(e.childName,e.snapshotNode),o=new xe(s.childName,s.snapshotNode);return t.index_.compare(r,o)}function cu(t,e){return{eventCache:t,serverCache:e}}function co(t,e,s,r){return cu(new es(e,s,r),t.serverCache)}function Sx(t,e,s,r){return cu(t.eventCache,new es(e,s,r))}function Gc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ls(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let ah;const oR=()=>(ah||(ah=new Qt(WM)),ah);class We{static fromObject(e){let s=new We(null);return Rt(e,(r,o)=>{s=s.set(new He(r),o)}),s}constructor(e,s=oR()){this.value=e,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,s){if(this.value!=null&&s(this.value))return{path:Oe(),value:this.value};if(Ce(e))return null;{const r=be(e),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Ye(e),s);return c!=null?{path:st(new He(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ce(e))return this;{const s=be(e),r=this.children.get(s);return r!==null?r.subtree(Ye(e)):new We(null)}}set(e,s){if(Ce(e))return new We(s,this.children);{const r=be(e),c=(this.children.get(r)||new We(null)).set(Ye(e),s),u=this.children.insert(r,c);return new We(this.value,u)}}remove(e){if(Ce(e))return this.children.isEmpty()?new We(null):new We(null,this.children);{const s=be(e),r=this.children.get(s);if(r){const o=r.remove(Ye(e));let c;return o.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,o),this.value===null&&c.isEmpty()?new We(null):new We(this.value,c)}else return this}}get(e){if(Ce(e))return this.value;{const s=be(e),r=this.children.get(s);return r?r.get(Ye(e)):null}}setTree(e,s){if(Ce(e))return s;{const r=be(e),c=(this.children.get(r)||new We(null)).setTree(Ye(e),s);let u;return c.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,c),new We(this.value,u)}}fold(e){return this.fold_(Oe(),e)}fold_(e,s){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(st(e,o),s)}),s(e,this.value,r)}findOnPath(e,s){return this.findOnPath_(e,Oe(),s)}findOnPath_(e,s,r){const o=this.value?r(s,this.value):!1;if(o)return o;if(Ce(e))return null;{const c=be(e),u=this.children.get(c);return u?u.findOnPath_(Ye(e),st(s,c),r):null}}foreachOnPath(e,s){return this.foreachOnPath_(e,Oe(),s)}foreachOnPath_(e,s,r){if(Ce(e))return this;{this.value&&r(s,this.value);const o=be(e),c=this.children.get(o);return c?c.foreachOnPath_(Ye(e),st(s,o),r):new We(null)}}foreach(e){this.foreach_(Oe(),e)}foreach_(e,s){this.children.inorderTraversal((r,o)=>{o.foreach_(st(e,r),s)}),this.value&&s(e,this.value)}foreachChild(e){this.children.inorderTraversal((s,r)=>{r.value&&e(s,r.value)})}}class Dn{constructor(e){this.writeTree_=e}static empty(){return new Dn(new We(null))}}function uo(t,e,s){if(Ce(e))return new Dn(new We(s));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let c=r.value;const u=Bt(o,e);return c=c.updateChild(u,s),new Dn(t.writeTree_.set(o,c))}else{const o=new We(s),c=t.writeTree_.setTree(e,o);return new Dn(c)}}}function Uh(t,e,s){let r=t;return Rt(s,(o,c)=>{r=uo(r,st(e,o),c)}),r}function I_(t,e){if(Ce(e))return Dn.empty();{const s=t.writeTree_.setTree(e,new We(null));return new Dn(s)}}function qh(t,e){return Ps(t,e)!=null}function Ps(t,e){const s=t.writeTree_.findRootMostValueAndPath(e);return s!=null?t.writeTree_.get(s.path).getChild(Bt(s.path,e)):null}function D_(t){const e=[],s=t.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(rt,(r,o)=>{e.push(new xe(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new xe(r,o.value))}),e}function Zi(t,e){if(Ce(e))return t;{const s=Ps(t,e);return s!=null?new Dn(new We(s)):new Dn(t.writeTree_.subtree(e))}}function Hh(t){return t.writeTree_.isEmpty()}function Gr(t,e){return wx(Oe(),t.writeTree_,e)}function wx(t,e,s){if(e.value!=null)return s.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(te(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):s=wx(st(t,o),c,s)}),!s.getChild(t).isEmpty()&&r!==null&&(s=s.updateChild(st(t,".priority"),r)),s}}function uu(t,e){return Ax(e,t)}function lR(t,e,s,r,o){te(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:s,writeId:r,visible:o}),o&&(t.visibleWrites=uo(t.visibleWrites,e,s)),t.lastWriteId=r}function cR(t,e,s,r){te(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:s,writeId:r,visible:!0}),t.visibleWrites=Uh(t.visibleWrites,e,s),t.lastWriteId=r}function uR(t,e){for(let s=0;s<t.allWrites.length;s++){const r=t.allWrites[s];if(r.writeId===e)return r}return null}function fR(t,e){const s=t.allWrites.findIndex(h=>h.writeId===e);te(s>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[s];t.allWrites.splice(s,1);let o=r.visible,c=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=s&&dR(h,r.path)?o=!1:vn(r.path,h.path)&&(c=!0)),u--}if(o){if(c)return hR(t),!0;if(r.snap)t.visibleWrites=I_(t.visibleWrites,r.path);else{const h=r.children;Rt(h,m=>{t.visibleWrites=I_(t.visibleWrites,st(r.path,m))})}return!0}else return!1}function dR(t,e){if(t.snap)return vn(t.path,e);for(const s in t.children)if(t.children.hasOwnProperty(s)&&vn(st(t.path,s),e))return!0;return!1}function hR(t){t.visibleWrites=Tx(t.allWrites,mR,Oe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function mR(t){return t.visible}function Tx(t,e,s){let r=Dn.empty();for(let o=0;o<t.length;++o){const c=t[o];if(e(c)){const u=c.path;let h;if(c.snap)vn(s,u)?(h=Bt(s,u),r=uo(r,h,c.snap)):vn(u,s)&&(h=Bt(u,s),r=uo(r,Oe(),c.snap.getChild(h)));else if(c.children){if(vn(s,u))h=Bt(s,u),r=Uh(r,h,c.children);else if(vn(u,s))if(h=Bt(u,s),Ce(h))r=Uh(r,Oe(),c.children);else{const m=Vr(c.children,be(h));if(m){const p=m.getChild(Ye(h));r=uo(r,Oe(),p)}}}else throw Yr("WriteRecord should have .snap or .children")}}return r}function Cx(t,e,s,r,o){if(!r&&!o){const c=Ps(t.visibleWrites,e);if(c!=null)return c;{const u=Zi(t.visibleWrites,e);if(Hh(u))return s;if(s==null&&!qh(u,Oe()))return null;{const h=s||de.EMPTY_NODE;return Gr(u,h)}}}else{const c=Zi(t.visibleWrites,e);if(!o&&Hh(c))return s;if(!o&&s==null&&!qh(c,Oe()))return null;{const u=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(vn(p.path,e)||vn(e,p.path))},h=Tx(t.allWrites,u,e),m=s||de.EMPTY_NODE;return Gr(h,m)}}}function pR(t,e,s){let r=de.EMPTY_NODE;const o=Ps(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(rt,(c,u)=>{r=r.updateImmediateChild(c,u)}),r;if(s){const c=Zi(t.visibleWrites,e);return s.forEachChild(rt,(u,h)=>{const m=Gr(Zi(c,new He(u)),h);r=r.updateImmediateChild(u,m)}),D_(c).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}else{const c=Zi(t.visibleWrites,e);return D_(c).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}}function gR(t,e,s,r,o){te(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=st(e,s);if(qh(t.visibleWrites,c))return null;{const u=Zi(t.visibleWrites,c);return Hh(u)?o.getChild(s):Gr(u,o.getChild(s))}}function yR(t,e,s,r){const o=st(e,s),c=Ps(t.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(s)){const u=Zi(t.visibleWrites,o);return Gr(u,r.getNode().getImmediateChild(s))}else return null}function vR(t,e){return Ps(t.visibleWrites,e)}function _R(t,e,s,r,o,c,u){let h;const m=Zi(t.visibleWrites,e),p=Ps(m,Oe());if(p!=null)h=p;else if(s!=null)h=Gr(m,s);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const g=[],v=u.getCompare(),_=c?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let S=_.getNext();for(;S&&g.length<o;)v(S,r)!==0&&g.push(S),S=_.getNext();return g}else return[]}function bR(){return{visibleWrites:Dn.empty(),allWrites:[],lastWriteId:-1}}function Wc(t,e,s,r){return Cx(t.writeTree,t.treePath,e,s,r)}function Um(t,e){return pR(t.writeTree,t.treePath,e)}function O_(t,e,s,r){return gR(t.writeTree,t.treePath,e,s,r)}function Fc(t,e){return vR(t.writeTree,st(t.treePath,e))}function xR(t,e,s,r,o,c){return _R(t.writeTree,t.treePath,e,s,r,o,c)}function qm(t,e,s){return yR(t.writeTree,t.treePath,e,s)}function Ex(t,e){return Ax(st(t.treePath,e),t.writeTree)}function Ax(t,e){return{treePath:t,writeTree:e}}class SR{constructor(){this.changeMap=new Map}trackChildChange(e){const s=e.type,r=e.childName;te(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(s==="child_added"&&c==="child_removed")this.changeMap.set(r,Co(r,e.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&c==="child_changed")this.changeMap.set(r,To(r,o.oldSnap));else if(s==="child_changed"&&c==="child_added")this.changeMap.set(r,qr(r,e.snapshotNode));else if(s==="child_changed"&&c==="child_changed")this.changeMap.set(r,Co(r,e.snapshotNode,o.oldSnap));else throw Yr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class wR{getCompleteChild(e){return null}getChildAfterChild(e,s,r){return null}}const Mx=new wR;class Hm{constructor(e,s,r=null){this.writes_=e,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(e){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(e))return s.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new es(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qm(this.writes_,e,r)}}getChildAfterChild(e,s,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ls(this.viewCache_),c=xR(this.writes_,o,s,1,r,e);return c.length===0?null:c[0]}}function TR(t){return{filter:t}}function CR(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ER(t,e,s,r,o){const c=new SR;let u,h;if(s.type===Rn.OVERWRITE){const p=s;p.source.fromUser?u=Gh(t,e,p.path,p.snap,r,o,c):(te(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Ce(p.path),u=Yc(t,e,p.path,p.snap,r,o,h,c))}else if(s.type===Rn.MERGE){const p=s;p.source.fromUser?u=MR(t,e,p.path,p.children,r,o,c):(te(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),u=Wh(t,e,p.path,p.children,r,o,h,c))}else if(s.type===Rn.ACK_USER_WRITE){const p=s;p.revert?u=IR(t,e,p.path,r,o,c):u=NR(t,e,p.path,p.affectedTree,r,o,c)}else if(s.type===Rn.LISTEN_COMPLETE)u=RR(t,e,s.path,r,c);else throw Yr("Unknown operation type: "+s.type);const m=c.getChanges();return AR(e,u,m),{viewCache:u,changes:m}}function AR(t,e,s){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=Gc(t);(s.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&s.push(bx(Gc(e)))}}function Nx(t,e,s,r,o,c){const u=e.eventCache;if(Fc(r,s)!=null)return e;{let h,m;if(Ce(s))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Ls(e),g=p instanceof de?p:de.EMPTY_NODE,v=Um(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),v,c)}else{const p=Wc(r,Ls(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,c)}else{const p=be(s);if(p===".priority"){te($i(s)===1,"Can't have a priority with additional path components");const g=u.getNode();m=e.serverCache.getNode();const v=O_(r,s,g,m);v!=null?h=t.filter.updatePriority(g,v):h=u.getNode()}else{const g=Ye(s);let v;if(u.isCompleteForChild(p)){m=e.serverCache.getNode();const _=O_(r,s,u.getNode(),m);_!=null?v=u.getNode().getImmediateChild(p).updateChild(g,_):v=u.getNode().getImmediateChild(p)}else v=qm(r,p,e.serverCache);v!=null?h=t.filter.updateChild(u.getNode(),p,v,g,o,c):h=u.getNode()}}return co(e,h,u.isFullyInitialized()||Ce(s),t.filter.filtersNodes())}}function Yc(t,e,s,r,o,c,u,h){const m=e.serverCache;let p;const g=u?t.filter:t.filter.getIndexedFilter();if(Ce(s))p=g.updateFullNode(m.getNode(),r,null);else if(g.filtersNodes()&&!m.isFiltered()){const S=m.getNode().updateChild(s,r);p=g.updateFullNode(m.getNode(),S,null)}else{const S=be(s);if(!m.isCompleteForPath(s)&&$i(s)>1)return e;const T=Ye(s),I=m.getNode().getImmediateChild(S).updateChild(T,r);S===".priority"?p=g.updatePriority(m.getNode(),I):p=g.updateChild(m.getNode(),S,I,T,Mx,null)}const v=Sx(e,p,m.isFullyInitialized()||Ce(s),g.filtersNodes()),_=new Hm(o,v,c);return Nx(t,v,s,o,_,h)}function Gh(t,e,s,r,o,c,u){const h=e.eventCache;let m,p;const g=new Hm(o,e,c);if(Ce(s))p=t.filter.updateFullNode(e.eventCache.getNode(),r,u),m=co(e,p,!0,t.filter.filtersNodes());else{const v=be(s);if(v===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),m=co(e,p,h.isFullyInitialized(),h.isFiltered());else{const _=Ye(s),S=h.getNode().getImmediateChild(v);let T;if(Ce(_))T=r;else{const N=g.getCompleteChild(v);N!=null?Dm(_)===".priority"&&N.getChild(hx(_)).isEmpty()?T=N:T=N.updateChild(_,r):T=de.EMPTY_NODE}if(S.equals(T))m=e;else{const N=t.filter.updateChild(h.getNode(),v,T,_,g,u);m=co(e,N,h.isFullyInitialized(),t.filter.filtersNodes())}}}return m}function k_(t,e){return t.eventCache.isCompleteForChild(e)}function MR(t,e,s,r,o,c,u){let h=e;return r.foreach((m,p)=>{const g=st(s,m);k_(e,be(g))&&(h=Gh(t,h,g,p,o,c,u))}),r.foreach((m,p)=>{const g=st(s,m);k_(e,be(g))||(h=Gh(t,h,g,p,o,c,u))}),h}function L_(t,e,s){return s.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Wh(t,e,s,r,o,c,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;Ce(s)?p=r:p=new We(null).setTree(s,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((v,_)=>{if(g.hasChild(v)){const S=e.serverCache.getNode().getImmediateChild(v),T=L_(t,S,_);m=Yc(t,m,new He(v),T,o,c,u,h)}}),p.children.inorderTraversal((v,_)=>{const S=!e.serverCache.isCompleteForChild(v)&&_.value===null;if(!g.hasChild(v)&&!S){const T=e.serverCache.getNode().getImmediateChild(v),N=L_(t,T,_);m=Yc(t,m,new He(v),N,o,c,u,h)}}),m}function NR(t,e,s,r,o,c,u){if(Fc(o,s)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(Ce(s)&&m.isFullyInitialized()||m.isCompleteForPath(s))return Yc(t,e,s,m.getNode().getChild(s),o,c,h,u);if(Ce(s)){let p=new We(null);return m.getNode().forEachChild(zr,(g,v)=>{p=p.set(new He(g),v)}),Wh(t,e,s,p,o,c,h,u)}else return e}else{let p=new We(null);return r.foreach((g,v)=>{const _=st(s,g);m.isCompleteForPath(_)&&(p=p.set(g,m.getNode().getChild(_)))}),Wh(t,e,s,p,o,c,h,u)}}function RR(t,e,s,r,o){const c=e.serverCache,u=Sx(e,c.getNode(),c.isFullyInitialized()||Ce(s),c.isFiltered());return Nx(t,u,s,r,Mx,o)}function IR(t,e,s,r,o,c){let u;if(Fc(r,s)!=null)return e;{const h=new Hm(r,e,o),m=e.eventCache.getNode();let p;if(Ce(s)||be(s)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Wc(r,Ls(e));else{const v=e.serverCache.getNode();te(v instanceof de,"serverChildren would be complete if leaf node"),g=Um(r,v)}g=g,p=t.filter.updateFullNode(m,g,c)}else{const g=be(s);let v=qm(r,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=m.getImmediateChild(g)),v!=null?p=t.filter.updateChild(m,g,v,Ye(s),h,c):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(m,g,de.EMPTY_NODE,Ye(s),h,c):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Wc(r,Ls(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,c)))}return u=e.serverCache.isFullyInitialized()||Fc(r,Oe())!=null,co(e,p,u,t.filter.filtersNodes())}}class DR{constructor(e,s){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Bm(r.getIndex()),c=XN(r);this.processor_=TR(c);const u=s.serverCache,h=s.eventCache,m=o.updateFullNode(de.EMPTY_NODE,u.getNode(),null),p=c.updateFullNode(de.EMPTY_NODE,h.getNode(),null),g=new es(m,u.isFullyInitialized(),o.filtersNodes()),v=new es(p,h.isFullyInitialized(),c.filtersNodes());this.viewCache_=cu(v,g),this.eventGenerator_=new iR(this.query_)}get query(){return this.query_}}function OR(t){return t.viewCache_.serverCache.getNode()}function kR(t){return Gc(t.viewCache_)}function LR(t,e){const s=Ls(t.viewCache_);return s&&(t.query._queryParams.loadsAllData()||!Ce(e)&&!s.getImmediateChild(be(e)).isEmpty())?s.getChild(e):null}function B_(t){return t.eventRegistrations_.length===0}function BR(t,e){t.eventRegistrations_.push(e)}function j_(t,e,s){const r=[];if(s){te(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(c=>{const u=c.createCancelEvent(s,o);u&&r.push(u)})}if(e){let o=[];for(let c=0;c<t.eventRegistrations_.length;++c){const u=t.eventRegistrations_[c];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(c+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function z_(t,e,s,r){e.type===Rn.MERGE&&e.source.queryId!==null&&(te(Ls(t.viewCache_),"We should always have a full cache before handling merges"),te(Gc(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,c=ER(t.processor_,o,e,s,r);return CR(t.processor_,c.viewCache),te(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,Rx(t,c.changes,c.viewCache.eventCache.getNode(),null)}function jR(t,e){const s=t.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(rt,(c,u)=>{r.push(qr(c,u))}),s.isFullyInitialized()&&r.push(bx(s.getNode())),Rx(t,r,s.getNode(),e)}function Rx(t,e,s,r){const o=r?[r]:t.eventRegistrations_;return sR(t.eventGenerator_,e,s,o)}let Qc;class Ix{constructor(){this.views=new Map}}function zR(t){te(!Qc,"__referenceConstructor has already been defined"),Qc=t}function PR(){return te(Qc,"Reference.ts has not been loaded"),Qc}function VR(t){return t.views.size===0}function Gm(t,e,s,r){const o=e.source.queryId;if(o!==null){const c=t.views.get(o);return te(c!=null,"SyncTree gave us an op for an invalid query."),z_(c,e,s,r)}else{let c=[];for(const u of t.views.values())c=c.concat(z_(u,e,s,r));return c}}function Dx(t,e,s,r,o){const c=e._queryIdentifier,u=t.views.get(c);if(!u){let h=Wc(s,o?r:null),m=!1;h?m=!0:r instanceof de?(h=Um(s,r),m=!1):(h=de.EMPTY_NODE,m=!1);const p=cu(new es(h,m,!1),new es(r,o,!1));return new DR(e,p)}return u}function UR(t,e,s,r,o,c){const u=Dx(t,e,r,o,c);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),BR(u,s),jR(u,s)}function qR(t,e,s,r){const o=e._queryIdentifier,c=[];let u=[];const h=ts(t);if(o==="default")for(const[m,p]of t.views.entries())u=u.concat(j_(p,s,r)),B_(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query));else{const m=t.views.get(o);m&&(u=u.concat(j_(m,s,r)),B_(m)&&(t.views.delete(o),m.query._queryParams.loadsAllData()||c.push(m.query)))}return h&&!ts(t)&&c.push(new(PR())(e._repo,e._path)),{removed:c,events:u}}function Ox(t){const e=[];for(const s of t.views.values())s.query._queryParams.loadsAllData()||e.push(s);return e}function Ji(t,e){let s=null;for(const r of t.views.values())s=s||LR(r,e);return s}function kx(t,e){if(e._queryParams.loadsAllData())return fu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Lx(t,e){return kx(t,e)!=null}function ts(t){return fu(t)!=null}function fu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Kc;function HR(t){te(!Kc,"__referenceConstructor has already been defined"),Kc=t}function GR(){return te(Kc,"Reference.ts has not been loaded"),Kc}let WR=1;class P_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new We(null),this.pendingWriteTree_=bR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bx(t,e,s,r,o){return lR(t.pendingWriteTree_,e,s,r,o),o?Xr(t,new ks(zm(),e,s)):[]}function FR(t,e,s,r){cR(t.pendingWriteTree_,e,s,r);const o=We.fromObject(s);return Xr(t,new Hr(zm(),e,o))}function Yi(t,e,s=!1){const r=uR(t.pendingWriteTree_,e);if(fR(t.pendingWriteTree_,e)){let c=new We(null);return r.snap!=null?c=c.set(Oe(),!0):Rt(r.children,u=>{c=c.set(new He(u),!0)}),Xr(t,new Hc(r.path,c,s))}else return[]}function Uo(t,e,s){return Xr(t,new ks(Pm(),e,s))}function YR(t,e,s){const r=We.fromObject(s);return Xr(t,new Hr(Pm(),e,r))}function QR(t,e){return Xr(t,new Ao(Pm(),e))}function KR(t,e,s){const r=Fm(t,s);if(r){const o=Ym(r),c=o.path,u=o.queryId,h=Bt(c,e),m=new Ao(Vm(u),h);return Qm(t,c,m)}else return[]}function Xc(t,e,s,r,o=!1){const c=e._path,u=t.syncPointTree_.get(c);let h=[];if(u&&(e._queryIdentifier==="default"||Lx(u,e))){const m=qR(u,e,s,r);VR(u)&&(t.syncPointTree_=t.syncPointTree_.remove(c));const p=m.removed;if(h=m.events,!o){const g=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(c,(_,S)=>ts(S));if(g&&!v){const _=t.syncPointTree_.subtree(c);if(!_.isEmpty()){const S=JR(_);for(let T=0;T<S.length;++T){const N=S[T],I=N.query,D=Vx(t,N);t.listenProvider_.startListening(fo(I),Mo(t,I),D.hashFn,D.onComplete)}}}!v&&p.length>0&&!r&&(g?t.listenProvider_.stopListening(fo(e),null):p.forEach(_=>{const S=t.queryToTagMap.get(du(_));t.listenProvider_.stopListening(fo(_),S)}))}$R(t,p)}return h}function jx(t,e,s,r){const o=Fm(t,r);if(o!=null){const c=Ym(o),u=c.path,h=c.queryId,m=Bt(u,e),p=new ks(Vm(h),m,s);return Qm(t,u,p)}else return[]}function XR(t,e,s,r){const o=Fm(t,r);if(o){const c=Ym(o),u=c.path,h=c.queryId,m=Bt(u,e),p=We.fromObject(s),g=new Hr(Vm(h),m,p);return Qm(t,u,g)}else return[]}function Fh(t,e,s,r=!1){const o=e._path;let c=null,u=!1;t.syncPointTree_.foreachOnPath(o,(_,S)=>{const T=Bt(_,o);c=c||Ji(S,T),u=u||ts(S)});let h=t.syncPointTree_.get(o);h?(u=u||ts(h),c=c||Ji(h,Oe())):(h=new Ix,t.syncPointTree_=t.syncPointTree_.set(o,h));let m;c!=null?m=!0:(m=!1,c=de.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((S,T)=>{const N=Ji(T,Oe());N&&(c=c.updateImmediateChild(S,N))}));const p=Lx(h,e);if(!p&&!e._queryParams.loadsAllData()){const _=du(e);te(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const S=e2();t.queryToTagMap.set(_,S),t.tagToQueryMap.set(S,_)}const g=uu(t.pendingWriteTree_,o);let v=UR(h,e,s,g,c,m);if(!p&&!u&&!r){const _=kx(h,e);v=v.concat(t2(t,e,_))}return v}function Wm(t,e,s){const o=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(e,(u,h)=>{const m=Bt(u,e),p=Ji(h,m);if(p)return p});return Cx(o,e,c,s,!0)}function ZR(t,e){const s=e._path;let r=null;t.syncPointTree_.foreachOnPath(s,(p,g)=>{const v=Bt(p,s);r=r||Ji(g,v)});let o=t.syncPointTree_.get(s);o?r=r||Ji(o,Oe()):(o=new Ix,t.syncPointTree_=t.syncPointTree_.set(s,o));const c=r!=null,u=c?new es(r,!0,!1):null,h=uu(t.pendingWriteTree_,e._path),m=Dx(o,e,h,c?u.getNode():de.EMPTY_NODE,c);return kR(m)}function Xr(t,e){return zx(e,t.syncPointTree_,null,uu(t.pendingWriteTree_,Oe()))}function zx(t,e,s,r){if(Ce(t.path))return Px(t,e,s,r);{const o=e.get(Oe());s==null&&o!=null&&(s=Ji(o,Oe()));let c=[];const u=be(t.path),h=t.operationForChild(u),m=e.children.get(u);if(m&&h){const p=s?s.getImmediateChild(u):null,g=Ex(r,u);c=c.concat(zx(h,m,p,g))}return o&&(c=c.concat(Gm(o,t,r,s))),c}}function Px(t,e,s,r){const o=e.get(Oe());s==null&&o!=null&&(s=Ji(o,Oe()));let c=[];return e.children.inorderTraversal((u,h)=>{const m=s?s.getImmediateChild(u):null,p=Ex(r,u),g=t.operationForChild(u);g&&(c=c.concat(Px(g,h,m,p)))}),o&&(c=c.concat(Gm(o,t,r,s))),c}function Vx(t,e){const s=e.query,r=Mo(t,s);return{hashFn:()=>(OR(e)||de.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?KR(t,s._path,r):QR(t,s._path);{const c=QM(o,s);return Xc(t,s,null,c)}}}}function Mo(t,e){const s=du(e);return t.queryToTagMap.get(s)}function du(t){return t._path.toString()+"$"+t._queryIdentifier}function Fm(t,e){return t.tagToQueryMap.get(e)}function Ym(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new He(t.substr(0,e))}}function Qm(t,e,s){const r=t.syncPointTree_.get(e);te(r,"Missing sync point for query tag that we're tracking");const o=uu(t.pendingWriteTree_,e);return Gm(r,s,o,null)}function JR(t){return t.fold((e,s,r)=>{if(s&&ts(s))return[fu(s)];{let o=[];return s&&(o=Ox(s)),Rt(r,(c,u)=>{o=o.concat(u)}),o}})}function fo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(GR())(t._repo,t._path):t}function $R(t,e){for(let s=0;s<e.length;++s){const r=e[s];if(!r._queryParams.loadsAllData()){const o=du(r),c=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(c)}}}function e2(){return WR++}function t2(t,e,s){const r=e._path,o=Mo(t,e),c=Vx(t,s),u=t.listenProvider_.startListening(fo(e),o,c.hashFn,c.onComplete),h=t.syncPointTree_.subtree(r);if(o)te(!ts(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,g,v)=>{if(!Ce(p)&&g&&ts(g))return[fu(g).query];{let _=[];return g&&(_=_.concat(Ox(g).map(S=>S.query))),Rt(v,(S,T)=>{_=_.concat(T)}),_}});for(let p=0;p<m.length;++p){const g=m[p];t.listenProvider_.stopListening(fo(g),Mo(t,g))}}return u}class Km{constructor(e){this.node_=e}getImmediateChild(e){const s=this.node_.getImmediateChild(e);return new Km(s)}node(){return this.node_}}class Xm{constructor(e,s){this.syncTree_=e,this.path_=s}getImmediateChild(e){const s=st(this.path_,e);return new Xm(this.syncTree_,s)}node(){return Wm(this.syncTree_,this.path_)}}const n2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},V_=function(t,e,s){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return i2(t[".sv"],e,s);if(typeof t[".sv"]=="object")return s2(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},i2=function(t,e,s){if(t==="timestamp")return s.timestamp;te(!1,"Unexpected server value: "+t)},s2=function(t,e,s){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const o=e.node();if(te(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const u=o.getValue();return typeof u!="number"?r:u+r},Ux=function(t,e,s,r){return Zm(e,new Xm(s,t),r)},qx=function(t,e,s){return Zm(t,new Km(e),s)};function Zm(t,e,s){const r=t.getPriority().val(),o=V_(r,e.getImmediateChild(".priority"),s);let c;if(t.isLeafNode()){const u=t,h=V_(u.getValue(),e,s);return h!==u.getValue()||o!==u.getPriority().val()?new xt(h,yt(o)):t}else{const u=t;return c=u,o!==u.getPriority().val()&&(c=c.updatePriority(new xt(o))),u.forEachChild(rt,(h,m)=>{const p=Zm(m,e.getImmediateChild(h),s);p!==m&&(c=c.updateImmediateChild(h,p))}),c}}class Jm{constructor(e="",s=null,r={children:{},childCount:0}){this.name=e,this.parent=s,this.node=r}}function $m(t,e){let s=e instanceof He?e:new He(e),r=t,o=be(s);for(;o!==null;){const c=Vr(r.node.children,o)||{children:{},childCount:0};r=new Jm(o,r,c),s=Ye(s),o=be(s)}return r}function Zr(t){return t.node.value}function Hx(t,e){t.node.value=e,Yh(t)}function Gx(t){return t.node.childCount>0}function r2(t){return Zr(t)===void 0&&!Gx(t)}function hu(t,e){Rt(t.node.children,(s,r)=>{e(new Jm(s,t,r))})}function Wx(t,e,s,r){s&&e(t),hu(t,o=>{Wx(o,e,!0)})}function a2(t,e,s){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function qo(t){return new He(t.parent===null?t.name:qo(t.parent)+"/"+t.name)}function Yh(t){t.parent!==null&&o2(t.parent,t.name,t)}function o2(t,e,s){const r=r2(s),o=qn(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,Yh(t)):!r&&!o&&(t.node.children[e]=s.node,t.node.childCount++,Yh(t))}const l2=/[\[\].#$\/\u0000-\u001F\u007F]/,c2=/[\[\].#$\u0000-\u001F\u007F]/,oh=10*1024*1024,ep=function(t){return typeof t=="string"&&t.length!==0&&!l2.test(t)},Fx=function(t){return typeof t=="string"&&t.length!==0&&!c2.test(t)},u2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Fx(t)},f2=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Am(t)||t&&typeof t=="object"&&qn(t,".sv")},d2=function(t,e,s,r){mu(au(t,"value"),e,s)},mu=function(t,e,s){const r=s instanceof He?new MN(s,t):s;if(e===void 0)throw new Error(t+"contains undefined "+As(r));if(typeof e=="function")throw new Error(t+"contains a function "+As(r)+" with contents = "+e.toString());if(Am(e))throw new Error(t+"contains "+e.toString()+" "+As(r));if(typeof e=="string"&&e.length>oh/3&&ou(e)>oh)throw new Error(t+"contains a string greater than "+oh+" utf8 bytes "+As(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(Rt(e,(u,h)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(c=!0,!ep(u)))throw new Error(t+" contains an invalid key ("+u+") "+As(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);NN(r,u),mu(t,h,r),RN(r)}),o&&c)throw new Error(t+' contains ".value" child '+As(r)+" in addition to actual children.")}},h2=function(t,e){let s,r;for(s=0;s<e.length;s++){r=e[s];const c=wo(r);for(let u=0;u<c.length;u++)if(!(c[u]===".priority"&&u===c.length-1)){if(!ep(c[u]))throw new Error(t+"contains an invalid key ("+c[u]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(AN);let o=null;for(s=0;s<e.length;s++){if(r=e[s],o!==null&&vn(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},m2=function(t,e,s,r){const o=au(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const c=[];Rt(e,(u,h)=>{const m=new He(u);if(mu(o,h,st(s,m)),Dm(m)===".priority"&&!f2(h))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),h2(o,c)},Yx=function(t,e,s,r){if(!Fx(s))throw new Error(au(t,e)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},p2=function(t,e,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Yx(t,e,s)},g2=function(t,e){if(be(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},y2=function(t,e){const s=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ep(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!u2(s))throw new Error(au(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class v2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pu(t,e){let s=null;for(let r=0;r<e.length;r++){const o=e[r],c=o.getPath();s!==null&&!Om(c,s.path)&&(t.eventLists_.push(s),s=null),s===null&&(s={events:[],path:c}),s.events.push(o)}s&&t.eventLists_.push(s)}function Qx(t,e,s){pu(t,s),Kx(t,r=>Om(r,e))}function xn(t,e,s){pu(t,s),Kx(t,r=>vn(r,e)||vn(e,r))}function Kx(t,e){t.recursionDepth_++;let s=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const c=o.path;e(c)?(_2(t.eventLists_[r]),t.eventLists_[r]=null):s=!1}}s&&(t.eventLists_=[]),t.recursionDepth_--}function _2(t){for(let e=0;e<t.events.length;e++){const s=t.events[e];if(s!==null){t.events[e]=null;const r=s.getEventRunner();oo&&Nt("event: "+s.toString()),Kr(r)}}}const b2="repo_interrupt",x2=25;class S2{constructor(e,s,r,o){this.repoInfo_=e,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qc(),this.transactionQueueTree_=new Jm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function w2(t,e,s){if(t.stats_=Rm(t.repoInfo_),t.forceRestClient_||JM())t.server_=new Uc(t.repoInfo_,(r,o,c,u)=>{U_(t,r,o,c,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>q_(t,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{vt(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new fi(t.repoInfo_,e,(r,o,c,u)=>{U_(t,r,o,c,u)},r=>{q_(t,r)},r=>{C2(t,r)},t.authTokenProvider_,t.appCheckProvider_,s),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=iN(t.repoInfo_,()=>new nR(t.stats_,t.server_)),t.infoData_=new ZN,t.infoSyncTree_=new P_({startListening:(r,o,c,u)=>{let h=[];const m=t.infoData_.getNode(r._path);return m.isEmpty()||(h=Uo(t.infoSyncTree_,r._path,m),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),tp(t,"connected",!1),t.serverSyncTree_=new P_({startListening:(r,o,c,u)=>(t.server_.listen(r,c,o,(h,m)=>{const p=u(h,m);xn(t.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function T2(t){const s=t.infoData_.getNode(new He(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function gu(t){return n2({timestamp:T2(t)})}function U_(t,e,s,r,o){t.dataUpdateCount++;const c=new He(e);s=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,s):s;let u=[];if(o)if(r){const m=kc(s,p=>yt(p));u=XR(t.serverSyncTree_,c,m,o)}else{const m=yt(s);u=jx(t.serverSyncTree_,c,m,o)}else if(r){const m=kc(s,p=>yt(p));u=YR(t.serverSyncTree_,c,m)}else{const m=yt(s);u=Uo(t.serverSyncTree_,c,m)}let h=c;u.length>0&&(h=Wr(t,c)),xn(t.eventQueue_,h,u)}function q_(t,e){tp(t,"connected",e),e===!1&&N2(t)}function C2(t,e){Rt(e,(s,r)=>{tp(t,s,r)})}function tp(t,e,s){const r=new He("/.info/"+e),o=yt(s);t.infoData_.updateSnapshot(r,o);const c=Uo(t.infoSyncTree_,r,o);xn(t.eventQueue_,r,c)}function np(t){return t.nextWriteId_++}function E2(t,e,s){const r=ZR(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(o=>{const c=yt(o).withIndex(e._queryParams.getIndex());Fh(t.serverSyncTree_,e,s,!0);let u;if(e._queryParams.loadsAllData())u=Uo(t.serverSyncTree_,e._path,c);else{const h=Mo(t.serverSyncTree_,e);u=jx(t.serverSyncTree_,e._path,c,h)}return xn(t.eventQueue_,e._path,u),Xc(t.serverSyncTree_,e,s,null,!0),c},o=>(Ho(t,"get for query "+vt(e)+" failed: "+o),Promise.reject(new Error(o))))}function A2(t,e,s,r,o){Ho(t,"set",{path:e.toString(),value:s,priority:r});const c=gu(t),u=yt(s,r),h=Wm(t.serverSyncTree_,e),m=qx(u,h,c),p=np(t),g=Bx(t.serverSyncTree_,e,m,p,!0);pu(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(_,S)=>{const T=_==="ok";T||Vt("set at "+e+" failed: "+_);const N=Yi(t.serverSyncTree_,p,!T);xn(t.eventQueue_,e,N),Qh(t,o,_,S)});const v=sp(t,e);Wr(t,v),xn(t.eventQueue_,v,[])}function M2(t,e,s,r){Ho(t,"update",{path:e.toString(),value:s});let o=!0;const c=gu(t),u={};if(Rt(s,(h,m)=>{o=!1,u[h]=Ux(st(e,h),yt(m),t.serverSyncTree_,c)}),o)Nt("update() called with empty data.  Don't do anything."),Qh(t,r,"ok",void 0);else{const h=np(t),m=FR(t.serverSyncTree_,e,u,h);pu(t.eventQueue_,m),t.server_.merge(e.toString(),s,(p,g)=>{const v=p==="ok";v||Vt("update at "+e+" failed: "+p);const _=Yi(t.serverSyncTree_,h,!v),S=_.length>0?Wr(t,e):e;xn(t.eventQueue_,S,_),Qh(t,r,p,g)}),Rt(s,p=>{const g=sp(t,st(e,p));Wr(t,g)}),xn(t.eventQueue_,e,[])}}function N2(t){Ho(t,"onDisconnectEvents");const e=gu(t),s=qc();Vh(t.onDisconnect_,Oe(),(o,c)=>{const u=Ux(o,c,t.serverSyncTree_,e);xx(s,o,u)});let r=[];Vh(s,Oe(),(o,c)=>{r=r.concat(Uo(t.serverSyncTree_,o,c));const u=sp(t,o);Wr(t,u)}),t.onDisconnect_=qc(),xn(t.eventQueue_,Oe(),r)}function R2(t,e,s){let r;be(e._path)===".info"?r=Fh(t.infoSyncTree_,e,s):r=Fh(t.serverSyncTree_,e,s),Qx(t.eventQueue_,e._path,r)}function I2(t,e,s){let r;be(e._path)===".info"?r=Xc(t.infoSyncTree_,e,s):r=Xc(t.serverSyncTree_,e,s),Qx(t.eventQueue_,e._path,r)}function D2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(b2)}function Ho(t,...e){let s="";t.persistentConnection_&&(s=t.persistentConnection_.id+":"),Nt(s,...e)}function Qh(t,e,s,r){e&&Kr(()=>{if(s==="ok")e(null);else{const o=(s||"error").toUpperCase();let c=o;r&&(c+=": "+r);const u=new Error(c);u.code=o,e(u)}})}function Xx(t,e,s){return Wm(t.serverSyncTree_,e,s)||de.EMPTY_NODE}function ip(t,e=t.transactionQueueTree_){if(e||yu(t,e),Zr(e)){const s=Jx(t,e);te(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&O2(t,qo(e),s)}else Gx(e)&&hu(e,s=>{ip(t,s)})}function O2(t,e,s){const r=s.map(p=>p.currentWriteId),o=Xx(t,e,r);let c=o;const u=o.hash();for(let p=0;p<s.length;p++){const g=s[p];te(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=Bt(e,g.path);c=c.updateChild(v,g.currentOutputSnapshotRaw)}const h=c.val(!0),m=e;t.server_.put(m.toString(),h,p=>{Ho(t,"transaction put response",{path:m.toString(),status:p});let g=[];if(p==="ok"){const v=[];for(let _=0;_<s.length;_++)s[_].status=2,g=g.concat(Yi(t.serverSyncTree_,s[_].currentWriteId)),s[_].onComplete&&v.push(()=>s[_].onComplete(null,!0,s[_].currentOutputSnapshotResolved)),s[_].unwatcher();yu(t,$m(t.transactionQueueTree_,e)),ip(t,t.transactionQueueTree_),xn(t.eventQueue_,e,g);for(let _=0;_<v.length;_++)Kr(v[_])}else{if(p==="datastale")for(let v=0;v<s.length;v++)s[v].status===3?s[v].status=4:s[v].status=0;else{Vt("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<s.length;v++)s[v].status=4,s[v].abortReason=p}Wr(t,e)}},u)}function Wr(t,e){const s=Zx(t,e),r=qo(s),o=Jx(t,s);return k2(t,o,r),r}function k2(t,e,s){if(e.length===0)return;const r=[];let o=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=Bt(s,m.path);let g=!1,v;if(te(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)g=!0,v=m.abortReason,o=o.concat(Yi(t.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=x2)g=!0,v="maxretry",o=o.concat(Yi(t.serverSyncTree_,m.currentWriteId,!0));else{const _=Xx(t,m.path,u);m.currentInputSnapshot=_;const S=e[h].update(_.val());if(S!==void 0){mu("transaction failed: Data returned ",S,m.path);let T=yt(S);typeof S=="object"&&S!=null&&qn(S,".priority")||(T=T.updatePriority(_.getPriority()));const I=m.currentWriteId,D=gu(t),H=qx(T,_,D);m.currentOutputSnapshotRaw=T,m.currentOutputSnapshotResolved=H,m.currentWriteId=np(t),u.splice(u.indexOf(I),1),o=o.concat(Bx(t.serverSyncTree_,m.path,H,m.currentWriteId,m.applyLocally)),o=o.concat(Yi(t.serverSyncTree_,I,!0))}else g=!0,v="nodata",o=o.concat(Yi(t.serverSyncTree_,m.currentWriteId,!0))}xn(t.eventQueue_,s,o),o=[],g&&(e[h].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(v),!1,null))))}yu(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)Kr(r[h]);ip(t,t.transactionQueueTree_)}function Zx(t,e){let s,r=t.transactionQueueTree_;for(s=be(e);s!==null&&Zr(r)===void 0;)r=$m(r,s),e=Ye(e),s=be(e);return r}function Jx(t,e){const s=[];return $x(t,e,s),s.sort((r,o)=>r.order-o.order),s}function $x(t,e,s){const r=Zr(e);if(r)for(let o=0;o<r.length;o++)s.push(r[o]);hu(e,o=>{$x(t,o,s)})}function yu(t,e){const s=Zr(e);if(s){let r=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[r]=s[o],r++);s.length=r,Hx(e,s.length>0?s:void 0)}hu(e,r=>{yu(t,r)})}function sp(t,e){const s=qo(Zx(t,e)),r=$m(t.transactionQueueTree_,e);return a2(r,o=>{lh(t,o)}),lh(t,r),Wx(r,o=>{lh(t,o)}),s}function lh(t,e){const s=Zr(e);if(s){const r=[];let o=[],c=-1;for(let u=0;u<s.length;u++)s[u].status===3||(s[u].status===1?(te(c===u-1,"All SENT items should be at beginning of queue."),c=u,s[u].status=3,s[u].abortReason="set"):(te(s[u].status===0,"Unexpected transaction status in abort"),s[u].unwatcher(),o=o.concat(Yi(t.serverSyncTree_,s[u].currentWriteId,!0)),s[u].onComplete&&r.push(s[u].onComplete.bind(null,new Error("set"),!1,null))));c===-1?Hx(e,void 0):s.length=c+1,xn(t.eventQueue_,qo(e),o);for(let u=0;u<r.length;u++)Kr(r[u])}}function L2(t){let e="";const s=t.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let o=s[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function B2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const s of t.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vt(`Invalid query segment '${s}' in query '${t}'`)}return e}const H_=function(t,e){const s=j2(t),r=s.namespace;s.domain==="firebase.com"&&hi(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&hi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||HM();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new sx(s.host,s.secure,r,o,e,"",r!==s.subdomain),path:new He(s.pathString)}},j2=function(t){let e="",s="",r="",o="",c="",u=!0,h="https",m=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(o=L2(t.substring(g,v)));const _=B2(t.substring(Math.min(t.length,v)));p=e.indexOf(":"),p>=0?(u=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")s="localhost";else if(S.split(".").length<=2)s=S;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),s=e.substring(T+1),c=r}"ns"in _&&(c=_.ns)}return{host:e,port:m,domain:s,subdomain:r,secure:u,scheme:h,pathString:o,namespace:c}};class z2{constructor(e,s,r,o){this.eventType=e,this.eventRegistration=s,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+vt(this.snapshot.exportVal())}}class P2{constructor(e,s,r){this.eventRegistration=e,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class eS{constructor(e,s){this.snapshotCallback=e,this.cancelCallback=s}onValue(e,s){this.snapshotCallback.call(null,e,s)}onCancel(e){return te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class rp{constructor(e,s,r,o){this._repo=e,this._path=s,this._queryParams=r,this._orderByCalled=o}get key(){return Ce(this._path)?null:Dm(this._path)}get ref(){return new pi(this._repo,this._path)}get _queryIdentifier(){const e=N_(this._queryParams),s=Mm(e);return s==="{}"?"default":s}get _queryObject(){return N_(this._queryParams)}isEqual(e){if(e=Qr(e),!(e instanceof rp))return!1;const s=this._repo===e._repo,r=Om(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return s&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+EN(this._path)}}class pi extends rp{constructor(e,s){super(e,s,new jm,!1)}get parent(){const e=hx(this._path);return e===null?null:new pi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class No{constructor(e,s,r){this._node=e,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const s=new He(e),r=Kh(this.ref,e);return new No(this._node.getChild(s),r,rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new No(o,Kh(this.ref,r),rt)))}hasChild(e){const s=new He(e);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Le(t,e){return t=Qr(t),t._checkNotDeleted("ref"),e!==void 0?Kh(t._root,e):t._root}function Kh(t,e){return t=Qr(t),be(t._path)===null?p2("child","path",e):Yx("child","path",e),new pi(t._repo,st(t._path,e))}function is(t,e){t=Qr(t),g2("set",t._path),d2("set",e,t._path);const s=new Bo;return A2(t._repo,t._path,e,null,s.wrapCallback(()=>{})),s.promise}function at(t,e){m2("update",e,t._path);const s=new Bo;return M2(t._repo,t._path,e,s.wrapCallback(()=>{})),s.promise}function jt(t){t=Qr(t);const e=new eS(()=>{}),s=new vu(e);return E2(t._repo,t,s).then(r=>new No(r,new pi(t._repo,t._path),t._queryParams.getIndex()))}class vu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,s){const r=s._queryParams.getIndex();return new z2("value",this,new No(e.snapshotNode,new pi(s._repo,s._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,s){return this.callbackContext.hasCancelCallback?new P2(this,e,s):null}matches(e){return e instanceof vu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function V2(t,e,s,r,o){const c=new eS(s,void 0),u=new vu(c);return R2(t._repo,t,u),()=>I2(t._repo,t,u)}function tS(t,e,s,r){return V2(t,"value",e)}zR(pi);HR(pi);const U2="FIREBASE_DATABASE_EMULATOR_HOST",Xh={};let q2=!1;function H2(t,e,s,r){const o=e.lastIndexOf(":"),c=e.substring(0,o),u=Cm(c);t.repoInfo_=new sx(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(t.authTokenProvider_=r)}function G2(t,e,s,r,o){let c=r||t.options.databaseURL;c===void 0&&(t.options.projectId||hi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nt("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=H_(c,o),h=u.repoInfo,m;typeof process<"u"&&f_&&(m=f_[U2]),m?(c=`http://${m}?ns=${h.namespace}`,u=H_(c,o),h=u.repoInfo):u.repoInfo.secure;const p=new eN(t.name,t.options,e);y2("Invalid Firebase Database URL",u),Ce(u.path)||hi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=F2(h,t,p,new $M(t,s));return new Y2(g,t)}function W2(t,e){const s=Xh[e];(!s||s[t.key]!==t)&&hi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),D2(t),delete s[t.key]}function F2(t,e,s,r){let o=Xh[e.name];o||(o={},Xh[e.name]=o);let c=o[t.toURLString()];return c&&hi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new S2(t,q2,s,r),o[t.toURLString()]=c,c}class Y2{constructor(e,s){this._repoInternal=e,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(w2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pi(this._repo,Oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(W2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hi("Cannot call "+e+" on a deleted database.")}}function Q2(t=EM(),e){const s=xM(t,"database").getImmediate({identifier:e});if(!s._instanceStarted){const r=aA("database");r&&K2(s,...r)}return s}function K2(t,e,s,r={}){t=Qr(t),t._checkNotDeleted("useEmulator");const o=`${e}:${s}`,c=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Lc(r,c.repoInfo_.emulatorOptions))return;hi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&hi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Cc(Cc.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:lA(r.mockUserToken,t.app.options.projectId);u=new Cc(h)}Cm(e)&&(oA(e),fA("Database",!0)),H2(c,o,r,u)}function X2(t){jM(CM),jc(new bo("database",(e,{instanceIdentifier:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return G2(r,o,c,s)},"PUBLIC").setMultipleInstances(!0)),Br(d_,h_,t),Br(d_,h_,"esm2020")}fi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};X2();var Z2="firebase",J2="12.9.0";Br(Z2,J2,"app");const $2={apiKey:"AIzaSyD7f_fbDPiRf1Usm6AbymeeeCw-iEWZ5xs",authDomain:"notculture-board-game.firebaseapp.com",databaseURL:"https://notculture-board-game-default-rtdb.europe-west1.firebasedatabase.app",projectId:"notculture-board-game",storageBucket:"notculture-board-game.firebasestorage.app",messagingSenderId:"110068266707",appId:"1:110068266707:web:8ca21aec951f5838238626"},eI=U1($2),Be=Q2(eI),tI=3600*1e3;function nS(){return Math.random().toString(36).substring(2,8).toUpperCase()}async function nI(t){const e=nS(),s=Date.now().toString();return await is(Le(Be,`rooms/${e}`),{createdAt:Date.now(),players:{[s]:{id:s,name:t,position:0}},playerOrder:[s],currentPlayerIndex:0,currentRoll:null,currentQuestion:null,answerResult:null,gameState:"waiting"}),{roomCode:e,playerId:s}}async function G_(t,e,s){const r=Le(Be,`rooms/${t}`),o=await jt(r);if(!o.exists())return null;const c=o.val();if(c.createdAt&&Date.now()-c.createdAt>tI)return await is(r,null),null;const u=s??Date.now().toString(),h=c.players||{},m=c.playerOrder||[];return h[u]?{playerId:u}:(await at(r,{[`players/${u}`]:{id:u,name:e,position:0},playerOrder:[...m,u]}),{playerId:u})}async function iI(t,e){const s=Le(Be,`rooms/${t}`),r=await jt(s);if(!r.exists())return;const o=r.val(),c=o.players||{},u=o.playerOrder||[];delete c[e];const h=u.filter(m=>m!==e);if(h.length===0){await is(s,null);return}await at(s,{players:c,playerOrder:h})}async function sI(t,e){const s=Le(Be,`rooms/${t}`),r=await jt(s);if(!r.exists())return!1;const o=r.val(),c=Object.keys(o.players||{}),u=o.currentPlayerIndex||0,h=(o.playerOrder||c)[u];if(e!==h)return!1;const m=Math.floor(Math.random()*6)+1;return await at(s,{currentRoll:{value:m,id:Date.now()}}),!0}async function W_(t,e){await at(Le(Be,`rooms/${t}`),{currentQuestion:e})}async function rI(t,e,s,r){await at(Le(Be,`rooms/${t}`),{answerResult:{selectedIndex:e,correctIndex:s,wasCorrect:r}})}async function ch(t,e,s){await at(Le(Be,`rooms/${t}/players/${e}`),{position:s})}async function gc(t){const e=Le(Be,`rooms/${t}`),s=await jt(e);if(!s.exists())return;const r=s.val(),o=r.playerOrder||[],u=((r.currentPlayerIndex||0)+1)%o.length;await at(e,{currentPlayerIndex:u,currentQuestion:null,currentRoll:null,answerResult:null,cultureEvent:null,notEvent:null})}async function F_(t,e){await is(Le(Be,`rooms/${t}/cultureEvent`),{active:!0,questionIndex:e})}async function aI(t){await at(Le(Be,`rooms/${t}/cultureEvent`),{timerStartedAt:Date.now()})}async function oI(t){await at(Le(Be,`rooms/${t}/cultureEvent`),{timerStartedAt:Date.now()-999e3})}async function lI(t,e){await at(Le(Be,`rooms/${t}/cultureEvent`),{score:e})}async function Y_(t,e){await is(Le(Be,`rooms/${t}/notEvent`),{active:!0,question:e})}async function cI(t){await at(Le(Be,`rooms/${t}/notEvent`),{timerStartedAt:Date.now()})}async function uI(t){await at(Le(Be,`rooms/${t}/notEvent`),{timerStartedAt:Date.now()-999e3})}async function fI(t,e){await at(Le(Be,`rooms/${t}/notEvent`),{score:e})}async function ap(t){const e=Le(Be,`rooms/${t}`),s=await jt(e);if(!s.exists())return;const r=s.val(),o=r.players||{},c=r.resetId||0,u={};for(const[h,m]of Object.entries(o))u[h]={...m,position:0};await at(e,{players:u,currentPlayerIndex:0,currentQuestion:null,currentRoll:null,answerResult:null,resetId:c+1})}async function dI(t,e){const s=nS(),r=Date.now().toString(),o=`team_${Date.now()+1}`,c={name:e,playerIds:[r],position:0,answerIndex:0};return await is(Le(Be,`rooms/${s}`),{createdAt:Date.now(),players:{[r]:{id:r,name:t}},playerOrder:[],currentPlayerIndex:0,currentRoll:null,currentQuestion:null,answerResult:null,gameState:"waiting",isTeamMode:!0,teams:{[o]:c},teamOrder:[o],currentTeamIndex:0,currentAnswererId:r,currentDescriberId:null}),{roomCode:s,playerId:r,teamId:o}}async function hI(t,e){const s=Le(Be,`rooms/${t}`),r=await jt(s);if(!r.exists())return null;const c=r.val().teamOrder||[];if(c.length>=4)return null;const u=`team_${Date.now()}`,h={name:e,playerIds:[],position:0,answerIndex:0};return await at(s,{[`teams/${u}`]:h,teamOrder:[...c,u]}),u}async function Q_(t,e,s,r){const o=Le(Be,`rooms/${t}`),c=await jt(o);if(!c.exists())return!1;const h=c.val().teams?.[r];if(!h)return!1;const m=h.playerIds||[];return m.length>=2?!1:(m.includes(e)||await at(o,{[`players/${e}`]:{id:e,name:s},[`teams/${r}/playerIds`]:[...m,e]}),!0)}async function mI(t,e,s){const r=Le(Be,`rooms/${t}`),o=await jt(r);if(!o.exists())return;const c=o.val(),u=c.teams||{},h=c.teamOrder||[],m=u[s];if(!m)return;const p=(m.playerIds||[]).filter(v=>v!==e),g={...c.players};if(delete g[e],p.length===0){const v={...u};delete v[s];const _=h.filter(S=>S!==s);if(_.length===0){await is(r,null);return}await at(r,{players:g,teams:v,teamOrder:_})}else await at(r,{players:g,[`teams/${s}/playerIds`]:p})}async function pI(t,e){const s=Le(Be,`rooms/${t}`),r=await jt(s);if(!r.exists())return!1;const o=r.val(),c=o.teamOrder||[],u=o.currentTeamIndex||0,h=c[u],m=o.teams?.[h];if(!m)return!1;const p=m.playerIds||[];if(!p.includes(e))return!1;const g=m.answerIndex??0,v=p[g%Math.max(1,p.length)],_=p.length>1?p[(g+1)%p.length]:null,S=Math.floor(Math.random()*6)+1;return await at(s,{currentRoll:{value:S,id:Date.now()},currentAnswererId:v,currentDescriberId:_}),!0}async function yc(t){const e=Le(Be,`rooms/${t}`),s=await jt(e);if(!s.exists())return;const r=s.val(),o=r.teamOrder||[],c=r.teams||{},u=r.currentTeamIndex||0,h=o[u],m=c[h],p=m?.playerIds||[],g=p.length>1?((m?.answerIndex??0)+1)%p.length:0,v=(u+1)%o.length,_=o[v],S=c[_],T=S?.playerIds||[],N=_===h?g:S?.answerIndex??0,I=T[N%Math.max(1,T.length)]??null,D=T.length>1?T[(N+1)%T.length]:null;await at(e,{currentTeamIndex:v,[`teams/${h}/answerIndex`]:g,currentRoll:null,currentQuestion:null,answerResult:null,cultureEvent:null,notEvent:null,currentAnswererId:I,currentDescriberId:D})}async function uh(t,e,s){await at(Le(Be,`rooms/${t}/teams/${e}`),{position:s})}async function gI(t){const e=Le(Be,`rooms/${t}`),s=await jt(e);if(!s.exists())return;const r=s.val(),o=r.teams||{},c=r.teamOrder||[],u=r.resetId||0,h={};for(const S of Object.keys(o))h[`teams/${S}/position`]=0,h[`teams/${S}/answerIndex`]=0;const m=c[0],g=o[m]?.playerIds||[],v=g[0]??null,_=g.length>1?g[1]:null;await at(e,{...h,currentTeamIndex:0,currentRoll:null,currentQuestion:null,answerResult:null,cultureEvent:null,notEvent:null,currentAnswererId:v,currentDescriberId:_,resetId:u+1})}function yI(){const t=It(),e=an(),{identity:s}=js(),{getQuestion:r}=YE(),{playSound:o}=Lo(),[c,u]=M.useState({rolling:!1,finalValue:1,displayValue:1,onComplete:null}),h=M.useRef(!1),m=M.useRef(t);m.current=t;const p=M.useRef(new Set),g=M.useCallback((E,k,P,G)=>{if(h.current)return;h.current=!0;let O=k,$=P;function ce(){if($<=0){h.current=!1,G?.(),O>=An&&e({type:"SHOW_WIN_MODAL",show:!0});return}O<An&&(o("move"),O++,e({type:"SET_PLAYER_POSITION",playerId:E,position:O})),$--,setTimeout(ce,Za)}ce()},[e,o]),v=M.useCallback(E=>{const P=t.players[t.currentPlayerIndex].position;let G;P===0||P===Fi.length-1?G=Mn[Math.floor(Math.random()*Mn.length)]:G=Mn[P%Mn.length],e({type:"SET_PENDING_CATEGORY",category:G});const O=r(G,E);O&&(e({type:"SET_ACTIVE_QUESTION",question:O,roll:E}),t.gameMode==="online"&&s.roomCode&&W_(s.roomCode,O.id))},[t.players,t.currentPlayerIndex,t.gameMode,s,r,e]);M.useEffect(()=>{if(t.isTurnLocked||t.showCultureModal||t.showNotModal)return;const E=t.players[t.currentPlayerIndex];if(!E)return;const k=E.position;if(!(k<=0||k>=An)&&!(!so.has(k)&&!Nh.has(k)))if(t.gameMode==="online"){if(!s.roomCode)return;if(t.isTeamMode){if(!s.playerId||s.playerId!==t.currentAnswererId)return}else if(!s.playerName||E.name!==s.playerName)return;if(e({type:"LOCK_TURN"}),so.has(k)){const P=Rh,O=(t.currentPlayerIndex+k)%P.length;F_(s.roomCode,O)}else{const P=Zd;let G=P.filter($=>!p.current.has($.id));G.length===0&&(p.current.clear(),G=P);const O=G[Math.floor(Math.random()*G.length)];p.current.add(O.id),Y_(s.roomCode,O)}}else if(e({type:"LOCK_TURN"}),so.has(k))e({type:"SHOW_CULTURE_MODAL",show:!0});else{const P=Zd;let G=P.filter($=>!p.current.has($.id));G.length===0&&(p.current.clear(),G=P);const O=G[Math.floor(Math.random()*G.length)];p.current.add(O.id),e({type:"SET_NOT_CARD",card:O}),e({type:"SHOW_NOT_MODAL",show:!0})}},[t.currentPlayerIndex,t.isTurnLocked,t.showCultureModal,t.showNotModal,t.gameMode,t.isTeamMode,t.currentAnswererId,t.players,s.playerName,s.playerId,s.roomCode,e]);const _=M.useCallback((E,k)=>{if(t.debugMode){u(P=>({...P,displayValue:E})),k();return}u({rolling:!0,finalValue:E,displayValue:E,onComplete:()=>{u(P=>({...P,rolling:!1})),k()}})},[t.debugMode]),S=M.useCallback(()=>{if(t.isTurnLocked)return;if(t.gameMode==="online"&&s.roomCode&&s.playerId){if(t.isTeamMode){if(t.activeTeamId&&s.teamId!==t.activeTeamId)return;pI(s.roomCode,s.playerId)}else sI(s.roomCode,s.playerId);return}e({type:"LOCK_TURN"});const E=Math.floor(Math.random()*6)+1;if(t.debugMode){u(k=>({...k,displayValue:E})),v(E);return}u({rolling:!0,finalValue:E,displayValue:E,onComplete:()=>{u(k=>({...k,rolling:!1})),v(E)}})},[t.isTurnLocked,t.gameMode,t.debugMode,t.isTeamMode,t.activeTeamId,s,e,v]),T=M.useCallback(E=>{if(!t.activeQuestion)return;const k=E===t.activeQuestion.correctIndex;return o(k?"correct":"wrong"),t.gameMode==="online"&&s.roomCode&&(!t.isTeamMode||s.playerId===t.currentAnswererId)&&rI(s.roomCode,E,t.activeQuestion.correctIndex,k),{correct:k,correctIndex:t.activeQuestion.correctIndex}},[t.activeQuestion,t.gameMode,t.isTeamMode,t.currentAnswererId,s,o]),N=M.useCallback(E=>{const k=t.players[t.currentPlayerIndex];if(e({type:"SHOW_QUESTION_MODAL",show:!1}),e({type:"CLEAR_QUESTION"}),t.gameMode==="online"&&s.roomCode&&s.playerId){if(e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"}),E){const P=Math.min(k.position+t.pendingMove,An);t.isTeamMode&&s.teamId?(yc(s.roomCode),g(k.id,k.position,t.pendingMove),setTimeout(()=>{uh(s.roomCode,s.teamId,P)},t.pendingMove*Za+100)):(gc(s.roomCode),g(k.id,k.position,t.pendingMove),setTimeout(()=>{ch(s.roomCode,s.playerId,P)},t.pendingMove*Za+100))}else t.isTeamMode?yc(s.roomCode):gc(s.roomCode);return}E?(g(k.id,k.position,t.pendingMove),setTimeout(()=>{e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"})},t.pendingMove*Za+100)):(e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"}))},[t.players,t.currentPlayerIndex,t.pendingMove,t.gameMode,t.isTeamMode,s,e,g]),I=M.useCallback(E=>{e({type:"SHOW_CULTURE_MODAL",show:!1});const k=m.current.players[m.current.currentPlayerIndex],P=k.position;g(k.id,P,E,()=>{const G=Math.min(P+E,An);e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"}),m.current.gameMode==="online"&&s.roomCode&&(m.current.isTeamMode&&s.teamId?(uh(s.roomCode,s.teamId,G),yc(s.roomCode)):s.playerId&&(ch(s.roomCode,s.playerId,G),gc(s.roomCode)))})},[e,g,s]),D=M.useCallback(E=>{e({type:"SHOW_NOT_MODAL",show:!1});const k=m.current.players[m.current.currentPlayerIndex],P=k.position;g(k.id,P,E,()=>{const G=Math.min(P+E,An);e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"}),m.current.gameMode==="online"&&s.roomCode&&(m.current.isTeamMode&&s.teamId?(uh(s.roomCode,s.teamId,G),yc(s.roomCode)):s.playerId&&(ch(s.roomCode,s.playerId,G),gc(s.roomCode)))})},[e,g,s]),H=M.useCallback(E=>{if(E===0||E>=An)return;if(e({type:"LOCK_TURN"}),so.has(E)){if(t.gameMode==="online"&&s.roomCode){const O=Rh,ce=(t.currentPlayerIndex+E)%O.length;F_(s.roomCode,ce)}else e({type:"SHOW_CULTURE_MODAL",show:!0});return}if(Nh.has(E)){const O=Zd;let $=O.filter(ve=>!p.current.has(ve.id));$.length===0&&(p.current.clear(),$=O);const ce=$[Math.floor(Math.random()*$.length)];p.current.add(ce.id),t.gameMode==="online"&&s.roomCode?Y_(s.roomCode,ce):(e({type:"SET_NOT_CARD",card:ce}),e({type:"SHOW_NOT_MODAL",show:!0}));return}const k=Mn[E%Mn.length];e({type:"SET_PENDING_CATEGORY",category:k});const P=Math.floor(Math.random()*6)+1,G=r(k,P);G&&(e({type:"SET_ACTIVE_QUESTION",question:G,roll:P}),t.gameMode==="online"&&s.roomCode&&W_(s.roomCode,G.id))},[t.gameMode,s.roomCode,e,r]),q=M.useCallback(()=>{if(!t.debugMode)return;const E=t.players[t.currentPlayerIndex];e({type:"SHOW_QUESTION_MODAL",show:!1}),e({type:"CLEAR_QUESTION"}),g(E.id,E.position,t.pendingMove),setTimeout(()=>{e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"})},t.pendingMove*Za+100)},[t.debugMode,t.players,t.currentPlayerIndex,t.pendingMove,e,g]);return{handleDiceRoll:S,handleAnswer:T,afterAnswer:N,handleSkip:q,handleCultureScore:I,handleNotScore:D,triggerTileAt:H,diceState:c,animateMovement:g,processRoll:v,triggerDiceAnimation:_}}const iS=M.createContext(null);function vI({children:t}){const e=yI();return b.jsx(iS.Provider,{value:e,children:t})}function Jr(){const t=M.useContext(iS);if(!t)throw new Error("useGameLogicContext must be used within GameLogicProvider");return t}function _I(){const t=It(),e=an(),s=t.players[t.currentPlayerIndex],[r,o]=M.useState(null),[c,u]=M.useState(""),[h,m]=M.useState(null),p=M.useRef(null),g=M.useRef(null);M.useEffect(()=>{r!==null&&p.current&&(p.current.focus(),p.current.select())},[r]),M.useEffect(()=>{if(h===null)return;function S(T){g.current&&!g.current.contains(T.target)&&m(null)}return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[h]);function v(S,T){o(S),u(T)}function _(){if(r===null)return;const S=c.trim();S&&e({type:"RENAME_PLAYER",playerId:r,name:S}),o(null)}return b.jsx("div",{className:"relative z-10 flex flex-wrap justify-center gap-2 my-1.5",children:t.players.map(S=>b.jsxs("div",{className:`relative flex items-center gap-1 rounded-full bg-surface px-2 py-1 text-xs transition-all duration-200 ${S.id===s?.id?"scale-105 outline outline-2 outline-white":""}`,children:[b.jsx("button",{className:"h-3 w-3 rounded-full flex-shrink-0 hover:ring-2 hover:ring-white/60 hover:ring-offset-1",style:{backgroundColor:S.color??In[S.id]},onClick:T=>{T.stopPropagation(),m(h===S.id?null:S.id)},"aria-label":"Change colour"}),h===S.id&&b.jsx("div",{ref:g,className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 z-50 grid gap-1.5 rounded-lg bg-surface p-2 shadow-xl",style:{gridTemplateColumns:"repeat(6, 1.5rem)"},children:VE.map(T=>b.jsx("button",{className:"h-6 w-6 rounded-full transition-transform hover:scale-110",style:{backgroundColor:T,outline:(S.color??In[S.id])===T?"2px solid white":"none",outlineOffset:"2px"},onClick:N=>{N.stopPropagation(),e({type:"SET_PLAYER_COLOR",playerId:S.id,color:T}),m(null)},"aria-label":T},T))}),r===S.id?b.jsx("input",{ref:p,type:"text",value:c,onChange:T=>u(T.target.value),onBlur:_,onKeyDown:T=>{T.key==="Enter"&&_(),T.key==="Escape"&&o(null)},className:"bg-transparent outline-none border-b border-white/50 text-white w-20 text-xs",maxLength:16}):b.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>v(S.id,S.name),children:S.name})]},S.id))})}const op=M.createContext({});function _u(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const sS=typeof window<"u",lp=sS?M.useLayoutEffect:M.useEffect,bu=M.createContext(null);function cp(t,e){t.indexOf(e)===-1&&t.push(e)}function Zc(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const Un=(t,e,s)=>s>e?e:s<t?t:s;let up=()=>{};const mi={},rS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function aS(t){return typeof t=="object"&&t!==null}const oS=t=>/^0[^.\s]+$/u.test(t);function lS(t){let e;return()=>(e===void 0&&(e=t()),e)}const bn=t=>t,bI=(t,e)=>s=>e(t(s)),Go=(...t)=>t.reduce(bI),Ro=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r};class fp{constructor(){this.subscriptions=[]}add(e){return cp(this.subscriptions,e),()=>Zc(this.subscriptions,e)}notify(e,s,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,s,r);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const On=t=>t*1e3,_n=t=>t/1e3;function cS(t,e){return e?t*(1e3/e):0}const uS=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,xI=1e-7,SI=12;function wI(t,e,s,r,o){let c,u,h=0;do u=e+(s-e)/2,c=uS(u,r,o)-t,c>0?s=u:e=u;while(Math.abs(c)>xI&&++h<SI);return u}function Wo(t,e,s,r){if(t===e&&s===r)return bn;const o=c=>wI(c,0,1,t,s);return c=>c===0||c===1?c:uS(o(c),e,r)}const fS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dS=t=>e=>1-t(1-e),hS=Wo(.33,1.53,.69,.99),dp=dS(hS),mS=fS(dp),pS=t=>(t*=2)<1?.5*dp(t):.5*(2-Math.pow(2,-10*(t-1))),hp=t=>1-Math.sin(Math.acos(t)),gS=dS(hp),yS=fS(hp),TI=Wo(.42,0,1,1),CI=Wo(0,0,.58,1),vS=Wo(.42,0,.58,1),EI=t=>Array.isArray(t)&&typeof t[0]!="number",_S=t=>Array.isArray(t)&&typeof t[0]=="number",AI={linear:bn,easeIn:TI,easeInOut:vS,easeOut:CI,circIn:hp,circInOut:yS,circOut:gS,backIn:dp,backInOut:mS,backOut:hS,anticipate:pS},MI=t=>typeof t=="string",K_=t=>{if(_S(t)){up(t.length===4);const[e,s,r,o]=t;return Wo(e,s,r,o)}else if(MI(t))return AI[t];return t},vc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function NI(t,e){let s=new Set,r=new Set,o=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,v=!1,_=!1)=>{const T=_&&o?s:r;return v&&u.add(g),T.has(g)||T.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(h=g,o){c=!0;return}o=!0,[s,r]=[r,s],s.forEach(m),s.clear(),o=!1,c&&(c=!1,p.process(g))}};return p}const RI=40;function bS(t,e){let s=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=vc.reduce((q,E)=>(q[E]=NI(c),q),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:g,update:v,preRender:_,render:S,postRender:T}=u,N=()=>{const q=mi.useManualTiming?o.timestamp:performance.now();s=!1,mi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(q-o.timestamp,RI),1)),o.timestamp=q,o.isProcessing=!0,h.process(o),m.process(o),p.process(o),g.process(o),v.process(o),_.process(o),S.process(o),T.process(o),o.isProcessing=!1,s&&e&&(r=!1,t(N))},I=()=>{s=!0,r=!0,o.isProcessing||t(N)};return{schedule:vc.reduce((q,E)=>{const k=u[E];return q[E]=(P,G=!1,O=!1)=>(s||I(),k.schedule(P,G,O)),q},{}),cancel:q=>{for(let E=0;E<vc.length;E++)u[vc[E]].cancel(q)},state:o,steps:u}}const{schedule:Qe,cancel:ns,state:Mt,steps:fh}=bS(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0);let Ec;function II(){Ec=void 0}const zt={now:()=>(Ec===void 0&&zt.set(Mt.isProcessing||mi.useManualTiming?Mt.timestamp:performance.now()),Ec),set:t=>{Ec=t,queueMicrotask(II)}},xS=t=>e=>typeof e=="string"&&e.startsWith(t),SS=xS("--"),DI=xS("var(--"),mp=t=>DI(t)?OI.test(t.split("/*")[0].trim()):!1,OI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function X_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const $r={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Io={...$r,transform:t=>Un(0,1,t)},_c={...$r,default:1},ho=t=>Math.round(t*1e5)/1e5,pp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kI(t){return t==null}const LI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gp=(t,e)=>s=>!!(typeof s=="string"&&LI.test(s)&&s.startsWith(t)||e&&!kI(s)&&Object.prototype.hasOwnProperty.call(s,e)),wS=(t,e,s)=>r=>{if(typeof r!="string")return r;const[o,c,u,h]=r.match(pp);return{[t]:parseFloat(o),[e]:parseFloat(c),[s]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},BI=t=>Un(0,255,t),dh={...$r,transform:t=>Math.round(BI(t))},Rs={test:gp("rgb","red"),parse:wS("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+dh.transform(t)+", "+dh.transform(e)+", "+dh.transform(s)+", "+ho(Io.transform(r))+")"};function jI(t){let e="",s="",r="",o="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,s+=s,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Zh={test:gp("#"),parse:jI,transform:Rs.transform},Fo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wi=Fo("deg"),Vn=Fo("%"),ae=Fo("px"),zI=Fo("vh"),PI=Fo("vw"),Z_={...Vn,parse:t=>Vn.parse(t)/100,transform:t=>Vn.transform(t*100)},Ir={test:gp("hsl","hue"),parse:wS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vn.transform(ho(e))+", "+Vn.transform(ho(s))+", "+ho(Io.transform(r))+")"},ht={test:t=>Rs.test(t)||Zh.test(t)||Ir.test(t),parse:t=>Rs.test(t)?Rs.parse(t):Ir.test(t)?Ir.parse(t):Zh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Rs.transform(t):Ir.transform(t),getAnimatableNone:t=>{const e=ht.parse(t);return e.alpha=0,ht.transform(e)}},VI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UI(t){return isNaN(t)&&typeof t=="string"&&(t.match(pp)?.length||0)+(t.match(VI)?.length||0)>0}const TS="number",CS="color",qI="var",HI="var(",J_="${}",GI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Do(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},o=[];let c=0;const h=e.replace(GI,m=>(ht.test(m)?(r.color.push(c),o.push(CS),s.push(ht.parse(m))):m.startsWith(HI)?(r.var.push(c),o.push(qI),s.push(m)):(r.number.push(c),o.push(TS),s.push(parseFloat(m))),++c,J_)).split(J_);return{values:s,split:h,indexes:r,types:o}}function ES(t){return Do(t).values}function AS(t){const{split:e,types:s}=Do(t),r=e.length;return o=>{let c="";for(let u=0;u<r;u++)if(c+=e[u],o[u]!==void 0){const h=s[u];h===TS?c+=ho(o[u]):h===CS?c+=ht.transform(o[u]):c+=o[u]}return c}}const WI=t=>typeof t=="number"?0:ht.test(t)?ht.getAnimatableNone(t):t;function FI(t){const e=ES(t);return AS(t)(e.map(WI))}const kn={test:UI,parse:ES,createTransformer:AS,getAnimatableNone:FI};function hh(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function YI({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let o=0,c=0,u=0;if(!e)o=c=u=s;else{const h=s<.5?s*(1+e):s+e-s*e,m=2*s-h;o=hh(m,h,t+1/3),c=hh(m,h,t),u=hh(m,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function Jc(t,e){return s=>s>0?e:t}const et=(t,e,s)=>t+(e-t)*s,mh=(t,e,s)=>{const r=t*t,o=s*(e*e-r)+r;return o<0?0:Math.sqrt(o)},QI=[Zh,Rs,Ir],KI=t=>QI.find(e=>e.test(t));function $_(t){const e=KI(t);if(!e)return!1;let s=e.parse(t);return e===Ir&&(s=YI(s)),s}const eb=(t,e)=>{const s=$_(t),r=$_(e);if(!s||!r)return Jc(t,e);const o={...s};return c=>(o.red=mh(s.red,r.red,c),o.green=mh(s.green,r.green,c),o.blue=mh(s.blue,r.blue,c),o.alpha=et(s.alpha,r.alpha,c),Rs.transform(o))},Jh=new Set(["none","hidden"]);function XI(t,e){return Jh.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function ZI(t,e){return s=>et(t,e,s)}function yp(t){return typeof t=="number"?ZI:typeof t=="string"?mp(t)?Jc:ht.test(t)?eb:eD:Array.isArray(t)?MS:typeof t=="object"?ht.test(t)?eb:JI:Jc}function MS(t,e){const s=[...t],r=s.length,o=t.map((c,u)=>yp(c)(c,e[u]));return c=>{for(let u=0;u<r;u++)s[u]=o[u](c);return s}}function JI(t,e){const s={...t,...e},r={};for(const o in s)t[o]!==void 0&&e[o]!==void 0&&(r[o]=yp(t[o])(t[o],e[o]));return o=>{for(const c in r)s[c]=r[c](o);return s}}function $I(t,e){const s=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][r[c]],h=t.values[u]??0;s[o]=h,r[c]++}return s}const eD=(t,e)=>{const s=kn.createTransformer(e),r=Do(t),o=Do(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Jh.has(t)&&!o.values.length||Jh.has(e)&&!r.values.length?XI(t,e):Go(MS($I(r,o),o.values),s):Jc(t,e)};function NS(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?et(t,e,s):yp(t)(t,e)}const tD=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>Qe.update(e,s),stop:()=>ns(e),now:()=>Mt.isProcessing?Mt.timestamp:zt.now()}},RS=(t,e,s=10)=>{let r="";const o=Math.max(Math.round(e/s),2);for(let c=0;c<o;c++)r+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$c=2e4;function vp(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<$c;)e+=s,r=t.next(e);return e>=$c?1/0:e}function nD(t,e=100,s){const r=s({...t,keyframes:[0,e]}),o=Math.min(vp(r),$c);return{type:"keyframes",ease:c=>r.next(o*c).value/e,duration:_n(o)}}const iD=5;function IS(t,e,s){const r=Math.max(e-iD,0);return cS(s-t(r),e-r)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ph=.001;function sD({duration:t=it.duration,bounce:e=it.bounce,velocity:s=it.velocity,mass:r=it.mass}){let o,c,u=1-e;u=Un(it.minDamping,it.maxDamping,u),t=Un(it.minDuration,it.maxDuration,_n(t)),u<1?(o=p=>{const g=p*u,v=g*t,_=g-s,S=$h(p,u),T=Math.exp(-v);return ph-_/S*T},c=p=>{const v=p*u*t,_=v*s+s,S=Math.pow(u,2)*Math.pow(p,2)*t,T=Math.exp(-v),N=$h(Math.pow(p,2),u);return(-o(p)+ph>0?-1:1)*((_-S)*T)/N}):(o=p=>{const g=Math.exp(-p*t),v=(p-s)*t+1;return-ph+g*v},c=p=>{const g=Math.exp(-p*t),v=(s-p)*(t*t);return g*v});const h=5/t,m=aD(o,c,h);if(t=On(t),isNaN(m))return{stiffness:it.stiffness,damping:it.damping,duration:t};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const rD=12;function aD(t,e,s){let r=s;for(let o=1;o<rD;o++)r=r-t(r)/e(r);return r}function $h(t,e){return t*Math.sqrt(1-e*e)}const oD=["duration","bounce"],lD=["stiffness","damping","mass"];function tb(t,e){return e.some(s=>t[s]!==void 0)}function cD(t){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...t};if(!tb(t,lD)&&tb(t,oD))if(e.velocity=0,t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),o=r*r,c=2*Un(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:it.mass,stiffness:o,damping:c}}else{const s=sD({...t,velocity:0});e={...e,...s,mass:it.mass},e.isResolvedFromDuration=!0}return e}function eu(t=it.visualDuration,e=it.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],h={done:!1,value:c},{stiffness:m,damping:p,mass:g,duration:v,velocity:_,isResolvedFromDuration:S}=cD({...s,velocity:-_n(s.velocity||0)}),T=_||0,N=p/(2*Math.sqrt(m*g)),I=u-c,D=_n(Math.sqrt(m/g)),H=Math.abs(I)<5;r||(r=H?it.restSpeed.granular:it.restSpeed.default),o||(o=H?it.restDelta.granular:it.restDelta.default);let q;if(N<1){const k=$h(D,N);q=P=>{const G=Math.exp(-N*D*P);return u-G*((T+N*D*I)/k*Math.sin(k*P)+I*Math.cos(k*P))}}else if(N===1)q=k=>u-Math.exp(-D*k)*(I+(T+D*I)*k);else{const k=D*Math.sqrt(N*N-1);q=P=>{const G=Math.exp(-N*D*P),O=Math.min(k*P,300);return u-G*((T+N*D*I)*Math.sinh(O)+k*I*Math.cosh(O))/k}}const E={calculatedDuration:S&&v||null,next:k=>{const P=q(k);if(S)h.done=k>=v;else{let G=k===0?T:0;N<1&&(G=k===0?On(T):IS(q,k,P));const O=Math.abs(G)<=r,$=Math.abs(u-P)<=o;h.done=O&&$}return h.value=h.done?u:P,h},toString:()=>{const k=Math.min(vp(E),$c),P=RS(G=>E.next(k*G).value,k,30);return k+"ms "+P},toTransition:()=>{}};return E}eu.applyToOptions=t=>{const e=nD(t,100,eu);return t.ease=e.ease,t.duration=On(e.duration),t.type="keyframes",t};function em({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:m,restDelta:p=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},S=O=>h!==void 0&&O<h||m!==void 0&&O>m,T=O=>h===void 0?m:m===void 0||Math.abs(h-O)<Math.abs(m-O)?h:m;let N=s*e;const I=v+N,D=u===void 0?I:u(I);D!==I&&(N=D-v);const H=O=>-N*Math.exp(-O/r),q=O=>D+H(O),E=O=>{const $=H(O),ce=q(O);_.done=Math.abs($)<=p,_.value=_.done?D:ce};let k,P;const G=O=>{S(_.value)&&(k=O,P=eu({keyframes:[_.value,T(_.value)],velocity:IS(q,O,_.value),damping:o,stiffness:c,restDelta:p,restSpeed:g}))};return G(0),{calculatedDuration:null,next:O=>{let $=!1;return!P&&k===void 0&&($=!0,E(O),G(O)),k!==void 0&&O>=k?P.next(O-k):(!$&&E(O),_)}}}function uD(t,e,s){const r=[],o=s||mi.mix||NS,c=t.length-1;for(let u=0;u<c;u++){let h=o(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||bn:e;h=Go(m,h)}r.push(h)}return r}function fD(t,e,{clamp:s=!0,ease:r,mixer:o}={}){const c=t.length;if(up(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=uD(e,r,o),m=h.length,p=g=>{if(u&&g<t[0])return e[0];let v=0;if(m>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=Ro(t[v],t[v+1],g);return h[v](_)};return s?g=>p(Un(t[0],t[c-1],g)):p}function dD(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const o=Ro(0,e,r);t.push(et(s,1,o))}}function hD(t){const e=[0];return dD(e,t.length-1),e}function mD(t,e){return t.map(s=>s*e)}function pD(t,e){return t.map(()=>e||vS).splice(0,t.length-1)}function mo({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const o=EI(r)?r.map(K_):K_(r),c={done:!1,value:e[0]},u=mD(s&&s.length===e.length?s:hD(e),t),h=fD(u,e,{ease:Array.isArray(o)?o:pD(e,o)});return{calculatedDuration:t,next:m=>(c.value=h(m),c.done=m>=t,c)}}const gD=t=>t!==null;function _p(t,{repeat:e,repeatType:s="loop"},r,o=1){const c=t.filter(gD),h=o<0||e&&s!=="loop"&&e%2===1?0:c.length-1;return!h||r===void 0?c[h]:r}const yD={decay:em,inertia:em,tween:mo,keyframes:mo,spring:eu};function DS(t){typeof t.type=="string"&&(t.type=yD[t.type])}class bp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const vD=t=>t/100;class xp extends bp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==zt.now()&&this.tick(zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DS(e);const{type:s=mo,repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const m=s||mo;m!==mo&&typeof h[0]!="number"&&(this.mixKeyframes=Go(vD,NS(h[0],h[1])),h=[0,100]);const p=m({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=vp(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:S,type:T,onUpdate:N,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?D<0:D>o;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,E=r;if(v){const O=Math.min(this.currentTime,o)/h;let $=Math.floor(O),ce=O%1;!ce&&O>=1&&(ce=1),ce===1&&$--,$=Math.min($,v+1),$%2&&(_==="reverse"?(ce=1-ce,S&&(ce-=S/h)):_==="mirror"&&(E=u)),q=Un(0,1,ce)*h}const k=H?{done:!1,value:g[0]}:E.next(q);c&&(k.value=c(k.value));let{done:P}=k;!H&&m!==null&&(P=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return G&&T!==em&&(k.value=_p(g,this.options,I,this.speed)),N&&N(k.value),G&&this.finish(),k}then(e,s){return this.finished.then(e,s)}get duration(){return _n(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_n(e)}get time(){return _n(this.currentTime)}set time(e){e=On(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zt.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=_n(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tD,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function _D(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Is=t=>t*180/Math.PI,tm=t=>{const e=Is(Math.atan2(t[1],t[0]));return nm(e)},bD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tm,rotateZ:tm,skewX:t=>Is(Math.atan(t[1])),skewY:t=>Is(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nm=t=>(t=t%360,t<0&&(t+=360),t),nb=tm,ib=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ib,scaleY:sb,scale:t=>(ib(t)+sb(t))/2,rotateX:t=>nm(Is(Math.atan2(t[6],t[5]))),rotateY:t=>nm(Is(Math.atan2(-t[2],t[0]))),rotateZ:nb,rotate:nb,skewX:t=>Is(Math.atan(t[4])),skewY:t=>Is(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function im(t){return t.includes("scale")?1:0}function sm(t,e){if(!t||t==="none")return im(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(s)r=xD,o=s;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=bD,o=h}if(!o)return im(e);const c=r[e],u=o[1].split(",").map(wD);return typeof c=="function"?c(u):u[c]}const SD=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return sm(s,e)};function wD(t){return parseFloat(t.trim())}const ea=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ta=new Set(ea),rb=t=>t===$r||t===ae,TD=new Set(["x","y","z"]),CD=ea.filter(t=>!TD.has(t));function ED(t){const e=[];return CD.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const Qi={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sm(e,"x"),y:(t,{transform:e})=>sm(e,"y")};Qi.translateX=Qi.x;Qi.translateY=Qi.y;const Ds=new Set;let rm=!1,am=!1,om=!1;function OS(){if(am){const t=Array.from(Ds).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const o=ED(r);o.length&&(s.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=s.get(r);o&&o.forEach(([c,u])=>{r.getValue(c)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}am=!1,rm=!1,Ds.forEach(t=>t.complete(om)),Ds.clear()}function kS(){Ds.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(am=!0)})}function AD(){om=!0,kS(),OS(),om=!1}class Sp{constructor(e,s,r,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ds.add(this),rm||(rm=!0,Qe.read(kS),Qe.resolveKeyframes(OS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:o}=this;if(e[0]===null){const c=o?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&s){const h=r.readValue(s,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}_D(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ds.delete(this)}cancel(){this.state==="scheduled"&&(Ds.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const MD=t=>t.startsWith("--");function ND(t,e,s){MD(e)?t.style.setProperty(e,s):t.style[e]=s}const RD={};function LS(t,e){const s=lS(t);return()=>RD[e]??s()}const ID=LS(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),BS=LS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ro=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,ab={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ro([0,.65,.55,1]),circOut:ro([.55,0,1,.45]),backIn:ro([.31,.01,.66,-.59]),backOut:ro([.33,1.53,.69,.99])};function jS(t,e){if(t)return typeof t=="function"?BS()?RS(t,e):"ease-out":_S(t)?ro(t):Array.isArray(t)?t.map(s=>jS(s,e)||ab.easeOut):ab[t]}function DD(t,e,s,{delay:r=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:m}={},p=void 0){const g={[e]:s};m&&(g.offset=m);const v=jS(h,o);Array.isArray(v)&&(g.easing=v);const _={delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function zS(t){return typeof t=="function"&&"applyToOptions"in t}function OD({type:t,...e}){return zS(t)&&BS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PS extends bp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:s,name:r,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,up(typeof e.type!="string");const p=OD(e);this.animation=DD(s,r,o,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=_p(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):ND(s,r,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return _n(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_n(e)}get time(){return _n(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=On(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ID()?(this.animation.timeline=e,bn):s(this)}}const VS={anticipate:pS,backInOut:mS,circInOut:yS};function kD(t){return t in VS}function LD(t){typeof t.ease=="string"&&kD(t.ease)&&(t.ease=VS[t.ease])}const gh=10;class BD extends PS{constructor(e){LD(e),DS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:o,element:c,...u}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new xp({...u,autoplay:!1}),m=Math.max(gh,zt.now()-this.startTime),p=Un(0,gh,m-gh);s.setWithVelocity(h.sample(Math.max(0,m-p)).value,h.sample(m).value,p),h.stop()}}const ob=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(kn.test(t)||t==="0")&&!t.startsWith("url("));function jD(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function zD(t,e,s,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=ob(o,e),h=ob(c,e);return!u||!h?!1:jD(t)||(s==="spring"||zS(s))&&r}function lm(t){t.duration=0,t.type="keyframes"}const PD=new Set(["opacity","clipPath","filter","transform"]),VD=lS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UD(t){const{motionValue:e,name:s,repeatDelay:r,repeatType:o,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return VD()&&s&&PD.has(s)&&(s!=="transform"||!p)&&!m&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}const qD=40;class HD extends bp{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:m,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zt.now();const _={autoplay:e,delay:s,type:r,repeat:o,repeatDelay:c,repeatType:u,name:m,motionValue:p,element:g,...v},S=g?.KeyframeResolver||Sp;this.keyframeResolver=new S(h,(T,N,I)=>this.onKeyframesResolved(T,N,_,!I),m,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,r,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:m,isHandoff:p,onUpdate:g}=r;this.resolvedAt=zt.now(),zD(e,c,u,h)||((mi.instantAnimations||!m)&&g?.(_p(e,r,s)),e[0]=e[e.length-1],lm(r),r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>qD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},S=!p&&UD(_),T=_.motionValue?.owner?.current,N=S?new BD({..._,element:T}):new xp(_);N.finished.then(()=>{this.notifyFinished()}).catch(bn),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),AD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function US(t,e,s,r=0,o=1){const c=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*r;return typeof s=="function"?s(c,u):o===1?c*r:h-c*r}const GD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WD(t){const e=GD.exec(t);if(!e)return[,];const[,s,r,o]=e;return[`--${s??r}`,o]}function qS(t,e,s=1){const[r,o]=WD(t);if(!r)return;const c=window.getComputedStyle(e).getPropertyValue(r);if(c){const u=c.trim();return rS(u)?parseFloat(u):u}return mp(o)?qS(o,e,s+1):o}const FD={type:"spring",stiffness:500,damping:25,restSpeed:10},YD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QD={type:"keyframes",duration:.8},KD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XD=(t,{keyframes:e})=>e.length>2?QD:ta.has(t)?t.startsWith("scale")?YD(e[1]):FD:KD,ZD=t=>t!==null;function JD(t,{repeat:e,repeatType:s="loop"},r){const o=t.filter(ZD),c=e&&s!=="loop"&&e%2===1?0:o.length-1;return o[c]}function HS(t,e){if(t?.inherit&&e){const{inherit:s,...r}=t;return{...e,...r}}return t}function wp(t,e){const s=t?.[e]??t?.default??t;return s!==t?HS(s,t):s}function $D({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:h,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const Tp=(t,e,s,r={},o,c)=>u=>{const h=wp(r,t)||{},m=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-On(m);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:c?void 0:o};$D(h)||Object.assign(g,XD(t,g)),g.duration&&(g.duration=On(g.duration)),g.repeatDelay&&(g.repeatDelay=On(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(lm(g),g.delay===0&&(v=!0)),(mi.instantAnimations||mi.skipAnimations||o?.shouldSkipAnimations)&&(v=!0,lm(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!c&&e.get()!==void 0){const _=JD(g.keyframes,h);if(_!==void 0){Qe.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new xp(g):new HD(g)};function lb(t){const e=[{},{}];return t?.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function Cp(t,e,s,r){if(typeof e=="function"){const[o,c]=lb(r);e=e(s!==void 0?s:t.custom,o,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,c]=lb(r);e=e(s!==void 0?s:t.custom,o,c)}return e}function Pr(t,e,s){const r=t.getProps();return Cp(r,e,s!==void 0?s:r.custom,t)}const GS=new Set(["width","height","top","left","right","bottom",...ea]),cb=30,eO=t=>!isNaN(parseFloat(t));class tO{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=zt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=eO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new fp);const r=this.events[e].add(s);return e==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cb)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,cb);return cS(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fr(t,e){return new tO(t,e)}const cm=t=>Array.isArray(t);function nO(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,Fr(s))}function iO(t){return cm(t)?t[t.length-1]||0:t}function Ep(t,e){const s=Pr(t,e);let{transitionEnd:r={},transition:o={},...c}=s||{};c={...c,...r};for(const u in c){const h=iO(c[u]);nO(t,u,h)}}const Ot=t=>!!(t&&t.getVelocity);function sO(t){return!!(Ot(t)&&t.add)}function um(t,e){const s=t.getValue("willChange");if(sO(s))return s.add(e);if(!s&&mi.WillChange){const r=new mi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Ap(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const rO="framerAppearId",WS="data-"+Ap(rO);function FS(t){return t.props[WS]}function aO({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function YS(t,e,{delay:s=0,transitionOverride:r,type:o}={}){let{transition:c,transitionEnd:u,...h}=e;const m=t.getDefaultTransition();c=c?HS(c,m):m;const p=c?.reduceMotion;r&&(c=r);const g=[],v=o&&t.animationState&&t.animationState.getState()[o];for(const _ in h){const S=t.getValue(_,t.latestValues[_]??null),T=h[_];if(T===void 0||v&&aO(v,_))continue;const N={delay:s,...wp(c||{},_)},I=S.get();if(I!==void 0&&!S.isAnimating&&!Array.isArray(T)&&T===I&&!N.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const E=FS(t);if(E){const k=window.MotionHandoffAnimation(E,_,Qe);k!==null&&(N.startTime=k,D=!0)}}um(t,_);const H=p??t.shouldReduceMotion;S.start(Tp(_,S,T,H&&GS.has(_)?{type:!1}:N,t,D));const q=S.animation;q&&g.push(q)}if(u){const _=()=>Qe.update(()=>{u&&Ep(t,u)});g.length?Promise.all(g).then(_):_()}return g}function fm(t,e,s={}){const r=Pr(t,e,s.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(o=s.transitionOverride);const c=r?()=>Promise.all(YS(t,r,s)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=o;return oO(t,e,m,p,g,v,s)}:()=>Promise.resolve(),{when:h}=o;if(h){const[m,p]=h==="beforeChildren"?[c,u]:[u,c];return m().then(()=>p())}else return Promise.all([c(),u(s.delay)])}function oO(t,e,s=0,r=0,o=0,c=1,u){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(fm(m,e,{...u,delay:s+(typeof r=="function"?0:r)+US(t.variantChildren,m,r,o,c)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function QS(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(c=>fm(t,c,s));r=Promise.all(o)}else if(typeof e=="string")r=fm(t,e,s);else{const o=typeof e=="function"?Pr(t,e,s.custom):e;r=Promise.all(YS(t,o,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}const lO={test:t=>t==="auto",parse:t=>t},KS=t=>e=>e.test(t),XS=[$r,ae,Vn,Wi,PI,zI,lO],ub=t=>XS.find(KS(t));function cO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oS(t):!0}const uO=new Set(["brightness","contrast","saturate","opacity"]);function fO(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(pp)||[];if(!r)return t;const o=s.replace(r,"");let c=uO.has(e)?1:0;return r!==s&&(c*=100),e+"("+c+o+")"}const dO=/\b([a-z-]*)\(.*?\)/gu,dm={...kn,getAnimatableNone:t=>{const e=t.match(dO);return e?e.map(fO).join(" "):t}},hm={...kn,getAnimatableNone:t=>{const e=kn.parse(t);return kn.createTransformer(t)(e.map(r=>typeof r=="number"?0:typeof r=="object"?{...r,alpha:1}:r))}},fb={...$r,transform:Math.round},hO={rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:_c,scaleX:_c,scaleY:_c,scaleZ:_c,skew:Wi,skewX:Wi,skewY:Wi,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Io,originX:Z_,originY:Z_,originZ:ae},Mp={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,inset:ae,insetBlock:ae,insetBlockStart:ae,insetBlockEnd:ae,insetInline:ae,insetInlineStart:ae,insetInlineEnd:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,paddingBlock:ae,paddingBlockStart:ae,paddingBlockEnd:ae,paddingInline:ae,paddingInlineStart:ae,paddingInlineEnd:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,marginBlock:ae,marginBlockStart:ae,marginBlockEnd:ae,marginInline:ae,marginInlineStart:ae,marginInlineEnd:ae,fontSize:ae,backgroundPositionX:ae,backgroundPositionY:ae,...hO,zIndex:fb,fillOpacity:Io,strokeOpacity:Io,numOctaves:fb},mO={...Mp,color:ht,backgroundColor:ht,outlineColor:ht,fill:ht,stroke:ht,borderColor:ht,borderTopColor:ht,borderRightColor:ht,borderBottomColor:ht,borderLeftColor:ht,filter:dm,WebkitFilter:dm,mask:hm,WebkitMask:hm},ZS=t=>mO[t],pO=new Set([dm,hm]);function JS(t,e){let s=ZS(t);return pO.has(s)||(s=kn),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const gO=new Set(["auto","none","0"]);function yO(t,e,s){let r=0,o;for(;r<t.length&&!o;){const c=t[r];typeof c=="string"&&!gO.has(c)&&Do(c).values.length&&(o=t[r]),r++}if(o&&s)for(const c of e)t[c]=JS(s,o)}class vO extends Sp{constructor(e,s,r,o,c){super(e,s,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),mp(v))){const _=qS(v,s.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!GS.has(r)||e.length!==2)return;const[o,c]=e,u=ub(o),h=ub(c),m=X_(o),p=X_(c);if(m!==p&&Qi[r]){this.needsMeasurement=!0;return}if(u!==h)if(rb(u)&&rb(h))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Qi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||cO(e[o]))&&r.push(o);r.length&&yO(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(s);o&&o.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=Qi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const _O=new Set(["opacity","clipPath","filter","transform"]);function $S(t,e,s){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=s?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(r=>r!=null)}const ew=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function mm(t){return aS(t)&&"offsetHeight"in t}const{schedule:Np}=bS(queueMicrotask,!1),En={x:!1,y:!1};function tw(){return En.x||En.y}function bO(t){return t==="x"||t==="y"?En[t]?null:(En[t]=!0,()=>{En[t]=!1}):En.x||En.y?null:(En.x=En.y=!0,()=>{En.x=En.y=!1})}function nw(t,e){const s=$S(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[s,o,()=>r.abort()]}function xO(t){return!(t.pointerType==="touch"||tw())}function SO(t,e,s={}){const[r,o,c]=nw(t,s);return r.forEach(u=>{let h=!1,m=!1,p;const g=()=>{u.removeEventListener("pointerleave",T)},v=I=>{p&&(p(I),p=void 0),g()},_=I=>{h=!1,window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_),m&&(m=!1,v(I))},S=()=>{h=!0,window.addEventListener("pointerup",_,o),window.addEventListener("pointercancel",_,o)},T=I=>{if(I.pointerType!=="touch"){if(h){m=!0;return}v(I)}},N=I=>{if(!xO(I))return;m=!1;const D=e(u,I);typeof D=="function"&&(p=D,u.addEventListener("pointerleave",T,o))};u.addEventListener("pointerenter",N,o),u.addEventListener("pointerdown",S,o)}),c}const iw=(t,e)=>e?t===e?!0:iw(t,e.parentElement):!1,Rp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TO(t){return wO.has(t.tagName)||t.isContentEditable===!0}const CO=new Set(["INPUT","SELECT","TEXTAREA"]);function EO(t){return CO.has(t.tagName)||t.isContentEditable===!0}const Ac=new WeakSet;function db(t){return e=>{e.key==="Enter"&&t(e)}}function yh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AO=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=db(()=>{if(Ac.has(s))return;yh(s,"down");const o=db(()=>{yh(s,"up")}),c=()=>yh(s,"cancel");s.addEventListener("keyup",o,e),s.addEventListener("blur",c,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function hb(t){return Rp(t)&&!tw()}const mb=new WeakSet;function MO(t,e,s={}){const[r,o,c]=nw(t,s),u=h=>{const m=h.currentTarget;if(!hb(h)||mb.has(h))return;Ac.add(m),s.stopPropagation&&mb.add(h);const p=e(m,h),g=(S,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),Ac.has(m)&&Ac.delete(m),hb(S)&&typeof p=="function"&&p(S,{success:T})},v=S=>{g(S,m===window||m===document||s.useGlobalTarget||iw(m,S.target))},_=S=>{g(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),mm(h)&&(h.addEventListener("focus",p=>AO(p,o)),!TO(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function Ip(t){return aS(t)&&"ownerSVGElement"in t}const Mc=new WeakMap;let Nc;const sw=(t,e,s)=>(r,o)=>o&&o[0]?o[0][t+"Size"]:Ip(r)&&"getBBox"in r?r.getBBox()[e]:r[s],NO=sw("inline","width","offsetWidth"),RO=sw("block","height","offsetHeight");function IO({target:t,borderBoxSize:e}){Mc.get(t)?.forEach(s=>{s(t,{get width(){return NO(t,e)},get height(){return RO(t,e)}})})}function DO(t){t.forEach(IO)}function OO(){typeof ResizeObserver>"u"||(Nc=new ResizeObserver(DO))}function kO(t,e){Nc||OO();const s=$S(t);return s.forEach(r=>{let o=Mc.get(r);o||(o=new Set,Mc.set(r,o)),o.add(e),Nc?.observe(r)}),()=>{s.forEach(r=>{const o=Mc.get(r);o?.delete(e),o?.size||Nc?.unobserve(r)})}}const Rc=new Set;let Dr;function LO(){Dr=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Rc.forEach(e=>e(t))},window.addEventListener("resize",Dr)}function BO(t){return Rc.add(t),Dr||LO(),()=>{Rc.delete(t),!Rc.size&&typeof Dr=="function"&&(window.removeEventListener("resize",Dr),Dr=void 0)}}function pb(t,e){return typeof t=="function"?BO(t):kO(t,e)}function jO(t){return Ip(t)&&t.tagName==="svg"}const zO=[...XS,ht,kn],PO=t=>zO.find(KS(t)),gb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Or=()=>({x:gb(),y:gb()}),yb=()=>({min:0,max:0}),gt=()=>({x:yb(),y:yb()}),VO=new WeakMap;function xu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Oo(t){return typeof t=="string"||Array.isArray(t)}const Dp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Op=["initial",...Dp];function Su(t){return xu(t.animate)||Op.some(e=>Oo(t[e]))}function rw(t){return!!(Su(t)||t.variants)}function UO(t,e,s){for(const r in e){const o=e[r],c=s[r];if(Ot(o))t.addValue(r,o);else if(Ot(c))t.addValue(r,Fr(o,{owner:t}));else if(c!==o)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(r);t.addValue(r,Fr(u!==void 0?u:o,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const pm={current:null},aw={current:!1},qO=typeof window<"u";function HO(){if(aw.current=!0,!!qO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pm.current=t.matches;t.addEventListener("change",e),e()}else pm.current=!1}const vb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let tu={};function ow(t){tu=t}function GO(){return tu}class WO{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:o,skipAnimations:c,blockInitialAnimation:u,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Sp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=zt.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Qe.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=c,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Su(s),this.isVariantNode=rw(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(s,{},this);for(const S in _){const T=_[S];p[S]!==void 0&&Ot(T)&&T.set(p[S])}}mount(e){if(this.hasBeenMounted)for(const s in this.initialValues)this.values.get(s)?.jump(this.initialValues[s]),this.latestValues[s]=this.initialValues[s];this.current=e,VO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(aw.current||HO(),this.shouldReduceMotion=pm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ns(this.notifyUpdate),ns(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),s.accelerate&&_O.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:h,times:m,ease:p,duration:g}=s.accelerate,v=new PS({element:this.current,name:e,keyframes:h,times:m,ease:p,duration:On(g)}),_=u(v);this.valueSubscriptions.set(e,()=>{_(),v.cancel()});return}const r=ta.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tu){const s=tu[e];if(!s)continue;const{isEnabled:r,Feature:o}=s;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<vb.length;r++){const o=vb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=UO(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=Fr(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(rS(r)||oS(r))?r=parseFloat(r):!PO(r)&&kn.test(s)&&(r=JS(e,s)),this.setBaseTarget(e,Ot(r)?r.get():r)),Ot(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const c=Cp(this.props,s,this.presenceContext?.custom);c&&(r=c[e])}if(s&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ot(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new fp),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Np.render(this.render)}}class lw extends WO{constructor(){super(...arguments),this.KeyframeResolver=vO}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){const r=e.style;return r?r[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ot(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class ss{constructor(e){this.isMounted=!1,this.node=e}update(){}}function cw({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function FO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function YO(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function vh(t){return t===void 0||t===1}function gm({scale:t,scaleX:e,scaleY:s}){return!vh(t)||!vh(e)||!vh(s)}function Ms(t){return gm(t)||uw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uw(t){return _b(t.x)||_b(t.y)}function _b(t){return t&&t!=="0%"}function nu(t,e,s){const r=t-s,o=e*r;return s+o}function bb(t,e,s,r,o){return o!==void 0&&(t=nu(t,o,r)),nu(t,s,r)+e}function ym(t,e=0,s=1,r,o){t.min=bb(t.min,e,s,r,o),t.max=bb(t.max,e,s,r,o)}function fw(t,{x:e,y:s}){ym(t.x,e.translate,e.scale,e.originPoint),ym(t.y,s.translate,s.scale,s.originPoint)}const xb=.999999999999,Sb=1.0000000000001;function QO(t,e,s,r=!1){const o=s.length;if(!o)return;e.x=e.y=1;let c,u;for(let h=0;h<o;h++){c=s[h],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Lr(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,fw(t,u)),r&&Ms(c.latestValues)&&Lr(t,c.latestValues))}e.x<Sb&&e.x>xb&&(e.x=1),e.y<Sb&&e.y>xb&&(e.y=1)}function kr(t,e){t.min=t.min+e,t.max=t.max+e}function wb(t,e,s,r,o=.5){const c=et(t.min,t.max,o);ym(t,e,s,c,r)}function Lr(t,e){wb(t.x,e.x,e.scaleX,e.scale,e.originX),wb(t.y,e.y,e.scaleY,e.scale,e.originY)}function dw(t,e){return cw(YO(t.getBoundingClientRect(),e))}function KO(t,e,s){const r=dw(t,s),{scroll:o}=e;return o&&(kr(r.x,o.offset.x),kr(r.y,o.offset.y)),r}const XO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZO=ea.length;function JO(t,e,s){let r="",o=!0;for(let c=0;c<ZO;c++){const u=ea[c],h=t[u];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);m=u.startsWith("scale")?p===1:p===0}if(!m||s){const p=ew(h,Mp[u]);if(!m){o=!1;const g=XO[u]||u;r+=`${g}(${p}) `}s&&(e[u]=p)}}return r=r.trim(),s?r=s(e,o?"":r):o&&(r="none"),r}function kp(t,e,s){const{style:r,vars:o,transformOrigin:c}=t;let u=!1,h=!1;for(const m in e){const p=e[m];if(ta.has(m)){u=!0;continue}else if(SS(m)){o[m]=p;continue}else{const g=ew(p,Mp[m]);m.startsWith("origin")?(h=!0,c[m]=g):r[m]=g}}if(e.transform||(u||s?r.transform=JO(e,t.transform,s):r.transform&&(r.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:g=0}=c;r.transformOrigin=`${m} ${p} ${g}`}}function hw(t,{style:e,vars:s},r,o){const c=t.style;let u;for(u in e)c[u]=e[u];o?.applyProjectionStyles(c,r);for(u in s)c.setProperty(u,s[u])}function Tb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const no={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const s=Tb(t,e.target.x),r=Tb(t,e.target.y);return`${s}% ${r}%`}},$O={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,o=kn.parse(t);if(o.length>5)return r;const c=kn.createTransformer(t),u=typeof o[0]!="number"?1:0,h=s.x.scale*e.x,m=s.y.scale*e.y;o[0+u]/=h,o[1+u]/=m;const p=et(h,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),c(o)}},vm={borderRadius:{...no,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:no,borderTopRightRadius:no,borderBottomLeftRadius:no,borderBottomRightRadius:no,boxShadow:$O};function mw(t,{layout:e,layoutId:s}){return ta.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!vm[t]||t==="opacity")}function Lp(t,e,s){const r=t.style,o=e?.style,c={};if(!r)return c;for(const u in r)(Ot(r[u])||o&&Ot(o[u])||mw(u,t)||s?.getValue(u)?.liveStyle!==void 0)&&(c[u]=r[u]);return c}function e3(t){return window.getComputedStyle(t)}class t3 extends lw{constructor(){super(...arguments),this.type="html",this.renderInstance=hw}readValueFromInstance(e,s){if(ta.has(s))return this.projection?.isProjecting?im(s):SD(e,s);{const r=e3(e),o=(SS(s)?r.getPropertyValue(s):r[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:s}){return dw(e,s)}build(e,s,r){kp(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Lp(e,s,r)}}const n3={offset:"stroke-dashoffset",array:"stroke-dasharray"},i3={offset:"strokeDashoffset",array:"strokeDasharray"};function s3(t,e,s=1,r=0,o=!0){t.pathLength=1;const c=o?n3:i3;t[c.offset]=`${-r}`,t[c.array]=`${e} ${s}`}const r3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function pw(t,{attrX:e,attrY:s,attrScale:r,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...h},m,p,g){if(kp(t,h,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const S of r3)v[S]!==void 0&&(_[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),s!==void 0&&(v.y=s),r!==void 0&&(v.scale=r),o!==void 0&&s3(v,o,c,u,!1)}const gw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),yw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function a3(t,e,s,r){hw(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(gw.has(o)?o:Ap(o),e.attrs[o])}function vw(t,e,s){const r=Lp(t,e,s);for(const o in t)if(Ot(t[o])||Ot(e[o])){const c=ea.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=t[o]}return r}class o3 extends lw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(ta.has(s)){const r=ZS(s);return r&&r.default||0}return s=gw.has(s)?s:Ap(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return vw(e,s,r)}build(e,s,r){pw(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,o){a3(e,s,r,o)}mount(e){this.isSVGTag=yw(e.tagName),super.mount(e)}}const l3=Op.length;function _w(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?_w(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<l3;s++){const r=Op[s],o=t.props[r];(Oo(o)||o===!1)&&(e[r]=o)}return e}function bw(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const c3=[...Dp].reverse(),u3=Dp.length;function f3(t){return e=>Promise.all(e.map(({animation:s,options:r})=>QS(t,s,r)))}function d3(t){let e=f3(t),s=Cb(),r=!0;const o=m=>(p,g)=>{const v=Pr(t,g,m==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:S,...T}=v;p={...p,...T,...S}}return p};function c(m){e=m(t)}function u(m){const{props:p}=t,g=_w(t.parent)||{},v=[],_=new Set;let S={},T=1/0;for(let I=0;I<u3;I++){const D=c3[I],H=s[D],q=p[D]!==void 0?p[D]:g[D],E=Oo(q),k=D===m?H.isActive:null;k===!1&&(T=I);let P=q===g[D]&&q!==p[D]&&E;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),H.protectedKeys={...S},!H.isActive&&k===null||!q&&!H.prevProp||xu(q)||typeof q=="boolean")continue;if(D==="exit"&&H.isActive&&k!==!0){H.prevResolvedValues&&(S={...S,...H.prevResolvedValues});continue}const G=h3(H.prevProp,q);let O=G||D===m&&H.isActive&&!P&&E||I>T&&E,$=!1;const ce=Array.isArray(q)?q:[q];let ve=ce.reduce(o(D),{});k===!1&&(ve={});const{prevResolvedValues:Se={}}=H,Ke={...Se,...ve},Ne=Y=>{O=!0,_.has(Y)&&($=!0,_.delete(Y)),H.needsAnimating[Y]=!0;const ee=t.getValue(Y);ee&&(ee.liveStyle=!1)};for(const Y in Ke){const ee=ve[Y],X=Se[Y];if(S.hasOwnProperty(Y))continue;let W=!1;cm(ee)&&cm(X)?W=!bw(ee,X):W=ee!==X,W?ee!=null?Ne(Y):_.add(Y):ee!==void 0&&_.has(Y)?Ne(Y):H.protectedKeys[Y]=!0}H.prevProp=q,H.prevResolvedValues=ve,H.isActive&&(S={...S,...ve}),r&&t.blockInitialAnimation&&(O=!1);const je=P&&G;O&&(!je||$)&&v.push(...ce.map(Y=>{const ee={type:D};if(typeof Y=="string"&&r&&!je&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,W=Pr(X,Y);if(X.enteringChildren&&W){const{delayChildren:w}=W.transition||{};ee.delay=US(X.enteringChildren,t,w)}}return{animation:Y,options:ee}}))}if(_.size){const I={};if(typeof p.initial!="boolean"){const D=Pr(t,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(I.transition=D.transition)}_.forEach(D=>{const H=t.getBaseTarget(D),q=t.getValue(D);q&&(q.liveStyle=!0),I[D]=H??null}),v.push({animation:I})}let N=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(v):Promise.resolve()}function h(m,p){if(s[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),s[m].isActive=p;const g=u(m);for(const v in s)s[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Cb()}}}function h3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bw(e,t):!1}function Ts(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cb(){return{animate:Ts(!0),whileInView:Ts(),whileHover:Ts(),whileTap:Ts(),whileDrag:Ts(),whileFocus:Ts(),exit:Ts()}}function Eb(t,e){t.min=e.min,t.max=e.max}function Cn(t,e){Eb(t.x,e.x),Eb(t.y,e.y)}function Ab(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const xw=1e-4,m3=1-xw,p3=1+xw,Sw=.01,g3=0-Sw,y3=0+Sw;function Pt(t){return t.max-t.min}function v3(t,e,s){return Math.abs(t-e)<=s}function Mb(t,e,s,r=.5){t.origin=r,t.originPoint=et(e.min,e.max,t.origin),t.scale=Pt(s)/Pt(e),t.translate=et(s.min,s.max,t.origin)-t.originPoint,(t.scale>=m3&&t.scale<=p3||isNaN(t.scale))&&(t.scale=1),(t.translate>=g3&&t.translate<=y3||isNaN(t.translate))&&(t.translate=0)}function po(t,e,s,r){Mb(t.x,e.x,s.x,r?r.originX:void 0),Mb(t.y,e.y,s.y,r?r.originY:void 0)}function Nb(t,e,s){t.min=s.min+e.min,t.max=t.min+Pt(e)}function _3(t,e,s){Nb(t.x,e.x,s.x),Nb(t.y,e.y,s.y)}function Rb(t,e,s){t.min=e.min-s.min,t.max=t.min+Pt(e)}function iu(t,e,s){Rb(t.x,e.x,s.x),Rb(t.y,e.y,s.y)}function Ib(t,e,s,r,o){return t-=e,t=nu(t,1/s,r),o!==void 0&&(t=nu(t,1/o,r)),t}function b3(t,e=0,s=1,r=.5,o,c=t,u=t){if(Vn.test(e)&&(e=parseFloat(e),e=et(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=et(c.min,c.max,r);t===c&&(h-=e),t.min=Ib(t.min,e,s,h,o),t.max=Ib(t.max,e,s,h,o)}function Db(t,e,[s,r,o],c,u){b3(t,e[s],e[r],e[o],e.scale,c,u)}const x3=["x","scaleX","originX"],S3=["y","scaleY","originY"];function Ob(t,e,s,r){Db(t.x,e,x3,s?s.x:void 0,r?r.x:void 0),Db(t.y,e,S3,s?s.y:void 0,r?r.y:void 0)}function kb(t){return t.translate===0&&t.scale===1}function ww(t){return kb(t.x)&&kb(t.y)}function Lb(t,e){return t.min===e.min&&t.max===e.max}function w3(t,e){return Lb(t.x,e.x)&&Lb(t.y,e.y)}function Bb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Tw(t,e){return Bb(t.x,e.x)&&Bb(t.y,e.y)}function jb(t){return Pt(t.x)/Pt(t.y)}function zb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Pn(t){return[t("x"),t("y")]}function T3(t,e,s){let r="";const o=t.x.translate/e.x,c=t.y.translate/e.y,u=s?.z||0;if((o||c||u)&&(r=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:_,skewX:S,skewY:T}=s;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),S&&(r+=`skewX(${S}deg) `),T&&(r+=`skewY(${T}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(r+=`scale(${h}, ${m})`),r||"none"}const Cw=["TopLeft","TopRight","BottomLeft","BottomRight"],C3=Cw.length,Pb=t=>typeof t=="string"?parseFloat(t):t,Vb=t=>typeof t=="number"||ae.test(t);function E3(t,e,s,r,o,c){o?(t.opacity=et(0,s.opacity??1,A3(r)),t.opacityExit=et(e.opacity??1,0,M3(r))):c&&(t.opacity=et(e.opacity??1,s.opacity??1,r));for(let u=0;u<C3;u++){const h=`border${Cw[u]}Radius`;let m=Ub(e,h),p=Ub(s,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||Vb(m)===Vb(p)?(t[h]=Math.max(et(Pb(m),Pb(p),r),0),(Vn.test(p)||Vn.test(m))&&(t[h]+="%")):t[h]=p}(e.rotate||s.rotate)&&(t.rotate=et(e.rotate||0,s.rotate||0,r))}function Ub(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const A3=Ew(0,.5,gS),M3=Ew(.5,.95,bn);function Ew(t,e,s){return r=>r<t?0:r>e?1:s(Ro(t,e,r))}function N3(t,e,s){const r=Ot(t)?t:Fr(t);return r.start(Tp("",r,e,s)),r.animation}function ko(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}const R3=(t,e)=>t.depth-e.depth;class I3{constructor(){this.children=[],this.isDirty=!1}add(e){cp(this.children,e),this.isDirty=!0}remove(e){Zc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(R3),this.isDirty=!1,this.children.forEach(e)}}function D3(t,e){const s=zt.now(),r=({timestamp:o})=>{const c=o-s;c>=e&&(ns(r),t(c-e))};return Qe.setup(r,!0),()=>ns(r)}function Ic(t){return Ot(t)?t.get():t}class O3{constructor(){this.members=[]}add(e){cp(this.members,e);for(let s=this.members.length-1;s>=0;s--){const r=this.members[s];if(r===e||r===this.lead||r===this.prevLead)continue;const o=r.instance;o&&o.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Zc(this.members,r)}e.scheduleRender()}remove(e){if(Zc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(o=>e===o);if(s===0)return!1;let r;for(let o=s;o>=0;o--){const c=this.members[o],u=c.instance;if(c.isPresent!==!1&&(!u||u.isConnected!==!1)){r=c;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const o=r.options.layoutDependency,c=e.options.layoutDependency;if(!(o!==void 0&&c!==void 0&&o===c)){const m=r.instance;m&&m.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},_h=["","X","Y","Z"],k3=1e3;let L3=0;function bh(t,e,s,r){const{latestValues:o}=e;o[t]&&(s[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Aw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=FS(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Qe,!(o||c))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Aw(r)}function Mw({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},h=e?.()){this.id=L3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(z3),this.nodes.forEach(q3),this.nodes.forEach(H3),this.nodes.forEach(P3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new I3)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new fp),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Ip(u)&&!jO(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=D3(_,250),Dc.hasAnimatedSinceResize&&(Dc.hasAnimatedSinceResize=!1,this.nodes.forEach(Gb)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||Q3,{onLayoutAnimationStart:N,onLayoutAnimationComplete:I}=p.getProps(),D=!this.targetLayout||!Tw(this.targetLayout,S),H=!v&&_;if(this.options.layoutRoot||this.resumeFrom||H||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...wp(T,"layout"),onPlay:N,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(g,H)}else v||Gb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G3),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Aw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Hb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(U3),this.nodes.forEach(B3),this.nodes.forEach(j3)):this.nodes.forEach(Hb),this.clearAllSnapshots();const h=zt.now();Mt.delta=Un(0,1e3/60,h-Mt.timestamp),Mt.timestamp=h,Mt.isProcessing=!0,fh.update.process(Mt),fh.preRender.process(Mt),fh.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Np.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(V3),this.sharedNodes.forEach(W3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pt(this.snapshot.measuredBox.x)&&!Pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!ww(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ms(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),K3(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return gt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(X3))){const{scroll:p}=this.root;p&&(kr(h.x,p.offset.x),kr(h.y,p.offset.y))}return h}removeElementScroll(u){const h=gt();if(Cn(h,u),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Cn(h,u),kr(h.x,g.offset.x),kr(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const m=gt();Cn(m,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Lr(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ms(g.latestValues)&&Lr(m,g.latestValues)}return Ms(this.latestValues)&&Lr(m,this.latestValues),m}removeTransform(u){const h=gt();Cn(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ms(p.latestValues))continue;gm(p.latestValues)&&p.updateSnapshot();const g=gt(),v=p.measurePageBox();Cn(g,v),Ob(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ms(this.latestValues)&&Ob(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Mt.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),fw(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||gm(this.parent.latestValues)||uw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),iu(this.relativeTargetOrigin,h,m),Cn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Cn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;QO(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=gt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ab(this.prevProjectionDelta.x,this.projectionDelta.x),Ab(this.prevProjectionDelta.y,this.projectionDelta.y)),po(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!zb(this.projectionDelta.x,this.prevProjectionDelta.x)||!zb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Or(),this.projectionDelta=Or(),this.projectionDeltaWithTransform=Or()}setAnimationOrigin(u,h=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},v=Or();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=gt(),S=m?m.source:void 0,T=this.layout?this.layout.source:void 0,N=S!==T,I=this.getStack(),D=!I||I.members.length<=1,H=!!(N&&!D&&this.options.crossfade===!0&&!this.path.some(Y3));this.animationProgress=0;let q;this.mixTargetDelta=E=>{const k=E/1e3;Wb(v.x,u.x,k),Wb(v.y,u.y,k),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(iu(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F3(this.relativeTarget,this.relativeTargetOrigin,_,k),q&&w3(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=gt()),Cn(q,this.relativeTarget)),N&&(this.animationValues=g,E3(g,p,this.latestValues,k,H,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{Dc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fr(0)),this.motionValue.jump(0,!1),this.currentAnimation=N3(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:g}=u;if(!(!h||!m||!p)){if(this!==u&&this.layout&&p&&Nw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||gt();const v=Pt(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const _=Pt(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+_}Cn(h,m),Lr(h,g),po(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new O3),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&bh("z",u,p,this.animationValues);for(let g=0;g<_h.length;g++)bh(`rotate${_h[g]}`,u,p,this.animationValues),bh(`skew${_h[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ic(h?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ic(h?.pointerEvents)||""),this.hasProjected&&!Ms(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=T3(this.projectionDeltaWithTransform,this.treeScale,g);m&&(v=m(g,v)),u.transform=v;const{x:_,y:S}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in vm){if(g[T]===void 0)continue;const{correct:N,applyTo:I,isCSSVariable:D}=vm[T],H=v==="none"?g[T]:N(g[T],p);if(I){const q=I.length;for(let E=0;E<q;E++)u[I[E]]=H}else D?this.options.visualElement.renderState.vars[T]=H:u[T]=H}this.options.layoutId&&(u.pointerEvents=p===this?Ic(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(qb),this.root.sharedNodes.clear()}}}function B3(t){t.updateLayout()}function j3(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?Pn(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],_=Pt(v);v.min=s[g].min,v.max=v.min+_}):Nw(o,e.layoutBox,s)&&Pn(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],_=Pt(s[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const u=Or();po(u,s,e.layoutBox);const h=Or();c?po(h,t.applyTransform(r,!0),e.measuredBox):po(h,s,e.layoutBox);const m=!ww(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const S=gt();iu(S,e.layoutBox,v.layoutBox);const T=gt();iu(T,s,_.layoutBox),Tw(S,T)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function z3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function P3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function V3(t){t.clearSnapshot()}function qb(t){t.clearMeasurements()}function Hb(t){t.isLayoutDirty=!1}function U3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function q3(t){t.resolveTargetDelta()}function H3(t){t.calcProjection()}function G3(t){t.resetSkewAndRotation()}function W3(t){t.removeLeadSnapshot()}function Wb(t,e,s){t.translate=et(e.translate,0,s),t.scale=et(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Fb(t,e,s,r){t.min=et(e.min,s.min,r),t.max=et(e.max,s.max,r)}function F3(t,e,s,r){Fb(t.x,e.x,s.x,r),Fb(t.y,e.y,s.y,r)}function Y3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Q3={duration:.45,ease:[.4,0,.1,1]},Yb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Qb=Yb("applewebkit/")&&!Yb("chrome/")?Math.round:bn;function Kb(t){t.min=Qb(t.min),t.max=Qb(t.max)}function K3(t){Kb(t.x),Kb(t.y)}function Nw(t,e,s){return t==="position"||t==="preserve-aspect"&&!v3(jb(e),jb(s),.2)}function X3(t){return t!==t.root&&t.scroll?.wasRoot}const Z3=Mw({attachResizeListener:(t,e)=>ko(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),xh={current:void 0},Rw=Mw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xh.current){const t=new Z3({});t.mount(window),t.setOptions({layoutScroll:!0}),xh.current=t}return xh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Bp=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Xb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function J3(...t){return e=>{let s=!1;const r=t.map(o=>{const c=Xb(o,e);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():Xb(t[o],null)}}}}function $3(...t){return M.useCallback(J3(...t),t)}class e6 extends M.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=s.offsetParent,o=mm(r)&&r.offsetWidth||0,c=mm(r)&&r.offsetHeight||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=o-u.width-u.left,u.bottom=c-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function t6({children:t,isPresent:e,anchorX:s,anchorY:r,root:o,pop:c}){const u=M.useId(),h=M.useRef(null),m=M.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=M.useContext(Bp),g=t.props?.ref??t?.ref,v=$3(h,g);return M.useInsertionEffect(()=>{const{width:_,height:S,top:T,left:N,right:I,bottom:D}=m.current;if(e||c===!1||!h.current||!_||!S)return;const H=s==="left"?`left: ${N}`:`right: ${I}`,q=r==="bottom"?`bottom: ${D}`:`top: ${T}`;h.current.dataset.motionPopId=u;const E=document.createElement("style");p&&(E.nonce=p);const k=o??document.head;return k.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${S}px !important;
            ${H}px !important;
            ${q}px !important;
          }
        `),()=>{k.contains(E)&&k.removeChild(E)}},[e]),b.jsx(e6,{isPresent:e,childRef:h,sizeRef:m,pop:c,children:c===!1?t:M.cloneElement(t,{ref:v})})}const n6=({children:t,initial:e,isPresent:s,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:u,anchorX:h,anchorY:m,root:p})=>{const g=_u(i6),v=M.useId();let _=!0,S=M.useMemo(()=>(_=!1,{id:v,initial:e,isPresent:s,custom:o,onExitComplete:T=>{g.set(T,!0);for(const N of g.values())if(!N)return;r&&r()},register:T=>(g.set(T,!1),()=>g.delete(T))}),[s,g,r]);return c&&_&&(S={...S}),M.useMemo(()=>{g.forEach((T,N)=>g.set(N,!1))},[s]),M.useEffect(()=>{!s&&!g.size&&r&&r()},[s]),t=b.jsx(t6,{pop:u==="popLayout",isPresent:s,anchorX:h,anchorY:m,root:p,children:t}),b.jsx(bu.Provider,{value:S,children:t})};function i6(){return new Map}function Iw(t=!0){const e=M.useContext(bu);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:o}=e,c=M.useId();M.useEffect(()=>{if(t)return o(c)},[t]);const u=M.useCallback(()=>t&&r&&r(c),[c,r,t]);return!s&&r?[!1,u]:[!0]}const bc=t=>t.key||"";function Zb(t){const e=[];return M.Children.forEach(t,s=>{M.isValidElement(s)&&e.push(s)}),e}const Bs=({children:t,custom:e,initial:s=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",anchorY:m="top",root:p})=>{const[g,v]=Iw(u),_=M.useMemo(()=>Zb(t),[t]),S=u&&!g?[]:_.map(bc),T=M.useRef(!0),N=M.useRef(_),I=_u(()=>new Map),D=M.useRef(new Set),[H,q]=M.useState(_),[E,k]=M.useState(_);lp(()=>{T.current=!1,N.current=_;for(let O=0;O<E.length;O++){const $=bc(E[O]);S.includes($)?(I.delete($),D.current.delete($)):I.get($)!==!0&&I.set($,!1)}},[E,S.length,S.join("-")]);const P=[];if(_!==H){let O=[..._];for(let $=0;$<E.length;$++){const ce=E[$],ve=bc(ce);S.includes(ve)||(O.splice($,0,ce),P.push(ce))}return c==="wait"&&P.length&&(O=P),k(Zb(O)),q(_),null}const{forceRender:G}=M.useContext(op);return b.jsx(b.Fragment,{children:E.map(O=>{const $=bc(O),ce=u&&!g?!1:_===E||S.includes($),ve=()=>{if(D.current.has($))return;if(D.current.add($),I.has($))I.set($,!0);else return;let Se=!0;I.forEach(Ke=>{Ke||(Se=!1)}),Se&&(G?.(),k(N.current),u&&v?.(),r&&r())};return b.jsx(n6,{isPresent:ce,initial:!T.current||s?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:p,onExitComplete:ce?void 0:ve,anchorX:h,anchorY:m,children:O},$)})})},Dw=M.createContext({strict:!1}),Jb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let $b=!1;function s6(){if($b)return;const t={};for(const e in Jb)t[e]={isEnabled:s=>Jb[e].some(r=>!!s[r])};ow(t),$b=!0}function Ow(){return s6(),GO()}function r6(t){const e=Ow();for(const s in t)e[s]={...e[s],...t[s]};ow(e)}const a6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function su(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||a6.has(t)}let kw=t=>!su(t);function o6(t){typeof t=="function"&&(kw=e=>e.startsWith("on")?!su(e):t(e))}try{o6(require("@emotion/is-prop-valid").default)}catch{}function l6(t,e,s){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(kw(o)||s===!0&&su(o)||!e&&!su(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const wu=M.createContext({});function c6(t,e){if(Su(t)){const{initial:s,animate:r}=t;return{initial:s===!1||Oo(s)?s:void 0,animate:Oo(r)?r:void 0}}return t.inherit!==!1?e:{}}function u6(t){const{initial:e,animate:s}=c6(t,M.useContext(wu));return M.useMemo(()=>({initial:e,animate:s}),[e1(e),e1(s)])}function e1(t){return Array.isArray(t)?t.join(" "):t}const jp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Lw(t,e,s){for(const r in e)!Ot(e[r])&&!mw(r,s)&&(t[r]=e[r])}function f6({transformTemplate:t},e){return M.useMemo(()=>{const s=jp();return kp(s,e,t),Object.assign({},s.vars,s.style)},[e])}function d6(t,e){const s=t.style||{},r={};return Lw(r,s,t),Object.assign(r,f6(t,e)),r}function h6(t,e){const s={},r=d6(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const Bw=()=>({...jp(),attrs:{}});function m6(t,e,s,r){const o=M.useMemo(()=>{const c=Bw();return pw(c,e,yw(r),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};Lw(c,t.style,t),o.style={...c,...o.style}}return o}const p6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zp(t){return typeof t!="string"||t.includes("-")?!1:!!(p6.indexOf(t)>-1||/[A-Z]/u.test(t))}function g6(t,e,s,{latestValues:r},o,c=!1,u){const m=(u??zp(t)?m6:h6)(e,r,o,t),p=l6(e,typeof t=="string",c),g=t!==M.Fragment?{...p,...m,ref:s}:{},{children:v}=e,_=M.useMemo(()=>Ot(v)?v.get():v,[v]);return M.createElement(t,{...g,children:_})}function y6({scrapeMotionValuesFromProps:t,createRenderState:e},s,r,o){return{latestValues:v6(s,r,o,t),renderState:e()}}function v6(t,e,s,r){const o={},c=r(t,{});for(const _ in c)o[_]=Ic(c[_]);let{initial:u,animate:h}=t;const m=Su(t),p=rw(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=s?s.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!xu(v)){const _=Array.isArray(v)?v:[v];for(let S=0;S<_.length;S++){const T=Cp(t,_[S]);if(T){const{transitionEnd:N,transition:I,...D}=T;for(const H in D){let q=D[H];if(Array.isArray(q)){const E=g?q.length-1:0;q=q[E]}q!==null&&(o[H]=q)}for(const H in N)o[H]=N[H]}}}return o}const jw=t=>(e,s)=>{const r=M.useContext(wu),o=M.useContext(bu),c=()=>y6(t,e,r,o);return s?c():_u(c)},_6=jw({scrapeMotionValuesFromProps:Lp,createRenderState:jp}),b6=jw({scrapeMotionValuesFromProps:vw,createRenderState:Bw}),x6=Symbol.for("motionComponentSymbol");function S6(t,e,s){const r=M.useRef(s);M.useInsertionEffect(()=>{r.current=s});const o=M.useRef(null);return M.useCallback(c=>{c&&t.onMount?.(c),e&&(c?e.mount(c):e.unmount());const u=r.current;if(typeof u=="function")if(c){const h=u(c);typeof h=="function"&&(o.current=h)}else o.current?(o.current(),o.current=null):u(c);else u&&(u.current=c)},[e])}const zw=M.createContext({});function Mr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function w6(t,e,s,r,o,c){const{visualElement:u}=M.useContext(wu),h=M.useContext(Dw),m=M.useContext(bu),p=M.useContext(Bp),g=p.reducedMotion,v=p.skipAnimations,_=M.useRef(null),S=M.useRef(!1);r=r||h.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:u,props:s,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g,skipAnimations:v,isSVG:c}),S.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));const T=_.current,N=M.useContext(zw);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&T6(_.current,s,o,N);const I=M.useRef(!1);M.useInsertionEffect(()=>{T&&I.current&&T.update(s,m)});const D=s[WS],H=M.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return lp(()=>{S.current=!0,T&&(I.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),H.current&&T.animationState&&T.animationState.animateChanges())}),M.useEffect(()=>{T&&(!H.current&&T.animationState&&T.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),H.current=!1),T.enteringChildren=void 0)}),T}function T6(t,e,s,r){const{layoutId:o,layout:c,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Pw(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||h&&Mr(h),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:p})}function Pw(t){if(t)return t.options.allowProjection!==!1?t.projection:Pw(t.parent)}function Sh(t,{forwardMotionProps:e=!1,type:s}={},r,o){r&&r6(r);const c=s?s==="svg":zp(t),u=c?b6:_6;function h(p,g){let v;const _={...M.useContext(Bp),...p,layoutId:C6(p)},{isStatic:S}=_,T=u6(p),N=u(p,S);if(!S&&sS){E6();const I=A6(_);v=I.MeasureLayout,T.visualElement=w6(t,N,_,o,I.ProjectionNode,c)}return b.jsxs(wu.Provider,{value:T,children:[v&&T.visualElement?b.jsx(v,{visualElement:T.visualElement,..._}):null,g6(t,p,S6(N,T.visualElement,g),N,S,e,c)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=M.forwardRef(h);return m[x6]=t,m}function C6({layoutId:t}){const e=M.useContext(op).id;return e&&t!==void 0?e+"-"+t:t}function E6(t,e){M.useContext(Dw).strict}function A6(t){const e=Ow(),{drag:s,layout:r}=e;if(!s&&!r)return{};const o={...s,...r};return{MeasureLayout:s?.isEnabled(t)||r?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function M6(t,e){if(typeof Proxy>"u")return Sh;const s=new Map,r=(c,u)=>Sh(c,u,t,e),o=(c,u)=>r(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?r:(s.has(u)||s.set(u,Sh(u,void 0,t,e)),s.get(u))})}const N6=(t,e)=>e.isSVG??zp(t)?new o3(e):new t3(e,{allowProjection:t!==M.Fragment});class R6 extends ss{constructor(e){super(e),e.animationState||(e.animationState=d3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let I6=0;class D6 extends ss{constructor(){super(...arguments),this.id=I6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);s&&!e&&o.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const O6={animation:{Feature:R6},exit:{Feature:D6}};function Yo(t){return{point:{x:t.pageX,y:t.pageY}}}const k6=t=>e=>Rp(e)&&t(e,Yo(e));function go(t,e,s,r){return ko(t,e,k6(s),r)}const Vw=({current:t})=>t?t.ownerDocument.defaultView:null,t1=(t,e)=>Math.abs(t-e);function L6(t,e){const s=t1(t.x,e.x),r=t1(t.y,e.y);return Math.sqrt(s**2+r**2)}const n1=new Set(["auto","scroll"]);class Uw{constructor(e,s,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Th(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,N=L6(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!N)return;const{point:I}=S,{timestamp:D}=Mt;this.history.push({...I,timestamp:D});const{onStart:H,onMove:q}=this.handlers;T||(H&&H(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,S)},this.handlePointerMove=(S,T)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=wh(T,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(S,T)=>{this.end();const{onEnd:N,onSessionEnd:I,resumeAnimation:D}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const H=Th(S.type==="pointercancel"?this.lastMoveEventInfo:wh(T,this.transformPagePoint),this.history);this.startEvent&&N&&N(S,H),I&&I(S,H)},!Rp(e))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const m=Yo(e),p=wh(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=Mt;this.history=[{...g,timestamp:v}];const{onSessionStart:_}=s;_&&_(e,Th(p,this.history)),this.removeListeners=Go(go(this.contextWindow,"pointermove",this.handlePointerMove),go(this.contextWindow,"pointerup",this.handlePointerUp),go(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let s=e.parentElement;for(;s;){const r=getComputedStyle(s);(n1.has(r.overflowX)||n1.has(r.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const s=this.scrollPositions.get(e);if(!s)return;const r=e===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},c={x:o.x-s.x,y:o.y-s.y};c.x===0&&c.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(e,o),Qe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ns(this.updatePoint)}}function wh(t,e){return e?{point:e(t.point)}:t}function i1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Th({point:t},e){return{point:t,delta:i1(t,qw(e)),offset:i1(t,B6(e)),velocity:j6(e,.1)}}function B6(t){return t[0]}function qw(t){return t[t.length-1]}function j6(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const o=qw(t);for(;s>=0&&(r=t[s],!(o.timestamp-r.timestamp>On(e)));)s--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&o.timestamp-r.timestamp>On(e)*2&&(r=t[1]);const c=_n(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function z6(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?et(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?et(s,t,r.max):Math.min(t,s)),t}function s1(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function P6(t,{top:e,left:s,bottom:r,right:o}){return{x:s1(t.x,s,o),y:s1(t.y,e,r)}}function r1(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function V6(t,e){return{x:r1(t.x,e.x),y:r1(t.y,e.y)}}function U6(t,e){let s=.5;const r=Pt(t),o=Pt(e);return o>r?s=Ro(e.min,e.max-r,t.min):r>o&&(s=Ro(t.min,t.max-o,e.min)),Un(0,1,s)}function q6(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const _m=.35;function H6(t=_m){return t===!1?t=0:t===!0&&(t=_m),{x:a1(t,"left","right"),y:a1(t,"top","bottom")}}function a1(t,e,s){return{min:o1(t,e),max:o1(t,s)}}function o1(t,e){return typeof t=="number"?t:t[e]||0}const G6=new WeakMap;class W6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=v=>{s&&this.snapToCursor(Yo(v).point),this.stopAnimation()},u=(v,_)=>{const{drag:S,dragPropagation:T,onDragStart:N}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bO(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pn(D=>{let H=this.getAxisMotionValue(D).get()||0;if(Vn.test(H)){const{projection:q}=this.visualElement;if(q&&q.layout){const E=q.layout.layoutBox[D];E&&(H=Pt(E)*(parseFloat(H)/100))}}this.originPoint[D]=H}),N&&Qe.update(()=>N(v,_),!1,!0),um(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:N,onDrag:I}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:D}=_;if(T&&this.currentDirection===null){this.currentDirection=Y6(D),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",_.point,D),this.updateAxis("y",_.point,D),this.visualElement.render(),I&&Qe.update(()=>I(v,_),!1,!0)},m=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:g}=this.getProps();this.panSession=new Uw(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:Vw(this.visualElement),element:this.visualElement.current})}stop(e,s){const r=e||this.latestPointerEvent,o=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Qe.postRender(()=>h(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,s,r){const{drag:o}=this.getProps();if(!r||!xc(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=z6(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Mr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=P6(r.layoutBox,e):this.constraints=!1,this.elastic=H6(s),o!==this.constraints&&!Mr(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Pn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=q6(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Mr(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=KO(r,o.root,this.visualElement.getTransformPagePoint());let u=V6(o.layout.layoutBox,c);if(s){const h=s(FO(u));this.hasMutatedConstraints=!!h,h&&(u=cw(h))}return u}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=Pn(g=>{if(!xc(g,s,this.currentDirection))return;let v=m&&m[g]||{};u&&(v={min:0,max:0});const _=o?200:1e6,S=o?40:1e7,T={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...c,...v};return this.startAxisValueAnimation(g,T)});return Promise.all(p).then(h)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return um(this.visualElement,e),r.start(Tp(e,r,0,s,this.visualElement,!1))}stopAnimation(){Pn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[s];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Pn(s=>{const{drag:r}=this.getProps();if(!xc(s,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[s],m=c.get()||0;c.set(e[s]-et(u,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Mr(s)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Pn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();o[u]=U6({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Pn(u=>{if(!xc(u,e,null))return;const h=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];h.set(et(m,p,o[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;G6.set(this.visualElement,this);const e=this.visualElement.current,s=go(e,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps(),_=p.target,S=_!==e&&EO(_);g&&v&&!S&&this.start(p)});let r;const o=()=>{const{dragConstraints:p}=this.getProps();Mr(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),r||(r=F6(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:c}=this.visualElement,u=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Qe.read(o);const h=ko(window,"resize",()=>this.scalePositionWithinConstraints()),m=c.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Pn(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=p[v].translate,_.set(_.get()+p[v].translate))}),this.visualElement.render())}));return()=>{h(),s(),u(),m&&m(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=_m,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function l1(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function F6(t,e,s){const r=pb(t,l1(s)),o=pb(e,l1(s));return()=>{r(),o()}}function xc(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function Y6(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class Q6 extends ss{constructor(e){super(e),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new W6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};e!==s&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ch=t=>(e,s)=>{t&&Qe.update(()=>t(e,s),!1,!0)};class K6 extends ss{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(e){this.session=new Uw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Ch(e),onStart:Ch(s),onMove:Ch(r),onEnd:(c,u)=>{delete this.session,o&&Qe.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=go(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Eh=!1;class X6 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=e;c&&(s.group&&s.group.add(c),r&&r.register&&o&&r.register(c),Eh&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:o,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,e.layoutDependency!==s&&u.setOptions({...u.options,layoutDependency:s}),Eh=!0,o||e.layoutDependency!==s||s===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Qe.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Np.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:o}=e;Eh=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hw(t){const[e,s]=Iw(),r=M.useContext(op);return b.jsx(X6,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(zw),isPresent:e,safeToRemove:s})}const Z6={pan:{Feature:K6},drag:{Feature:Q6,ProjectionNode:Rw,MeasureLayout:Hw}};function c1(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=r[o];c&&Qe.postRender(()=>c(e,Yo(e)))}class J6 extends ss{mount(){const{current:e}=this.node;e&&(this.unmount=SO(e,(s,r)=>(c1(this.node,r,"Start"),o=>c1(this.node,o,"End"))))}unmount(){}}class $6 extends ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Go(ko(this.node.current,"focus",()=>this.onFocus()),ko(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u1(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=r[o];c&&Qe.postRender(()=>c(e,Yo(e)))}class ek extends ss{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:s,propagate:r}=this.node.props;this.unmount=MO(e,(o,c)=>(u1(this.node,c,"Start"),(u,{success:h})=>u1(this.node,u,h?"End":"Cancel")),{useGlobalTarget:s,stopPropagation:r?.tap===!1})}unmount(){}}const bm=new WeakMap,Ah=new WeakMap,tk=t=>{const e=bm.get(t.target);e&&e(t)},nk=t=>{t.forEach(tk)};function ik({root:t,...e}){const s=t||document;Ah.has(s)||Ah.set(s,{});const r=Ah.get(s),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(nk,{root:t,...e})),r[o]}function sk(t,e,s){const r=ik(e);return bm.set(t,s),r.observe(t),()=>{bm.delete(t),r.unobserve(t)}}const rk={some:0,all:1};class ak extends ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:o="some",once:c}=e,u={root:s?s.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:rk[o]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=p?g:v;_&&_(m)};return sk(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(ok(e,s))&&this.startObserver()}unmount(){}}function ok({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const lk={inView:{Feature:ak},tap:{Feature:ek},focus:{Feature:$6},hover:{Feature:J6}},ck={layout:{ProjectionNode:Rw,MeasureLayout:Hw}},uk={...O6,...lk,...Z6,...ck},kt=M6(uk,N6);function fk(t){t.values.forEach(e=>e.stop())}function xm(t,e){[...e].reverse().forEach(r=>{const o=t.getVariant(r);o&&Ep(t,o),t.variantChildren&&t.variantChildren.forEach(c=>{xm(c,e)})})}function dk(t,e){if(Array.isArray(e))return xm(t,e);if(typeof e=="string")return xm(t,[e]);Ep(t,e)}function hk(){const t=new Set,e={subscribe(s){return t.add(s),()=>{t.delete(s)}},start(s,r){const o=[];return t.forEach(c=>{o.push(QS(c,s,{transitionOverride:r}))}),Promise.all(o)},set(s){return t.forEach(r=>{dk(r,s)})},stop(){t.forEach(s=>{fk(s)})},mount(){return()=>{e.stop()}}};return e}function mk(){const t=_u(hk);return lp(t.mount,[]),t}const pk=mk,gk={1:"#800080",2:"#4682b4",3:"#008000",4:"#ffa500",5:"#c026d3",6:"#f97316"},yo=100,vo=100,Ar=88,f1=60,yk=3e3;function d1(t){const e=1-t;return{x:3*e*e*t*.05+3*e*t*t*.1+t*t*t,y:3*e*e*t*.7+3*e*t*t*1+t*t*t}}function vk(t){let e=0,s=1;for(let r=0;r<40;r++){const o=(e+s)/2;d1(o).y<t?e=o:s=o}return d1((e+s)/2).x}function _k(t){const e=t*60-90,s=e+60,r=e*Math.PI/180,o=s*Math.PI/180,c=yo+Ar*Math.cos(r),u=vo+Ar*Math.sin(r),h=yo+Ar*Math.cos(o),m=vo+Ar*Math.sin(o);return`M ${yo} ${vo} L ${c} ${u} A ${Ar} ${Ar} 0 0 1 ${h} ${m} Z`}function bk(t){const e=t*60-90+30,s=e*Math.PI/180;return{x:yo+f1*Math.cos(s),y:vo+f1*Math.sin(s),rotate:e}}function xk({rolling:t,finalValue:e,onComplete:s,onClick:r,locked:o}){const c=pk(),u=M.useRef(0),h=M.useRef(s);h.current=s;const m=M.useRef([]),{playTick:p}=Lo();M.useEffect(()=>{if(!t)return;const _=(360-((e-1)*60+30))%360,S=u.current%360,N=1440+(_-S+360)%360,I=u.current+N;u.current=I,m.current.forEach(clearTimeout),m.current=[];const D=Math.floor(N/60);for(let H=1;H<=D;H++){const q=H*60/N,E=vk(q)*yk;m.current.push(setTimeout(p,E))}return c.start({rotate:I,transition:{duration:3,ease:[.05,.7,.1,1]}}).then(()=>{h.current?.()}),()=>{m.current.forEach(clearTimeout),m.current=[]}},[t]);const g=!o&&!t;return b.jsx("div",{className:"flex flex-col items-center select-none",children:b.jsx("div",{className:`relative w-[120px] lg:w-[180px] ${g?"cursor-pointer":o?"opacity-50 cursor-not-allowed":"cursor-default"}`,onClick:g?r:void 0,children:b.jsxs("svg",{viewBox:"0 0 200 210",width:"100%",height:"auto","aria-label":"Spin the wheel",children:[b.jsx("polygon",{points:"88,0 112,0 100,16",fill:"#ef4444",stroke:"#b91c1c",strokeWidth:"1.5",strokeLinejoin:"round"}),b.jsxs(kt.g,{style:{transformBox:"fill-box",transformOrigin:"50% 50%"},animate:c,children:[Array.from({length:6},(v,_)=>{const S=_+1,{x:T,y:N,rotate:I}=bk(_);return b.jsxs("g",{children:[b.jsx("path",{d:_k(_),fill:gk[S],stroke:"white",strokeWidth:"1.5"}),b.jsx("text",{x:T,y:N,textAnchor:"middle",dominantBaseline:"central",fill:"white",fontSize:"20",fontWeight:"bold",transform:`rotate(${I+90}, ${T}, ${N})`,style:{pointerEvents:"none",userSelect:"none"},children:S})]},S)}),b.jsx("circle",{cx:yo,cy:vo,r:"10",fill:"white",stroke:"#aaa",strokeWidth:"1"})]})]})})})}function Sk(){const t=It(),{handleDiceRoll:e,diceState:s}=Jr(),r=t.isTurnLocked;return b.jsxs("div",{className:"flex flex-col items-center gap-0.5 lg:gap-1.5",children:[b.jsx(_I,{}),b.jsx("div",{className:"my-1 lg:my-3",children:b.jsx(xk,{rolling:s.rolling,finalValue:s.finalValue,onComplete:s.onComplete,onClick:e,locked:r})})]})}function Gw(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(s=Gw(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function Ww(){for(var t,e,s=0,r="",o=arguments.length;s<o;s++)(t=arguments[s])&&(e=Gw(t))&&(r&&(r+=" "),r+=e);return r}const h1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,m1=Ww,wk=(t,e)=>s=>{var r;if(e?.variants==null)return m1(t,s?.class,s?.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(p=>{const g=s?.[p],v=c?.[p];if(g===null)return null;const _=h1(g)||h1(v);return o[p][_]}),h=s&&Object.entries(s).reduce((p,g)=>{let[v,_]=g;return _===void 0||(p[v]=_),p},{}),m=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:_,...S}=g;return Object.entries(S).every(T=>{let[N,I]=T;return Array.isArray(I)?I.includes({...c,...h}[N]):{...c,...h}[N]===I})?[...p,v,_]:p},[]);return m1(t,u,m,s?.class,s?.className)},Tk=(t,e)=>{const s=new Array(t.length+e.length);for(let r=0;r<t.length;r++)s[r]=t[r];for(let r=0;r<e.length;r++)s[t.length+r]=e[r];return s},Ck=(t,e)=>({classGroupId:t,validator:e}),Fw=(t=new Map,e=null,s)=>({nextPart:t,validators:e,classGroupId:s}),ru="-",p1=[],Ek="arbitrary..",Ak=t=>{const e=Nk(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Mk(u);const h=u.split(ru),m=h[0]===""&&h.length>1?1:0;return Yw(h,m,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const m=r[u],p=s[u];return m?p?Tk(p,m):m:p||p1}return s[u]||p1}}},Yw=(t,e,s)=>{if(t.length-e===0)return s.classGroupId;const o=t[e],c=s.nextPart.get(o);if(c){const p=Yw(t,e+1,c);if(p)return p}const u=s.validators;if(u===null)return;const h=e===0?t.join(ru):t.slice(e).join(ru),m=u.length;for(let p=0;p<m;p++){const g=u[p];if(g.validator(h))return g.classGroupId}},Mk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),s=e.indexOf(":"),r=e.slice(0,s);return r?Ek+r:void 0})(),Nk=t=>{const{theme:e,classGroups:s}=t;return Rk(s,e)},Rk=(t,e)=>{const s=Fw();for(const r in t){const o=t[r];Pp(o,s,r,e)}return s},Pp=(t,e,s,r)=>{const o=t.length;for(let c=0;c<o;c++){const u=t[c];Ik(u,e,s,r)}},Ik=(t,e,s,r)=>{if(typeof t=="string"){Dk(t,e,s);return}if(typeof t=="function"){Ok(t,e,s,r);return}kk(t,e,s,r)},Dk=(t,e,s)=>{const r=t===""?e:Qw(e,t);r.classGroupId=s},Ok=(t,e,s,r)=>{if(Lk(t)){Pp(t(r),e,s,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Ck(s,t))},kk=(t,e,s,r)=>{const o=Object.entries(t),c=o.length;for(let u=0;u<c;u++){const[h,m]=o[u];Pp(m,Qw(e,h),s,r)}},Qw=(t,e)=>{let s=t;const r=e.split(ru),o=r.length;for(let c=0;c<o;c++){const u=r[c];let h=s.nextPart.get(u);h||(h=Fw(),s.nextPart.set(u,h)),s=h}return s},Lk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Bk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=Object.create(null),r=Object.create(null);const o=(c,u)=>{s[c]=u,e++,e>t&&(e=0,r=s,s=Object.create(null))};return{get(c){let u=s[c];if(u!==void 0)return u;if((u=r[c])!==void 0)return o(c,u),u},set(c,u){c in s?s[c]=u:o(c,u)}}},Sm="!",g1=":",jk=[],y1=(t,e,s,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:s,maybePostfixModifierPosition:r,isExternal:o}),zk=t=>{const{prefix:e,experimentalParseClassName:s}=t;let r=o=>{const c=[];let u=0,h=0,m=0,p;const g=o.length;for(let N=0;N<g;N++){const I=o[N];if(u===0&&h===0){if(I===g1){c.push(o.slice(m,N)),m=N+1;continue}if(I==="/"){p=N;continue}}I==="["?u++:I==="]"?u--:I==="("?h++:I===")"&&h--}const v=c.length===0?o:o.slice(m);let _=v,S=!1;v.endsWith(Sm)?(_=v.slice(0,-1),S=!0):v.startsWith(Sm)&&(_=v.slice(1),S=!0);const T=p&&p>m?p-m:void 0;return y1(c,S,_,T)};if(e){const o=e+g1,c=r;r=u=>u.startsWith(o)?c(u.slice(o.length)):y1(jk,!1,u,void 0,!0)}if(s){const o=r;r=c=>s({className:c,parseClassName:o})}return r},Pk=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((s,r)=>{e.set(s,1e6+r)}),s=>{const r=[];let o=[];for(let c=0;c<s.length;c++){const u=s[c],h=u[0]==="[",m=e.has(u);h||m?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(u)):o.push(u)}return o.length>0&&(o.sort(),r.push(...o)),r}},Vk=t=>({cache:Bk(t.cacheSize),parseClassName:zk(t),sortModifiers:Pk(t),...Ak(t)}),Uk=/\s+/,qk=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],h=t.trim().split(Uk);let m="";for(let p=h.length-1;p>=0;p-=1){const g=h[p],{isExternal:v,modifiers:_,hasImportantModifier:S,baseClassName:T,maybePostfixModifierPosition:N}=s(g);if(v){m=g+(m.length>0?" "+m:m);continue}let I=!!N,D=r(I?T.substring(0,N):T);if(!D){if(!I){m=g+(m.length>0?" "+m:m);continue}if(D=r(T),!D){m=g+(m.length>0?" "+m:m);continue}I=!1}const H=_.length===0?"":_.length===1?_[0]:c(_).join(":"),q=S?H+Sm:H,E=q+D;if(u.indexOf(E)>-1)continue;u.push(E);const k=o(D,I);for(let P=0;P<k.length;++P){const G=k[P];u.push(q+G)}m=g+(m.length>0?" "+m:m)}return m},Hk=(...t)=>{let e=0,s,r,o="";for(;e<t.length;)(s=t[e++])&&(r=Kw(s))&&(o&&(o+=" "),o+=r);return o},Kw=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=Kw(t[r]))&&(s&&(s+=" "),s+=e);return s},Gk=(t,...e)=>{let s,r,o,c;const u=m=>{const p=e.reduce((g,v)=>v(g),t());return s=Vk(p),r=s.cache.get,o=s.cache.set,c=h,h(m)},h=m=>{const p=r(m);if(p)return p;const g=qk(m,s);return o(m,g),g};return c=u,(...m)=>c(Hk(...m))},Wk=[],pt=t=>{const e=s=>s[t]||Wk;return e.isThemeGetter=!0,e},Xw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Zw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Fk=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,Yk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Xk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hi=t=>Fk.test(t),_e=t=>!!t&&!Number.isNaN(Number(t)),Gi=t=>!!t&&Number.isInteger(Number(t)),Mh=t=>t.endsWith("%")&&_e(t.slice(0,-1)),li=t=>Yk.test(t),Jw=()=>!0,Jk=t=>Qk.test(t)&&!Kk.test(t),Vp=()=>!1,$k=t=>Xk.test(t),e4=t=>Zk.test(t),t4=t=>!re(t)&&!oe(t),n4=t=>rs(t,tT,Vp),re=t=>Xw.test(t),Cs=t=>rs(t,nT,Jk),v1=t=>rs(t,u4,_e),i4=t=>rs(t,sT,Jw),s4=t=>rs(t,iT,Vp),_1=t=>rs(t,$w,Vp),r4=t=>rs(t,eT,e4),Sc=t=>rs(t,rT,$k),oe=t=>Zw.test(t),io=t=>Vs(t,nT),a4=t=>Vs(t,iT),b1=t=>Vs(t,$w),o4=t=>Vs(t,tT),l4=t=>Vs(t,eT),wc=t=>Vs(t,rT,!0),c4=t=>Vs(t,sT,!0),rs=(t,e,s)=>{const r=Xw.exec(t);return r?r[1]?e(r[1]):s(r[2]):!1},Vs=(t,e,s=!1)=>{const r=Zw.exec(t);return r?r[1]?e(r[1]):s:!1},$w=t=>t==="position"||t==="percentage",eT=t=>t==="image"||t==="url",tT=t=>t==="length"||t==="size"||t==="bg-size",nT=t=>t==="length",u4=t=>t==="number",iT=t=>t==="family-name",sT=t=>t==="number"||t==="weight",rT=t=>t==="shadow",f4=()=>{const t=pt("color"),e=pt("font"),s=pt("text"),r=pt("font-weight"),o=pt("tracking"),c=pt("leading"),u=pt("breakpoint"),h=pt("container"),m=pt("spacing"),p=pt("radius"),g=pt("shadow"),v=pt("inset-shadow"),_=pt("text-shadow"),S=pt("drop-shadow"),T=pt("blur"),N=pt("perspective"),I=pt("aspect"),D=pt("ease"),H=pt("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...E(),oe,re],P=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto","contain","none"],O=()=>[oe,re,m],$=()=>[Hi,"full","auto",...O()],ce=()=>[Gi,"none","subgrid",oe,re],ve=()=>["auto",{span:["full",Gi,oe,re]},Gi,oe,re],Se=()=>[Gi,"auto",oe,re],Ke=()=>["auto","min","max","fr",oe,re],Ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],je=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...O()],Y=()=>[Hi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],ee=()=>[Hi,"screen","full","dvw","lvw","svw","min","max","fit",...O()],X=()=>[Hi,"screen","full","lh","dvh","lvh","svh","min","max","fit",...O()],W=()=>[t,oe,re],w=()=>[...E(),b1,_1,{position:[oe,re]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",o4,n4,{size:[oe,re]}],ne=()=>[Mh,io,Cs],J=()=>["","none","full",p,oe,re],ie=()=>["",_e,io,Cs],ge=()=>["solid","dashed","dotted","double"],$e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[_e,Mh,b1,_1],gi=()=>["","none",T,oe,re],Hn=()=>["none",_e,oe,re],yi=()=>["none",_e,oe,re],Us=()=>[_e,oe,re],on=()=>[Hi,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[li],breakpoint:[li],color:[Jw],container:[li],"drop-shadow":[li],ease:["in","out","in-out"],font:[t4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[li],shadow:[li],spacing:["px",_e],text:[li],"text-shadow":[li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hi,re,oe,I]}],container:["container"],columns:[{columns:[_e,re,oe,h]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{"inset-s":$(),start:$()}],end:[{"inset-e":$(),end:$()}],"inset-bs":[{"inset-bs":$()}],"inset-be":[{"inset-be":$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Gi,"auto",oe,re]}],basis:[{basis:[Hi,"full","auto",h,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_e,Hi,"auto","initial","none",re]}],grow:[{grow:["",_e,oe,re]}],shrink:[{shrink:["",_e,oe,re]}],order:[{order:[Gi,"first","last","none",oe,re]}],"grid-cols":[{"grid-cols":ce()}],"col-start-end":[{col:ve()}],"col-start":[{"col-start":Se()}],"col-end":[{"col-end":Se()}],"grid-rows":[{"grid-rows":ce()}],"row-start-end":[{row:ve()}],"row-start":[{"row-start":Se()}],"row-end":[{"row-end":Se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ke()}],"auto-rows":[{"auto-rows":Ke()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...Ne(),"normal"]}],"justify-items":[{"justify-items":[...je(),"normal"]}],"justify-self":[{"justify-self":["auto",...je()]}],"align-content":[{content:["normal",...Ne()]}],"align-items":[{items:[...je(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...je(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ne()}],"place-items":[{"place-items":[...je(),"baseline"]}],"place-self":[{"place-self":["auto",...je()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pbs:[{pbs:O()}],pbe:[{pbe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mbs:[{mbs:V()}],mbe:[{mbe:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],"inline-size":[{inline:["auto",...ee()]}],"min-inline-size":[{"min-inline":["auto",...ee()]}],"max-inline-size":[{"max-inline":["none",...ee()]}],"block-size":[{block:["auto",...X()]}],"min-block-size":[{"min-block":["auto",...X()]}],"max-block-size":[{"max-block":["none",...X()]}],w:[{w:[h,"screen",...Y()]}],"min-w":[{"min-w":[h,"screen","none",...Y()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",s,io,Cs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,c4,i4]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mh,re]}],"font-family":[{font:[a4,s4,e]}],"font-features":[{"font-features":[re]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,oe,re]}],"line-clamp":[{"line-clamp":[_e,"none",oe,v1]}],leading:[{leading:[c,...O()]}],"list-image":[{"list-image":["none",oe,re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oe,re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[_e,"from-font","auto",oe,Cs]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[_e,"auto",oe,re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe,re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe,re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:w()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gi,oe,re],radial:["",oe,re],conic:[Gi,oe,re]},l4,r4]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ne()}],"gradient-via-pos":[{via:ne()}],"gradient-to-pos":[{to:ne()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-bs":[{"border-bs":ie()}],"border-w-be":[{"border-be":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-bs":[{"border-bs":W()}],"border-color-be":[{"border-be":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_e,oe,re]}],"outline-w":[{outline:["",_e,io,Cs]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",g,wc,Sc]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",v,wc,Sc]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[_e,Cs]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",_,wc,Sc]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[_e,oe,re]}],"mix-blend":[{"mix-blend":[...$e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_e]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[oe,re]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[_e]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:w()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oe,re]}],filter:[{filter:["","none",oe,re]}],blur:[{blur:gi()}],brightness:[{brightness:[_e,oe,re]}],contrast:[{contrast:[_e,oe,re]}],"drop-shadow":[{"drop-shadow":["","none",S,wc,Sc]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",_e,oe,re]}],"hue-rotate":[{"hue-rotate":[_e,oe,re]}],invert:[{invert:["",_e,oe,re]}],saturate:[{saturate:[_e,oe,re]}],sepia:[{sepia:["",_e,oe,re]}],"backdrop-filter":[{"backdrop-filter":["","none",oe,re]}],"backdrop-blur":[{"backdrop-blur":gi()}],"backdrop-brightness":[{"backdrop-brightness":[_e,oe,re]}],"backdrop-contrast":[{"backdrop-contrast":[_e,oe,re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_e,oe,re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e,oe,re]}],"backdrop-invert":[{"backdrop-invert":["",_e,oe,re]}],"backdrop-opacity":[{"backdrop-opacity":[_e,oe,re]}],"backdrop-saturate":[{"backdrop-saturate":[_e,oe,re]}],"backdrop-sepia":[{"backdrop-sepia":["",_e,oe,re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oe,re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_e,"initial",oe,re]}],ease:[{ease:["linear","initial",D,oe,re]}],delay:[{delay:[_e,oe,re]}],animate:[{animate:["none",H,oe,re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,oe,re]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Hn()}],"rotate-x":[{"rotate-x":Hn()}],"rotate-y":[{"rotate-y":Hn()}],"rotate-z":[{"rotate-z":Hn()}],scale:[{scale:yi()}],"scale-x":[{"scale-x":yi()}],"scale-y":[{"scale-y":yi()}],"scale-z":[{"scale-z":yi()}],"scale-3d":["scale-3d"],skew:[{skew:Us()}],"skew-x":[{"skew-x":Us()}],"skew-y":[{"skew-y":Us()}],transform:[{transform:[oe,re,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:on()}],"translate-x":[{"translate-x":on()}],"translate-y":[{"translate-y":on()}],"translate-z":[{"translate-z":on()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe,re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mbs":[{"scroll-mbs":O()}],"scroll-mbe":[{"scroll-mbe":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pbs":[{"scroll-pbs":O()}],"scroll-pbe":[{"scroll-pbe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe,re]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[_e,io,Cs,v1]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},d4=Gk(f4);function Up(...t){return d4(Ww(t))}const h4=wk("relative inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/50 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-white/10 text-white hover:bg-white/20 border border-white/10",primary:"bg-white text-black hover:bg-white/90 border border-white/20",success:"bg-success/80 text-white hover:bg-success border border-success/30",danger:"bg-error/80 text-white hover:bg-error border border-error/30"},size:{sm:"h-8 px-3 text-xs",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"}},defaultVariants:{variant:"default",size:"md"}});function Ee({className:t,variant:e,size:s,...r}){return b.jsx("button",{className:Up(h4({variant:e,size:s,className:t})),...r})}function m4(){const t=It(),e=an();return b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Ee,{variant:t.gameMode==="local"?"primary":"default",onClick:()=>e({type:"SET_GAME_MODE",mode:"local"}),children:"Local Game"}),b.jsx(Ee,{variant:t.gameMode==="online"?"primary":"default",onClick:()=>e({type:"SET_GAME_MODE",mode:"online"}),children:"Online Game"})]})}function p4(){const t=It(),e=an();return b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(Ee,{onClick:()=>e({type:"REMOVE_PLAYER"}),disabled:t.players.length<=t.minPlayers,children:" Player"}),b.jsxs("span",{className:"font-bold",children:[t.players.length," Player",t.players.length>1?"s":""]}),b.jsx(Ee,{onClick:()=>e({type:"ADD_PLAYER"}),disabled:t.players.length>=t.maxPlayers,children:"+ Player"})]})}const g4=3600*1e3;function y4({roomCode:t,myPlayerId:e,onDiceRoll:s,onQuestionReady:r,onPlayerMove:o}){const c=It(),u=an(),{playSound:h}=Lo(),m=M.useRef(null),p=M.useRef([]),g=M.useRef(!1),v=M.useRef(!0),_=M.useRef(null),S=M.useRef(null),T=M.useRef(null),N=M.useRef(new Set),I=M.useRef(c);return M.useEffect(()=>{I.current=c}),M.useEffect(()=>{if(!t)return;const D=Le(Be,`rooms/${t}`),H=tS(D,async q=>{const E=q.val();if(!E)return;if(E.createdAt&&Date.now()-E.createdAt>g4){await is(D,null),u({type:"RESET_GAME"});return}const k=!!E.isTeamMode,P=E.currentAnswererId??null,G=E.currentDescriberId??null,O=E.teamOrder||[],$=E.teams||{},ce=E.currentTeamIndex||0,ve=O[ce]??null,Se=E.players||{},Ke=E.playerOrder||[],Ne=E.currentPlayerIndex||0,je=Ke[Ne];if(k){g.current=e===P;const J=ve?$[ve]:null;v.current=(J?.playerIds??[]).includes(e??"")}else g.current=e===je,v.current=!0;let V;k?V=O.filter(J=>$[J]).map((J,ie)=>({id:ie+1,name:$[J].name,position:$[J].position??0,color:In[ie+1]??In[1]})):V=Ke.filter(J=>Se[J]).map((J,ie)=>({id:ie+1,name:Se[J].name,position:Se[J].position??0,color:In[ie+1]}));const Y=p.current;let ee;k?ee=O.findIndex(J=>($[J]?.playerIds??[]).includes(e??"")):ee=Ke.indexOf(e??"");const X=V.map((J,ie)=>{const ge=Y.find($e=>$e.id===J.id);if(ie===ee||!ge)return J;if(N.current.has(J.id)){const $e=I.current.players.find(me=>me.id===J.id)?.position;if($e!==void 0)return{...J,position:$e}}return J.position>ge.position&&o?(N.current.add(J.id),o(J.id,ge.position,J.position-ge.position,()=>N.current.delete(J.id)),J.position>=An&&u({type:"SHOW_WIN_MODAL",show:!0}),{...J,position:ge.position}):J});p.current=V;const W=E.resetId||0;if(_.current!==null&&W!==_.current&&u({type:"RESET_GAME"}),_.current=W,u({type:"SET_TEAM_MODE",value:k}),u({type:"SET_ANSWERER_IDS",answererId:P,describerId:G}),u({type:"SET_ACTIVE_TEAM",teamId:ve}),u({type:"SYNC_ONLINE_STATE",players:X,currentPlayerIndex:k?ce:Ne}),E.currentRoll){const{value:J,id:ie}=E.currentRoll;ie!==m.current&&(m.current=ie,s&&s(J,()=>{},g.current))}if(E.currentRoll||(m.current=null),E.currentQuestion&&c.questionsLoaded){const J=E.currentRoll?.value??1;r?.(E.currentQuestion,J)}E.currentQuestion||u({type:"SHOW_QUESTION_MODAL",show:!1}),E.answerResult?(u({type:"SET_ANSWER_RESULT",result:E.answerResult}),(k?e===P:e===je)||h(E.answerResult.wasCorrect?"correct":"wrong")):u({type:"SET_ANSWER_RESULT",result:null});const w=E.cultureEvent??null,L=S.current;w?.active&&!L?.active&&(u({type:"SHOW_CULTURE_MODAL",show:!0}),w.questionIndex!==void 0&&u({type:"SET_CULTURE_QUESTION_INDEX",index:w.questionIndex})),!w?.active&&L?.active&&u({type:"SHOW_CULTURE_MODAL",show:!1}),w?.timerStartedAt&&w.timerStartedAt!==L?.timerStartedAt&&u({type:"SET_CULTURE_TIMER_START",startedAt:w.timerStartedAt}),w?.score!==void 0&&L?.score===void 0&&u({type:"SET_CULTURE_SCORE",score:w.score}),S.current=w;const Z=E.notEvent??null,ne=T.current;Z?.active&&!ne?.active&&(Z.question&&u({type:"SET_NOT_CARD",card:Z.question}),u({type:"SHOW_NOT_MODAL",show:!0})),!Z?.active&&ne?.active&&u({type:"SHOW_NOT_MODAL",show:!1}),Z?.timerStartedAt&&Z.timerStartedAt!==ne?.timerStartedAt&&u({type:"SET_NOT_TIMER_START",startedAt:Z.timerStartedAt}),Z?.score!==void 0&&ne?.score===void 0&&u({type:"SET_NOT_SCORE",score:Z.score}),T.current=Z});return()=>H()},[t,e,u,h,c.questionsLoaded,s,r,o]),{isActivePlayer:g,canRoll:v}}function v4(){const t=It(),e=an(),{triggerDiceAnimation:s,processRoll:r,animateMovement:o}=Jr(),{identity:c,setIdentity:u}=js(),[h,m]=M.useState(""),[p,g]=M.useState(""),[v,_]=M.useState(""),[S,T]=M.useState(!1),[N,I]=M.useState(null),[D,H]=M.useState(null),[q,E]=M.useState(""),[k,P]=M.useState(null),[G,O]=M.useState(null);M.useEffect(()=>{const X=localStorage.getItem("notculture_playerName");X&&!p&&g(X)},[]),M.useEffect(()=>{if(!c.roomCode||!t.isTeamMode){O(null);return}const X=Le(Be,`rooms/${c.roomCode}`),W=tS(X,w=>{const L=w.val();L?.isTeamMode&&O({teamOrder:L.teamOrder||[],teams:L.teams||{},players:L.players||{}})});return()=>W()},[c.roomCode,t.isTeamMode]),M.useEffect(()=>{const X=localStorage.getItem("notculture_roomCode"),W=localStorage.getItem("notculture_playerId"),w=localStorage.getItem("notculture_playerName"),L=localStorage.getItem("notculture_teamId"),Z=localStorage.getItem("notculture_teamName");X&&W&&w&&(L?Q_(X,W,w,L).then(async ne=>{if(ne)u({roomCode:X,playerId:W,playerName:w,teamId:L,teamName:Z});else{const J=await jt(Le(Be,`rooms/${X}`));if(!J.exists())localStorage.removeItem("notculture_roomCode"),localStorage.removeItem("notculture_playerId"),localStorage.removeItem("notculture_playerName"),localStorage.removeItem("notculture_teamId"),localStorage.removeItem("notculture_teamName");else if(J.val()?.isTeamMode){const ie=J.val();H({roomCode:X,playerId:W,playerName:w,teams:ie.teams||{},teamOrder:ie.teamOrder||[]})}}}):G_(X,w,W).then(ne=>{ne&&u({roomCode:X,playerId:ne.playerId,playerName:w,teamId:null,teamName:null})}))},[u]);const $=M.useCallback((X,W,w)=>{w&&e({type:"LOCK_TURN"}),s(X,()=>{w&&r(X)})},[e,s,r]),ce=M.useCallback((X,W)=>{const w=t.questions.find(L=>L.id===X);w&&e({type:"SET_ACTIVE_QUESTION",question:w,roll:W})},[t.questions,e]),ve=M.useCallback((X,W,w,L)=>{o(X,W,w,L)},[o]);y4({roomCode:c.roomCode,myPlayerId:c.playerId,onDiceRoll:$,onQuestionReady:ce,onPlayerMove:ve});const Se=async()=>{const X=p.trim(),W=v.trim()||"Team 1";if(!X){alert("Enter your name first.");return}if(S){const{roomCode:w,playerId:L,teamId:Z}=await dI(X,W);localStorage.setItem("notculture_roomCode",w),localStorage.setItem("notculture_playerId",L),localStorage.setItem("notculture_playerName",X),localStorage.setItem("notculture_teamId",Z),localStorage.setItem("notculture_teamName",W),u({roomCode:w,playerId:L,playerName:X,teamId:Z,teamName:W}),I(w)}else{const{roomCode:w,playerId:L}=await nI(X);localStorage.setItem("notculture_roomCode",w),localStorage.setItem("notculture_playerId",L),localStorage.setItem("notculture_playerName",X),localStorage.removeItem("notculture_teamId"),u({roomCode:w,playerId:L,playerName:X,teamId:null,teamName:null}),I(w)}},Ke=async()=>{const X=h.trim().toUpperCase(),W=p.trim();if(!X||!W){alert("Enter room code and name.");return}const w=await jt(Le(Be,`rooms/${X}`));if(!w.exists()){alert("Room does not exist.");return}const L=w.val(),Z=localStorage.getItem("notculture_playerId");if(L.isTeamMode){const J=Z||Date.now().toString();H({roomCode:X,playerId:J,playerName:W,teams:L.teams||{},teamOrder:L.teamOrder||[]});return}const ne=await G_(X,W,Z??void 0);if(!ne){alert("Room does not exist.");return}localStorage.setItem("notculture_roomCode",X),localStorage.setItem("notculture_playerId",ne.playerId),localStorage.setItem("notculture_playerName",W),localStorage.removeItem("notculture_teamId"),u({roomCode:X,playerId:ne.playerId,playerName:W,teamId:null,teamName:null})},Ne=async X=>{if(!D)return;if(P(null),!await Q_(D.roomCode,D.playerId,D.playerName,X)){P("Could not join that team (it may be full).");return}const w=D.teams[X]?.name??null;localStorage.setItem("notculture_roomCode",D.roomCode),localStorage.setItem("notculture_playerId",D.playerId),localStorage.setItem("notculture_playerName",D.playerName),localStorage.setItem("notculture_teamId",X),w&&localStorage.setItem("notculture_teamName",w),u({roomCode:D.roomCode,playerId:D.playerId,playerName:D.playerName,teamId:X,teamName:w}),H(null)},je=async()=>{if(!D)return;const X=q.trim();if(!X){P("Enter a team name.");return}P(null);const W=await jt(Le(Be,`rooms/${D.roomCode}`));if(!W.exists()){P("Room not found.");return}if((W.val().teamOrder||[]).length>=4){P("Maximum 4 teams reached.");return}const Z=await hI(D.roomCode,X);if(!Z){P("Could not create team.");return}await Ne(Z)},V=async()=>{if(!D)return;const X=await jt(Le(Be,`rooms/${D.roomCode}`));if(!X.exists()){H(null);return}const W=X.val();H(w=>w?{...w,teams:W.teams||{},teamOrder:W.teamOrder||[]}:null)},Y=async()=>{c.roomCode&&c.playerId&&(c.teamId?await mI(c.roomCode,c.playerId,c.teamId):await iI(c.roomCode,c.playerId)),localStorage.removeItem("notculture_roomCode"),localStorage.removeItem("notculture_teamId"),localStorage.removeItem("notculture_teamName"),u({roomCode:null,playerId:null,playerName:null,teamId:null,teamName:null}),I(null)},ee=async()=>{c.roomCode&&(t.isTeamMode?await gI(c.roomCode):await ap(c.roomCode))};return D?b.jsxs("div",{className:"flex flex-col items-center gap-3 w-[300px]",children:[b.jsxs("p",{className:"font-bold text-success",children:["Room: ",D.roomCode]}),b.jsx("p",{className:"text-sm font-semibold",children:"Choose your team:"}),D.teamOrder.map(X=>{const W=D.teams[X];if(!W)return null;const w=W.playerIds?.length??0,L=w>=2;return b.jsxs("div",{className:"flex w-full items-center justify-between gap-2 rounded-lg bg-white/5 px-3 py-2",children:[b.jsxs("span",{className:"text-sm font-semibold",children:[W.name,b.jsxs("span",{className:"ml-2 text-xs opacity-50",children:[w,"/2 players"]})]}),b.jsx(Ee,{variant:"primary",onClick:()=>Ne(X),disabled:L,children:"Join"})]},X)}),D.teamOrder.length<4&&b.jsxs("div",{className:"flex w-full flex-col gap-2",children:[b.jsx("input",{className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:"New team name",value:q,onChange:X=>E(X.target.value)}),b.jsx(Ee,{onClick:je,children:"+ Create & Join New Team"})]}),k&&b.jsx("p",{className:"text-sm text-error",children:k}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Ee,{onClick:V,children:"Refresh"}),b.jsx(Ee,{variant:"danger",onClick:()=>H(null),children:"Cancel"})]})]}):c.roomCode?b.jsxs("div",{className:"flex flex-col items-center gap-2 w-full max-w-xs",children:[t.isTeamMode&&G&&G.teamOrder.length>0&&b.jsx("div",{className:"w-full flex flex-col gap-1",children:G.teamOrder.map((X,W)=>{const w=G.teams[X];if(!w)return null;const L=(w.playerIds||[]).map(ne=>G.players[ne]?.name).filter(Boolean),Z=X===c.teamId;return b.jsxs("div",{className:`flex items-center gap-2 rounded-lg px-2 py-1.5 text-xs ${Z?"bg-white/15 font-semibold":"bg-white/5 opacity-70"}`,children:[b.jsx("span",{className:"h-2.5 w-2.5 rounded-full flex-shrink-0",style:{backgroundColor:In[W+1]??"#888"}}),b.jsx("span",{children:w.name}),L.length>0&&b.jsxs("span",{className:`${Z?"opacity-70":"opacity-50"}`,children:[" ",L.join(", ")]}),L.length===0&&b.jsx("span",{className:"opacity-40 italic",children:"empty"})]},X)})}),b.jsxs("p",{className:"font-bold text-success",children:["Room: ",c.roomCode]}),b.jsx("p",{className:"text-sm opacity-70",children:t.isTeamMode&&c.teamName?`Playing as ${c.playerName}  ${c.teamName}`:`Playing as ${c.playerName}`}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Ee,{variant:"danger",onClick:Y,children:"Leave Room"}),b.jsx(Ee,{variant:"danger",onClick:ee,children:"Reset Game"})]})]}):b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("input",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:"Your Name",value:p,onChange:X=>g(X.target.value)}),b.jsx(Ee,{variant:"primary",onClick:Se,children:"Create Room"})]}),b.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer select-none",children:[b.jsx("input",{type:"checkbox",checked:S,onChange:X=>T(X.target.checked),className:"h-4 w-4 accent-fuchsia-500"}),"Team Mode",S&&b.jsx("input",{className:"ml-2 rounded-lg border border-white/10 bg-white/5 px-2 py-1 text-sm text-white placeholder-white/40",placeholder:"Team name",value:v,onChange:X=>_(X.target.value)})]}),N&&b.jsxs("p",{className:"font-bold text-success",children:["Room Code: ",N]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("input",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:"Room Code",value:h,onChange:X=>m(X.target.value)}),b.jsx(Ee,{onClick:Ke,children:"Join"})]})]})}function _4(){const t=It(),e=an(),{triggerTileAt:s}=Jr(),{identity:r}=js(),{volume:o,muted:c,setVolume:u,setMuted:h}=M1(),m=M.useRef(null),[p,g]=M.useState(1),[v,_]=M.useState(10),[S,T]=M.useState(!1),[N,I]=M.useState(""),[D,H]=M.useState(!1),q=()=>{e({type:"SHOW_SETTINGS",show:!1}),t.gameMode==="online"&&r.roomCode?ap(r.roomCode):e({type:"RESET_GAME"})},E=()=>{t.debugMode?e({type:"TOGGLE_DEBUG"}):(T(!0),I(""),H(!1))},k=()=>{N==="paulive"?(e({type:"TOGGLE_DEBUG"}),T(!1),I(""),H(!1)):H(!0)};return M.useEffect(()=>{function P(G){m.current&&!m.current.contains(G.target)&&e({type:"SHOW_SETTINGS",show:!1})}return t.showSettings&&document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[t.showSettings,e]),M.useEffect(()=>{t.showSettings||(T(!1),I(""),H(!1))},[t.showSettings]),b.jsxs("div",{ref:m,className:"relative z-10",children:[b.jsx(Ee,{onClick:()=>e({type:"SHOW_SETTINGS",show:!t.showSettings}),children:" Settings"}),b.jsx(Bs,{children:t.showSettings&&b.jsxs(kt.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},className:"absolute left-1/2 -translate-x-1/2 top-full mt-1 flex flex-col gap-1.5 rounded-lg border border-white/10 bg-surface p-2.5 z-20 min-w-[260px]",children:[b.jsx(Ee,{className:"w-full justify-start",onClick:()=>{e({type:"SHOW_EDITOR",show:!0}),e({type:"SHOW_SETTINGS",show:!1})},children:"Add / Edit Questions"}),b.jsx(Ee,{className:"w-full justify-start",onClick:E,children:"Toggle Debug Mode"}),S&&b.jsxs("div",{className:"flex flex-col gap-1.5",children:[b.jsx("input",{type:"password",placeholder:"Enter password",value:N,onChange:P=>{I(P.target.value),H(!1)},onKeyDown:P=>P.key==="Enter"&&k(),className:"w-full rounded-lg border border-white/10 bg-surface px-2 py-1 text-sm text-white placeholder-white/30",autoFocus:!0}),D&&b.jsx("p",{className:"px-1 text-xs text-red-400",children:"Incorrect password"}),b.jsx(Ee,{className:"w-full",onClick:k,children:"Confirm"})]}),t.debugMode&&b.jsxs(b.Fragment,{children:[b.jsx("hr",{className:"border-white/10"}),b.jsx("p",{className:"px-1 text-xs font-bold text-fuchsia-400",children:"Debug: Teleport"}),t.players.length>1&&b.jsx("select",{className:"w-full rounded-lg border border-white/10 bg-surface px-2 py-1 text-sm text-white",value:p,onChange:P=>g(Number(P.target.value)),children:t.players.map(P=>b.jsx("option",{value:P.id,children:P.name},P.id))}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("input",{type:"number",min:0,max:An,className:"w-full rounded-lg border border-white/10 bg-surface px-2 py-1 text-sm text-white",value:v,onChange:P=>_(Math.max(0,Math.min(An,Number(P.target.value))))}),b.jsx(Ee,{onClick:()=>{const P=t.players.length===1?t.players[0].id:p,G=t.players.findIndex(O=>O.id===P);e({type:"SET_PLAYER_POSITION",playerId:P,position:v}),G!==-1&&e({type:"SYNC_ONLINE_STATE",players:t.players.map(O=>O.id===P?{...O,position:v}:O),currentPlayerIndex:G}),e({type:"SHOW_SETTINGS",show:!1}),s(v)},children:"Go"})]})]}),b.jsx("hr",{className:"border-white/10"}),b.jsx("p",{className:"px-1 text-xs font-bold text-fuchsia-400",children:"Sound"}),b.jsxs("div",{className:"flex items-center gap-2 px-1",children:[b.jsx("span",{className:"text-base",children:""}),b.jsx("input",{type:"range",min:0,max:100,value:Math.round(o*100),onChange:P=>u(Number(P.target.value)/100),className:"flex-1 accent-fuchsia-400"}),b.jsx(Ee,{onClick:()=>h(!c),children:c?"Unmute":"Mute"})]}),b.jsx("hr",{className:"border-white/10"}),b.jsx(Ee,{className:"w-full justify-start",variant:"danger",onClick:q,children:"Restart Game"})]})})]})}function b4(){const t=It();return b.jsxs("div",{className:"mt-4 flex flex-col items-center gap-3",children:[b.jsx(m4,{}),t.gameMode==="local"?b.jsx(p4,{}):b.jsx(v4,{}),b.jsx(_4,{})]})}const aT=M.forwardRef(({pathIndex:t,isOnPath:e,isStart:s,isFinish:r,isCulture:o,isNot:c,category:u,debugMode:h},m)=>{if(!e)return b.jsx("div",{ref:m,className:"w-full h-full"});const p=s?"bg-white text-black":r?"bg-amber-400 text-black":o?"bg-fuchsia-600 text-white":c?"bg-orange-500 text-white":u?qE[u]:"bg-white",g=s?"START":r?"FINISH":o?h&&t!==void 0?String(t):"":c?h&&t!==void 0?String(t):"":h&&t!==void 0?String(t):"";return b.jsx("div",{ref:m,className:Up("flex h-full w-full items-center justify-center rounded-xl text-[clamp(10px,2vw,16px)] font-bold shadow-md transition-transform duration-200 hover:scale-105 z-[2]",p),children:o&&!(h&&t!==void 0)?b.jsxs("div",{className:"flex flex-col items-center leading-none gap-0.5 text-[clamp(13px,2.6vw,22px)]",children:[b.jsx("span",{children:""}),b.jsx("span",{className:"text-[0.75em]",children:"Culture"})]}):c&&!(h&&t!==void 0)?b.jsxs("div",{className:"flex flex-col items-center leading-none gap-0.5 text-[clamp(13px,2.6vw,22px)]",children:[b.jsx("span",{children:""}),b.jsx("span",{className:"text-[0.75em]",children:"Not"})]}):g})});aT.displayName="Cell";function x4({boardRef:t,cellRefs:e}){const s=M.useRef(null),r=M.useCallback(()=>{const o=s.current,c=t.current;if(!o||!c)return;const u=c.getBoundingClientRect();o.width=u.width,o.height=u.height;const h=o.getContext("2d");if(!h)return;h.clearRect(0,0,o.width,o.height),h.strokeStyle="rgba(255, 255, 255, 0.7)",h.lineWidth=8,h.lineCap="round",h.lineJoin="round",h.beginPath();let m=!1;Fi.forEach(p=>{const g=e.current.get(p);if(!g)return;const v=g.getBoundingClientRect(),_=v.left-u.left+v.width/2,S=v.top-u.top+v.height/2;m?h.lineTo(_,S):(h.moveTo(_,S),m=!0)}),h.stroke()},[t,e]);return M.useEffect(()=>{const o=setTimeout(r,100),c=setTimeout(r,300),u=t.current;if(u){const h=new ResizeObserver(r);return h.observe(u),()=>{clearTimeout(o),clearTimeout(c),h.disconnect()}}return()=>{clearTimeout(o),clearTimeout(c)}},[r,t]),M.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),b.jsx("canvas",{ref:s,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1}})}function S4({player:t,boardRef:e,cellRefs:s,allPlayers:r}){const[o,c]=M.useState({x:0,y:0,size:0});return M.useLayoutEffect(()=>{function u(){const p=e.current;if(!p)return;const g=Fi[t.position];if(g===void 0)return;const v=s.current.get(g);if(!v)return;const _=p.getBoundingClientRect(),S=v.getBoundingClientRect(),T=S.width*.4,N=S.left-_.left+S.width/2,I=S.top-_.top+S.height/2,D=r.filter(P=>P.position===t.position),H=D.findIndex(P=>P.id===t.id),q=D.length;let E=0,k=0;if(q>1){const P=T*.6,G=2*Math.PI*H/q;E=Math.cos(G)*P,k=Math.sin(G)*P}c({x:N+E,y:I+k,size:T})}u();const h=e.current;if(!h)return;const m=new ResizeObserver(u);return m.observe(h),()=>m.disconnect()},[t.position,t.id,r,e,s]),o.size===0?null:b.jsx(kt.div,{className:"absolute rounded-full z-[5]",style:{width:o.size,height:o.size,backgroundColor:t.color??"#888"},animate:{left:o.x-o.size/2,top:o.y-o.size/2},transition:{type:"spring",stiffness:200,damping:20}})}function w4(){const t=It(),e=M.useRef(null),s=M.useRef(new Map),r=(c,u)=>{u?s.current.set(c,u):s.current.delete(c)},o=new Map;return Fi.forEach((c,u)=>{o.set(c,u)}),b.jsxs("div",{ref:e,className:"relative grid grid-cols-8 grid-rows-8 gap-[clamp(4px,1.2vw,10px)] rounded-xl bg-board-bg p-2 w-[min(92vw,92vh)] aspect-square lg:flex-1 lg:max-h-[80vh] lg:max-w-[80vh] lg:w-auto",style:{backgroundImage:"url('/notculture-board-game/assets/logo.png')",backgroundSize:"44%",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[b.jsx(x4,{boardRef:e,cellRefs:s}),Array.from({length:HE},(c,u)=>{const h=o.get(u),m=h!==void 0,p=h===0,g=h===Fi.length-1,v=m&&!p&&!g&&so.has(h),_=m&&!p&&!g&&Nh.has(h);let S=null;m&&!p&&!g&&!v&&!_&&(S=Mn[h%Mn.length]);let T="";if(m&&h<Fi.length-1){const N=Fi[h+1],I=Math.floor(u/Nr),D=u%Nr,H=Math.floor(N/Nr),q=N%Nr;H===I&&q===D+1?T="connect-right":H===I&&q===D-1?T="connect-left":q===D&&H===I+1?T="connect-down":q===D&&H===I-1&&(T="connect-up")}return b.jsx(aT,{ref:N=>r(u,N),gridIndex:u,pathIndex:h,isOnPath:m,isStart:p,isFinish:g,isCulture:v,isNot:_,category:S,connectClass:T,debugMode:t.debugMode},u)}),t.players.map(c=>b.jsx(S4,{player:c,boardRef:e,cellRefs:s,allPlayers:t.players},c.id))]})}function na({className:t,...e}){return b.jsx("div",{className:Up("rounded-xl border border-white/10 bg-surface p-5 shadow-lg",t),...e})}function T4(){const t=It(),{handleAnswer:e,afterAnswer:s,handleSkip:r}=Jr(),{identity:o}=js(),c=t.activeQuestion,h=t.isTeamMode&&t.gameMode==="online"?t.currentAnswererId===o.playerId:!0,[m,p]=M.useState(!1),[g,v]=M.useState(null),[_,S]=M.useState(!1),[T,N]=M.useState(0),I=t.gameMode==="online"?t.answerResult:null,D=I?!0:m,H=I?I.selectedIndex:g,q=I?I.wasCorrect:_,E=I?I.correctIndex:T;if(!c)return null;const k="".repeat(c.difficulty)+"".repeat(6-c.difficulty),P=O=>{if(D||!h)return;const $=e(O);$&&(p(!0),v(O),S($.correct),N($.correctIndex),setTimeout(()=>{s($.correct)},2e3))},G=O=>D?O===H&&q?"!bg-success !text-white !border-success":O===H&&!q?"!bg-error !text-white !border-error":O===E&&!q?"!bg-success !text-white !border-success":"opacity-50":"";return b.jsx(Bs,{children:b.jsx(kt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(kt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:b.jsxs(na,{className:"w-[320px]",children:[b.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs uppercase tracking-wide",children:[b.jsx("span",{className:UE[c.category],children:x1[c.category]}),b.jsx("span",{className:"text-base tracking-wider",children:k})]}),b.jsx("h2",{className:"mb-4 text-lg font-bold",children:c.question}),b.jsx("div",{className:"flex flex-col gap-2",children:c.answers.map((O,$)=>b.jsx(Ee,{className:G($),onClick:()=>P($),disabled:D||!h,children:O},$))}),!h&&!D&&b.jsx("p",{className:"mt-2 text-center text-xs opacity-50",children:t.isTeamMode?"Waiting for your teammate to answer":""}),D&&b.jsx("p",{className:`mt-3 text-center text-lg font-bold ${q?"text-success":"text-error"}`,children:q?"Correct!":"Incorrect"}),t.debugMode&&!D&&b.jsx(Ee,{variant:"danger",className:"mt-3 w-full",onClick:r,children:"Skip (Debug)"})]})})})})}function C4(){const t=It(),e=an(),{identity:s}=js(),r=()=>{t.gameMode==="online"&&s.roomCode?(e({type:"SHOW_WIN_MODAL",show:!1}),ap(s.roomCode)):e({type:"RESET_GAME"})},o=t.players.find(c=>c.position>=38);return b.jsx(Bs,{children:t.showWinModal&&b.jsx(kt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(kt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:b.jsxs(na,{className:"text-center",children:[b.jsxs("h2",{className:"mb-4 text-2xl font-bold",children:[o?`${o.name} Wins!`:"You Win!"," "]}),b.jsx(Ee,{variant:"primary",onClick:r,children:"Restart Game"})]})})})})}function E4(){const t=It(),e=an(),[s,r]=M.useState(""),[o,c]=M.useState("film"),[u,h]=M.useState(1),[m,p]=M.useState(["","","",""]),[g,v]=M.useState(0),[_,S]=M.useState(""),[T,N]=M.useState({film:!0,science:!0,general:!0,history:!0});function I(E){const k=t.questions.filter(O=>O.category===E);if(k.length===0)return`${E}-001`;const P=k.map(O=>{const $=O.id.split("-");return parseInt($[1],10)}),G=Math.max(...P)+1;return`${E}-${String(G).padStart(3,"0")}`}function D(){if(S(""),!s.trim()){S("Question text must not be empty.");return}if(m.some(k=>!k.trim())){S("All answer fields must be filled.");return}if(new Set(m.map(k=>k.trim())).size!==m.length){S("All answer fields must be unique.");return}const E={id:I(o),category:o,difficulty:u,question:s.trim(),answers:m.map(k=>k.trim()),correctIndex:g};e({type:"SET_QUESTIONS",questions:[...t.questions,E]}),r(""),p(["","","",""]),S("")}function H(E){e({type:"SET_QUESTIONS",questions:t.questions.filter(k=>k.id!==E)})}function q(){Mn.forEach(E=>{const k=t.questions.filter(O=>O.category===E).map(({category:O,...$})=>$),P=new Blob([JSON.stringify(k,null,2)],{type:"application/json"}),G=document.createElement("a");G.href=URL.createObjectURL(P),G.download=`${E}.json`,G.click()})}return b.jsx(kt.div,{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsxs(na,{className:"relative max-h-[85vh] w-[90%] max-w-[500px] overflow-y-auto",children:[b.jsx("button",{className:"absolute right-3 top-3 border-none bg-transparent text-lg text-white cursor-pointer",onClick:()=>e({type:"SHOW_EDITOR",show:!1}),children:""}),b.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Add a Question"}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:"Question text",value:s,onChange:E=>r(E.target.value)}),b.jsx("select",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white",value:o,onChange:E=>c(E.target.value),children:Mn.map(E=>b.jsx("option",{value:E,children:x1[E]},E))}),b.jsx("select",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white",value:u,onChange:E=>h(Number(E.target.value)),children:[1,2,3,4,5,6].map(E=>b.jsxs("option",{value:E,children:[E," ",E===1?"(Easy)":E===6?"(Hard)":""]},E))}),m.map((E,k)=>b.jsx("input",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:`Answer ${String.fromCharCode(65+k)}`,value:E,onChange:P=>{const G=[...m];G[k]=P.target.value,p(G)}},k)),b.jsx("select",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white",value:g,onChange:E=>v(Number(E.target.value)),children:["A","B","C","D"].map((E,k)=>b.jsxs("option",{value:k,children:["Correct: ",E]},k))}),_&&b.jsx("p",{className:"text-sm text-error",children:_}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Ee,{variant:"primary",onClick:D,children:"Add Question"}),b.jsx(Ee,{onClick:q,children:"Export JSON"})]})]}),b.jsx("hr",{className:"my-4 border-white/10"}),b.jsx("h3",{className:"mb-2 text-lg font-bold",children:"Existing Questions"}),b.jsx("div",{className:"max-h-[300px] overflow-y-auto text-left",children:Mn.map(E=>{const k=t.questions.filter(P=>P.category===E).sort((P,G)=>P.difficulty-G.difficulty);return b.jsxs("div",{className:"mb-3 rounded-md border border-white/20",children:[b.jsxs("div",{className:"sticky top-0 z-10 cursor-pointer bg-surface-alt px-3 py-2 font-bold uppercase select-none hover:bg-white/10",onClick:()=>N(P=>({...P,[E]:!P[E]})),children:[E.toUpperCase()," (",k.length,")"]}),!T[E]&&b.jsx("div",{className:"bg-black p-2",children:k.map(P=>b.jsxs("div",{className:"flex items-center justify-between border-b border-white/5 py-1.5 text-sm last:border-none",children:[b.jsxs("div",{className:"flex-1 pr-2",children:[b.jsx("strong",{children:P.question}),b.jsxs("div",{className:"text-xs opacity-60",children:["Difficulty ",P.difficulty]})]}),b.jsx(Ee,{variant:"danger",size:"sm",onClick:()=>H(P.id),children:"Delete"})]},P.id))})]},E)})})]})})}function A4(){const t=It();an();const{handleCultureScore:e}=Jr(),{identity:s}=js(),{playTick:r,playSound:o}=Lo(),[c,u]=M.useState("waiting"),[h,m]=M.useState(Qd),[p,g]=M.useState(new Array(10).fill(!1)),[v,_]=M.useState(null),S=M.useRef(null),T=M.useRef(null),N=t.players[t.currentPlayerIndex],I=t.gameMode==="online"&&s.playerName!==null&&N?.name===s.playerName,D=t.isTeamMode&&t.gameMode==="online"?t.currentAnswererId===s.playerId:!1,H=t.isTeamMode&&t.gameMode==="online"&&s.teamId!==null&&s.teamId===t.activeTeamId,q=t.isTeamMode&&t.gameMode==="online"?H:I,E=t.isTeamMode&&t.gameMode==="online"?!H:!I||t.gameMode==="local",k=t.isTeamMode&&t.gameMode==="online"?!H:!I||t.gameMode==="local",P=t.isTeamMode&&t.gameMode==="online"?D:I||t.gameMode==="local",G=Rh,O=t.currentPlayerIndex+(t.players[t.currentPlayerIndex]?.position??0),$=t.gameMode==="online"&&t.cultureQuestionIndex!==null?t.cultureQuestionIndex:O%G.length,ce=G[$],ve=t.gameMode==="online"?t.cultureTimerStartedAt?"timer":"waiting":c,Se=p.filter(Boolean).length,Ke=ve==="timer"&&h===0,Ne=t.gameMode==="online"?t.cultureScore:v,je=Ne!==null,V=w=>{E&&g(L=>L.map((Z,ne)=>ne===w?!Z:Z))};M.useEffect(()=>{if(!(t.gameMode==="online"||c!=="timer"))return S.current=setInterval(()=>{r(),m(w=>w<=1?(clearInterval(S.current),S.current=null,0):w-1)},1e3),()=>{clearInterval(S.current),S.current=null}},[c,t.gameMode,r]),M.useEffect(()=>{if(t.gameMode!=="online"||!t.cultureTimerStartedAt)return;const w=()=>{const L=Math.floor((Date.now()-t.cultureTimerStartedAt)/1e3),Z=Math.max(0,Qd-L);Z>0&&r(),m(Z)};return w(),T.current=setInterval(w,1e3),()=>{clearInterval(T.current),T.current=null}},[t.cultureTimerStartedAt,t.gameMode,r]),M.useEffect(()=>{t.gameMode==="online"&&t.cultureTimerStartedAt&&Date.now()-t.cultureTimerStartedAt<5e3&&g(new Array(10).fill(!1))},[t.cultureTimerStartedAt,t.gameMode]),M.useEffect(()=>{Ne!==null&&o(Ne>0?"correct":"wrong")},[Ne]);const Y=()=>{k&&(t.gameMode==="online"&&s.roomCode?aI(s.roomCode):(m(Qd),g(new Array(10).fill(!1)),u("timer")))},ee=()=>{E&&(t.gameMode==="online"&&s.roomCode?lI(s.roomCode,Se):_(Se))},X=()=>{e(Ne)},W=()=>{k&&(clearInterval(S.current),S.current=null,clearInterval(T.current),T.current=null,m(0),t.gameMode==="online"&&s.roomCode&&oI(s.roomCode))};return!N||!ce?null:b.jsx(Bs,{children:b.jsx(kt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(kt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-[340px] max-w-[95vw]",children:b.jsxs(na,{className:"max-h-[85vh] overflow-y-auto",children:[b.jsx("h2",{className:"mb-4 text-center text-xl font-bold text-fuchsia-400",children:" Culture Tile!"}),je?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("p",{className:"text-4xl font-bold text-fuchsia-400",children:[Ne," / 10"]}),b.jsxs("p",{className:"text-center text-base font-semibold",children:[N.name," scored"," ",b.jsx("span",{className:"text-fuchsia-400",children:Ne}),"!"]}),b.jsx("p",{className:"text-center text-sm opacity-60",children:Ne>0?`Moving forward ${Ne} space${Ne===1?"":"s"}`:"No spaces gained."}),P&&b.jsx(Ee,{variant:"primary",onClick:X,children:"Continue"})]}):q?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx("p",{className:"text-center text-sm opacity-80",children:t.isTeamMode?"Your team has landed on a Culture tile  start reciting!":"You've landed on a Culture tile  start reciting!"}),b.jsx("p",{className:"text-center text-sm font-semibold",children:ce.question}),ve==="waiting"&&b.jsx("p",{className:"text-center text-xs opacity-60",children:"Waiting for the judge to start the timer"}),ve==="timer"&&b.jsx(b.Fragment,{children:h>0?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"text-6xl font-bold text-fuchsia-400",children:h}),b.jsx("p",{className:"text-center text-xs opacity-60",children:"seconds remaining"})]}):b.jsx("p",{className:"text-center text-lg font-bold text-fuchsia-400",children:"Time's up!"})})]}):ve==="waiting"?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("p",{className:"text-center text-sm opacity-80",children:[b.jsx("strong",{children:N.name})," is performing.",b.jsx("br",{}),k?"Start the timer when they're ready.":"Waiting for a judge to start the timer"]}),b.jsx("p",{className:"w-full rounded-lg bg-fuchsia-950/50 p-3 text-center text-sm font-semibold text-fuchsia-200",children:ce.question}),k&&b.jsx(Ee,{onClick:Y,children:"Start Timer"})]}):b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx("p",{className:"text-center text-xs opacity-60",children:E?`Tick answers as ${N.name} names them`:`${N.name} is performing`}),b.jsx("p",{className:"rounded-lg bg-fuchsia-950/50 p-2 text-center text-xs font-semibold text-fuchsia-200",children:ce.question}),b.jsx("div",{className:"flex items-center justify-center gap-2",children:h>0?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"text-4xl font-bold text-fuchsia-400",children:h}),b.jsx("span",{className:"text-xs opacity-60",children:"sec"})]}):b.jsx("span",{className:"text-sm font-bold text-fuchsia-400",children:"Time's up!"})}),h>0&&k&&b.jsx(Ee,{className:"w-full",onClick:W,children:"Finish Early"}),b.jsx("ol",{className:"flex flex-col gap-1",children:ce.answers.map((w,L)=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>V(L),disabled:!E,className:`flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left text-sm transition-colors ${p[L]?"bg-fuchsia-600 text-white":"bg-white/5 text-white/80 hover:bg-white/10"} ${E?"":"cursor-not-allowed opacity-50"}`,children:[b.jsx("span",{className:"w-5 shrink-0 text-center font-bold",children:p[L]?"":String(L+1)}),b.jsx("span",{children:w})]})},L))}),Ke&&E&&b.jsxs(Ee,{variant:"primary",onClick:ee,children:["Submit Score: ",Se," / 10"]}),Ke&&!E&&b.jsx("p",{className:"text-center text-xs opacity-50",children:"Waiting for score to be submitted"})]})]})})})})}function M4(){const t=It(),{handleNotScore:e}=Jr(),{identity:s}=js(),{playTick:r,playSound:o}=Lo(),[c,u]=M.useState("handoff"),[h,m]=M.useState(Kd),[p,g]=M.useState(new Array(6).fill(!1)),[v,_]=M.useState(null),S=M.useRef(null),T=M.useRef(null),N=t.players[t.currentPlayerIndex],I=t.currentNotCard,D=t.gameMode==="online"&&s.playerName!==null&&N?.name===s.playerName,H=t.isTeamMode&&t.gameMode==="online"?t.currentAnswererId===s.playerId:!1,q=t.isTeamMode&&t.gameMode==="online"&&s.teamId!==null&&s.teamId===t.activeTeamId,E=t.isTeamMode&&t.gameMode==="online"?H:D,k=t.isTeamMode&&t.gameMode==="online"?q&&!H:!D||t.gameMode==="local",P=t.isTeamMode&&t.gameMode==="online"?H:D||t.gameMode==="local",G=t.gameMode==="online"?t.notTimerStartedAt?"timer":"waiting":c,O=p.filter(Boolean).length,$=G==="timer"&&h===0,ce=t.gameMode==="online"?t.notScore:v,ve=ce!==null,Se=Y=>g(ee=>ee.map((X,W)=>W===Y?!X:X));M.useEffect(()=>{if(!(t.gameMode==="online"||c!=="timer"))return S.current=setInterval(()=>{r(),m(Y=>Y<=1?(clearInterval(S.current),S.current=null,0):Y-1)},1e3),()=>{clearInterval(S.current),S.current=null}},[c,t.gameMode,r]),M.useEffect(()=>{if(t.gameMode!=="online"||!t.notTimerStartedAt)return;const Y=()=>{const ee=Math.floor((Date.now()-t.notTimerStartedAt)/1e3),X=Math.max(0,Kd-ee);X>0&&r(),m(X)};return Y(),T.current=setInterval(Y,1e3),()=>{clearInterval(T.current),T.current=null}},[t.notTimerStartedAt,t.gameMode,r]),M.useEffect(()=>{t.gameMode==="online"&&t.notTimerStartedAt&&Date.now()-t.notTimerStartedAt<5e3&&g(new Array(6).fill(!1))},[t.notTimerStartedAt,t.gameMode]),M.useEffect(()=>{ce!==null&&o(ce>0?"correct":"wrong")},[ce]);const Ke=()=>{k&&(t.gameMode==="online"&&s.roomCode?cI(s.roomCode):(m(Kd),g(new Array(6).fill(!1)),u("timer")))},Ne=()=>{k&&(t.gameMode==="online"&&s.roomCode?fI(s.roomCode,O):_(O))},je=()=>{e(ce)},V=()=>{k&&(clearInterval(S.current),S.current=null,clearInterval(T.current),T.current=null,m(0),t.gameMode==="online"&&s.roomCode&&uI(s.roomCode))};return!N||!I?null:b.jsx(Bs,{children:b.jsx(kt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(kt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-[340px] max-w-[95vw]",children:b.jsxs(na,{className:"max-h-[85vh] overflow-y-auto",children:[b.jsx("h2",{className:"mb-4 text-center text-xl font-bold text-amber-400",children:" Not Tile!"}),ve?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("p",{className:"text-4xl font-bold text-amber-400",children:[ce," / 6"]}),b.jsxs("p",{className:"text-center text-base font-semibold",children:[N.name," guessed"," ",b.jsx("span",{className:"text-amber-400",children:ce}),"!"]}),b.jsx("p",{className:"text-center text-sm opacity-60",children:ce>0?`Moving forward ${ce} space${ce===1?"":"s"}`:"No spaces gained."}),P&&b.jsx(Ee,{variant:"primary",onClick:je,children:"Continue"})]}):E?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[G==="waiting"?b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-center text-sm opacity-80",children:t.isTeamMode?"Your teammate is about to describe 6 things  get ready to guess!":"Your teammates are about to describe 6 things  get ready to guess!"}),b.jsx("p",{className:"text-center text-xs opacity-60",children:"Waiting for the timer to start"})]}):null,G==="timer"&&b.jsx(b.Fragment,{children:h>0?b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-5xl font-bold text-amber-400",children:"Guess!"}),b.jsx("div",{className:"text-6xl font-bold text-white",children:h}),b.jsx("p",{className:"text-center text-xs opacity-60",children:"seconds remaining"})]}):b.jsx("p",{className:"text-center text-lg font-bold text-amber-400",children:"Time's up!"})})]}):t.gameMode!=="online"&&c==="handoff"?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("p",{className:"text-center text-sm opacity-80",children:[b.jsx("strong",{children:N.name}),", get ready to guess!"]}),b.jsx("p",{className:"text-center text-sm opacity-80",children:"Hand the device to another player to begin describing."}),b.jsx(Ee,{onClick:()=>u("waiting"),children:"Continue"})]}):k&&G==="waiting"?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("p",{className:"text-center text-sm opacity-80",children:["Describe these 6 things to"," ",b.jsx("strong",{children:N.name}),"  without saying the word!",b.jsx("br",{}),"Start the timer when ready."]}),b.jsx("ol",{className:"w-full flex flex-col gap-1",children:I.answers.map((Y,ee)=>b.jsxs("li",{className:"flex items-center gap-2 rounded-lg bg-white/5 px-3 py-2 text-sm",children:[b.jsx("span",{className:"w-5 shrink-0 text-center font-bold text-amber-400",children:ee+1}),b.jsx("span",{children:Y})]},ee))}),b.jsx(Ee,{onClick:Ke,children:"Start Timer"})]}):k?b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("p",{className:"text-center text-xs opacity-60",children:["Tick answers as"," ",b.jsx("strong",{className:"opacity-100",children:N.name})," ","guesses them"]}),b.jsx("div",{className:"flex items-center justify-center gap-2",children:h>0?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"text-4xl font-bold text-amber-400",children:h}),b.jsx("span",{className:"text-xs opacity-60",children:"sec"})]}):b.jsx("span",{className:"text-sm font-bold text-amber-400",children:"Time's up!"})}),h>0&&b.jsx(Ee,{className:"w-full",onClick:V,children:"Finish Early"}),b.jsx("ol",{className:"flex flex-col gap-1",children:I.answers.map((Y,ee)=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>Se(ee),className:`flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left text-sm transition-colors ${p[ee]?"bg-amber-500 text-white":"bg-white/5 text-white/80 hover:bg-white/10"}`,children:[b.jsx("span",{className:"w-5 shrink-0 text-center font-bold",children:p[ee]?"":String(ee+1)}),b.jsx("span",{children:Y})]})},ee))}),$&&b.jsxs(Ee,{variant:"primary",onClick:Ne,children:["Submit Score: ",O," / 6"]})]}):b.jsx("div",{className:"flex flex-col items-center gap-4",children:b.jsx("p",{className:"text-center text-sm opacity-60",children:G==="waiting"?"Waiting for the active team to start":h>0?`${h}s remaining`:"Time's up!"})})]})})})})}function N4(){const t=an(),[e,s]=M.useState("gameplay"),r=()=>{t({type:"DISMISS_WELCOME"})};return b.jsx(Bs,{children:b.jsx(kt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(kt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"w-[380px] max-w-[95vw]",children:b.jsxs(na,{className:"flex max-h-[85vh] flex-col overflow-hidden p-0",children:[b.jsxs("div",{className:"relative flex flex-col items-center gap-2 px-6 pt-5 pb-3",children:[b.jsx("button",{onClick:r,className:"absolute top-0 right-0 p-1.5 text-white/50 hover:text-white transition-colors","aria-label":"Close",children:""}),b.jsx("img",{src:"/assets/logo.png",alt:"NotCulture",className:"h-14 w-auto object-contain"}),b.jsx("h2",{className:"text-lg font-bold text-white",children:"Welcome to NotCulture!"})]}),b.jsxs("div",{className:"flex gap-2 px-6 pb-3",children:[b.jsx(Ee,{variant:e==="gameplay"?"primary":"default",onClick:()=>s("gameplay"),className:"flex-1 text-sm",children:"Gameplay"}),b.jsx(Ee,{variant:e==="online"?"primary":"default",onClick:()=>s("online"),className:"flex-1 text-sm",children:"Online"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-2",children:b.jsx(Bs,{mode:"wait",children:e==="gameplay"?b.jsxs(kt.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},exit:{opacity:0,x:8},transition:{duration:.15},className:"space-y-4",children:[b.jsx(ci,{title:"Objective",children:b.jsx("p",{className:"text-sm text-white/80",children:"Be the first player to reach the end of the spiral path to win!"})}),b.jsx(ci,{title:"Setup",children:b.jsxs("ul",{className:"space-y-1.5 text-sm text-white/80",children:[b.jsxs("li",{children:["Add 24 players using the ",b.jsx("strong",{className:"text-white",children:"+ Player"})," and"," ",b.jsx("strong",{className:"text-white",children:" Player"})," buttons."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Tap a player's name"})," to rename them."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Tap the colour dot"})," next to a name to pick a token colour."]})]})}),b.jsx(ci,{title:"Each Turn",children:b.jsx("p",{className:"text-sm text-white/80",children:"Spin the wheel  the result sets your category and difficulty. Answer the trivia question correctly to move forward; wrong and you stay put."})}),b.jsx(ci,{title:"Categories",children:b.jsxs("ul",{className:"space-y-1.5",children:[b.jsx(Tc,{color:"bg-cat-film",label:"Film & TV"}),b.jsx(Tc,{color:"bg-cat-science",label:"Science & Tech"}),b.jsx(Tc,{color:"bg-cat-general",label:"General Knowledge"}),b.jsx(Tc,{color:"bg-cat-history",label:"History & Arts"})]})}),b.jsx(ci,{title:"Special Tiles",children:b.jsxs("ul",{className:"space-y-2",children:[b.jsxs("li",{className:"text-sm text-white/80",children:[b.jsx("strong",{className:"text-white",children:"Not tile"})," (positions 5, 15, 25, 35)  Inactive players describe words or phrases; the active player guesses. Score up to 6 points and move that many spaces."]}),b.jsxs("li",{className:"text-sm text-white/80",children:[b.jsx("strong",{className:"text-white",children:"Culture tile"}),"  A performance challenge: sing, act, or draw. Other players judge the result."]})]})})]},"gameplay"):b.jsxs(kt.div,{initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:-8},transition:{duration:.15},className:"space-y-4",children:[b.jsx(ci,{title:"Creating a Room",children:b.jsxs("p",{className:"text-sm text-white/80",children:["Click ",b.jsx("strong",{className:"text-white",children:"Online Game"}),", enter your name, then click"," ",b.jsx("strong",{className:"text-white",children:"Create Room"}),". Share the 6-character room code with your friends."]})}),b.jsx(ci,{title:"Joining a Room",children:b.jsxs("p",{className:"text-sm text-white/80",children:["Click ",b.jsx("strong",{className:"text-white",children:"Online Game"}),", enter your name and the room code, then click ",b.jsx("strong",{className:"text-white",children:"Join"}),"."]})}),b.jsx(ci,{title:"Playing Online",children:b.jsx("p",{className:"text-sm text-white/80",children:"The room creator starts the game. Everyone sees the board and questions in real time. Only the active player rolls and answers; all clients see the result simultaneously."})}),b.jsx(ci,{title:"Room Expiry",children:b.jsx("p",{className:"text-sm text-white/80",children:"Rooms expire automatically after 1 hour."})})]},"online")})}),b.jsx("div",{className:"px-6 pt-3 pb-5",children:b.jsx(Ee,{variant:"primary",onClick:r,className:"w-full",children:"Start Playing"})})]})})})})}function ci({title:t,children:e}){return b.jsxs("div",{children:[b.jsx("p",{className:"mb-1 text-sm font-bold uppercase tracking-wide text-white/70",children:t}),e]})}function Tc({color:t,label:e}){return b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("span",{className:`h-3 w-3 flex-shrink-0 rounded-full ${t}`}),b.jsx("span",{className:"text-sm text-white/80",children:e})]})}const R4=JSON.parse(`[{"id":"film-101","category":"film","difficulty":1,"question":"Who directed the 1994 film 'Pulp Fiction'?","answers":["Martin Scorsese","Quentin Tarantino","Ridley Scott","David Fincher"],"correctIndex":1},{"id":"film-102","category":"film","difficulty":1,"question":"In which fictional city is Batman primarily based?","answers":["Metropolis","Star City","Central City","Gotham City"],"correctIndex":3},{"id":"film-103","category":"film","difficulty":2,"question":"Which actor portrayed Don Draper in 'Mad Men'?","answers":["Jon Hamm","Bryan Cranston","James Spader","Michael C. Hall"],"correctIndex":0},{"id":"film-104","category":"film","difficulty":2,"question":"Name the 1999 sci-fi film that features the line, 'There is no spoon.'","answers":["Dark City","The Matrix","Minority Report","Gattaca"],"correctIndex":1},{"id":"film-106","category":"film","difficulty":3,"question":"Who composed the original score for 'Jaws'?","answers":["Hans Zimmer","Ennio Morricone","John Williams","Jerry Goldsmith"],"correctIndex":2},{"id":"film-107","category":"film","difficulty":3,"question":"Which streaming platform produced the series 'Stranger Things'?","answers":["HBO","Amazon Prime","Netflix","Apple TV+"],"correctIndex":2},{"id":"film-108","category":"film","difficulty":4,"question":"Identify the film that won Best Picture at the Oscars in 2020.","answers":["1917","Joker","Parasite","Once Upon a Time in Hollywood"],"correctIndex":2},{"id":"film-109","category":"film","difficulty":4,"question":"Which British sitcom is set in the fictional Slough branch of Wernham Hogg?","answers":["Peep Show","The IT Crowd","The Office","Extras"],"correctIndex":2},{"id":"film-110","category":"film","difficulty":4,"question":"Who played the role of Vito Corleone in 'The Godfather' (1972)?","answers":["Al Pacino","Robert De Niro","Marlon Brando","James Caan"],"correctIndex":2},{"id":"film-111","category":"film","difficulty":5,"question":"Name the director of the 2001 film 'Mulholland Drive'.","answers":["David Lynch","Paul Thomas Anderson","Wes Anderson","Darren Aronofsky"],"correctIndex":0},{"id":"film-112","category":"film","difficulty":5,"question":"In which year did 'The Simpsons' first premiere on television?","answers":["1987","1989","1990","1992"],"correctIndex":1},{"id":"film-113","category":"film","difficulty":5,"question":"Which film features the character Travis Bickle?","answers":["The King of Comedy","Taxi Driver","Raging Bull","Mean Streets"],"correctIndex":1},{"id":"film-114","category":"film","difficulty":5,"question":"Complete the film title: 'Dr. Strangelove or: How I Learned to Stop Worrying and ______.'","answers":["Love the Bomb","Trust the Government","Fight Back","Win the War"],"correctIndex":0},{"id":"film-115","category":"film","difficulty":6,"question":"Who directed the 1957 courtroom drama '12 Angry Men'?","answers":["Elia Kazan","Sidney Lumet","Billy Wilder","Otto Preminger"],"correctIndex":1},{"id":"film-116","category":"film","difficulty":6,"question":"Which Japanese director made the film 'Seven Samurai'?","answers":["Yasujiro Ozu","Kenji Mizoguchi","Akira Kurosawa","Masaki Kobayashi"],"correctIndex":2},{"id":"film-117","category":"film","difficulty":6,"question":"In which year was the original 'Blade Runner' released?","answers":["1979","1980","1982","1984"],"correctIndex":2},{"id":"film-120","category":"film","difficulty":6,"question":"Which film won the first Academy Award for Best Picture in 1929?","answers":["Sunrise","Wings","The Jazz Singer","All Quiet on the Western Front"],"correctIndex":1},{"id":"film-121","category":"film","difficulty":1,"question":"Who played Jack Dawson in the 1997 film 'Titanic'?","answers":["Brad Pitt","Leonardo DiCaprio","Matt Damon","Johnny Depp"],"correctIndex":1},{"id":"film-122","category":"film","difficulty":1,"question":"In which TV series would you find the character Walter White?","answers":["The Sopranos","Breaking Bad","Ozark","Narcos"],"correctIndex":1},{"id":"film-123","category":"film","difficulty":2,"question":"Name the actor who portrayed Wolverine in the X-Men film series.","answers":["Chris Hemsworth","Hugh Jackman","Ryan Reynolds","Henry Cavill"],"correctIndex":1},{"id":"film-124","category":"film","difficulty":2,"question":"What is the name of the fictional continent where 'Game of Thrones' is primarily set?","answers":["Middle-earth","Westeros","Narnia","Essos"],"correctIndex":1},{"id":"film-125","category":"film","difficulty":3,"question":"In what year was the original 'Jurassic Park' released?","answers":["1991","1993","1995","1997"],"correctIndex":1},{"id":"film-126","category":"film","difficulty":3,"question":"Who directed the 2017 horror film 'Get Out'?","answers":["Jordan Peele","Ari Aster","James Wan","Robert Eggers"],"correctIndex":0},{"id":"film-127","category":"film","difficulty":3,"question":"Which actor played Fleabags sister Claire in the BBC series 'Fleabag'?","answers":["Olivia Colman","Sian Clifford","Phoebe Waller-Bridge","Jodie Comer"],"correctIndex":1},{"id":"film-128","category":"film","difficulty":4,"question":"Identify the film in which the character Daniel Plainview appears.","answers":["No Country for Old Men","There Will Be Blood","The Master","Gangs of New York"],"correctIndex":1},{"id":"film-129","category":"film","difficulty":4,"question":"Which actress won an Oscar for her performance in 'La La Land'?","answers":["Emma Stone","Natalie Portman","Saoirse Ronan","Jennifer Lawrence"],"correctIndex":0},{"id":"film-130","category":"film","difficulty":4,"question":"Name the long-running British sci-fi series that began in 1963 and features the Time Lord known as the Doctor.","answers":["Blake's 7","Torchwood","Doctor Who","Red Dwarf"],"correctIndex":2},{"id":"film-131","category":"film","difficulty":5,"question":"Who directed the 2007 film 'No Country for Old Men'?","answers":["Paul Thomas Anderson","The Coen Brothers","Christopher Nolan","Denis Villeneuve"],"correctIndex":1},{"id":"film-132","category":"film","difficulty":5,"question":"Which South Korean film won the Palme d'Or at Cannes in 2019?","answers":["Burning","Parasite","Oldboy","The Handmaiden"],"correctIndex":1},{"id":"film-133","category":"film","difficulty":5,"question":"In the film 'Goodfellas', what is the name of Ray Liottas character?","answers":["Jimmy Conway","Tommy DeVito","Henry Hill","Paul Cicero"],"correctIndex":2},{"id":"film-134","category":"film","difficulty":5,"question":"Which HBO series is based on the video game franchise created by Naughty Dog?","answers":["Westworld","The Last of Us","True Detective","Chernobyl"],"correctIndex":1},{"id":"film-135","category":"film","difficulty":6,"question":"Name the director of the 1979 war epic 'Apocalypse Now'.","answers":["Martin Scorsese","Francis Ford Coppola","Stanley Kubrick","Brian De Palma"],"correctIndex":1},{"id":"film-136","category":"film","difficulty":6,"question":"In which year did Alfred Hitchcock release 'Psycho'?","answers":["1958","1960","1962","1964"],"correctIndex":1},{"id":"film-137","category":"film","difficulty":6,"question":"Which Italian filmmaker directed 'La Dolce Vita'?","answers":["Roberto Rossellini","Federico Fellini","Luchino Visconti","Michelangelo Antonioni"],"correctIndex":1},{"id":"film-138","category":"film","difficulty":6,"question":"Who composed the score for the film 'The Good, the Bad and the Ugly'?","answers":["Nino Rota","John Williams","Ennio Morricone","Henry Mancini"],"correctIndex":2},{"id":"film-139","category":"film","difficulty":6,"question":"Identify the television series created by Phoebe Waller-Bridge that first aired in 2016.","answers":["Killing Eve","Fleabag","Broadchurch","Bodyguard"],"correctIndex":1},{"id":"film-140","category":"film","difficulty":6,"question":"Which film won Best Picture at the 1973 Academy Awards?","answers":["The Godfather","Cabaret","Deliverance","The Sting"],"correctIndex":0},{"id":"film-141","category":"film","difficulty":2,"question":"In what year was the first 'Harry Potter' film released?","answers":["1999","2000","2001","2002"],"correctIndex":2},{"id":"film-142","category":"film","difficulty":2,"question":"Name the actor who portrayed Tony Soprano.","answers":["Ray Liotta","James Gandolfini","Al Pacino","Michael Imperioli"],"correctIndex":1},{"id":"film-143","category":"film","difficulty":3,"question":"Who directed the 2014 film 'Interstellar'?","answers":["Denis Villeneuve","Christopher Nolan","Ridley Scott","James Cameron"],"correctIndex":1},{"id":"film-144","category":"film","difficulty":3,"question":"In 'The Silence of the Lambs', what is the profession of Clarice Starling?","answers":["Detective","Psychologist","FBI trainee","Journalist"],"correctIndex":2},{"id":"film-145","category":"film","difficulty":3,"question":"The series 'The Wire' is primarily set in which U.S. city?","answers":["Chicago","Baltimore","New York","Philadelphia"],"correctIndex":1},{"id":"film-146","category":"film","difficulty":4,"question":"Identify the film in which the character Anton Chigurh appears.","answers":["Sicario","No Country for Old Men","Prisoners","Heat"],"correctIndex":1},{"id":"film-147","category":"film","difficulty":4,"question":"Who starred opposite Julia Roberts in 'Notting Hill'?","answers":["Colin Firth","Hugh Grant","Jude Law","Daniel Day-Lewis"],"correctIndex":1},{"id":"film-148","category":"film","difficulty":4,"question":"In which year did 'The Shawshank Redemption' premiere?","answers":["1992","1994","1996","1998"],"correctIndex":1},{"id":"film-149","category":"film","difficulty":5,"question":"Name the director of the 2016 film 'Arrival'.","answers":["Denis Villeneuve","Guillermo del Toro","Alejandro Irritu","Alfonso Cuarn"],"correctIndex":0},{"id":"film-150","category":"film","difficulty":5,"question":"Which actress played the lead role in the 2017 film 'Lady Bird'?","answers":["Emma Stone","Saoirse Ronan","Florence Pugh","Margot Robbie"],"correctIndex":1},{"id":"film-151","category":"film","difficulty":5,"question":"In 'The Big Lebowski', what is the nickname of Jeffrey Lebowski?","answers":["The Boss","The Duke","The Dude","The Don"],"correctIndex":2},{"id":"film-152","category":"film","difficulty":5,"question":"Which television network originally broadcast 'Twin Peaks' in 1990?","answers":["NBC","CBS","ABC","Fox"],"correctIndex":2},{"id":"film-153","category":"film","difficulty":6,"question":"Who directed the 1968 science-fiction film '2001: A Space Odyssey'?","answers":["Stanley Kubrick","Arthur C. Clarke","Ridley Scott","Roman Polanski"],"correctIndex":0},{"id":"film-154","category":"film","difficulty":6,"question":"In which year did the first Cannes Film Festival take place?","answers":["1937","1939","1946","1950"],"correctIndex":2},{"id":"film-155","category":"film","difficulty":6,"question":"Name the cinematographer who shot 'Blade Runner 2049'.","answers":["Roger Deakins","Hoyte van Hoytema","Emmanuel Lubezki","Robert Richardson"],"correctIndex":0},{"id":"film-156","category":"film","difficulty":6,"question":"Which Iranian director made the Oscar-winning film 'A Separation'?","answers":["Asghar Farhadi","Abbas Kiarostami","Jafar Panahi","Majid Majidi"],"correctIndex":0},{"id":"film-157","category":"film","difficulty":6,"question":"What was the first animated feature-length film nominated for the Academy Award for Best Picture?","answers":["Beauty and the Beast","Toy Story","Shrek","The Lion King"],"correctIndex":0},{"id":"film-158","category":"film","difficulty":6,"question":"In television, what does the term 'pilot' refer to?","answers":["A season finale","A test episode made to sell a series","A recap episode","A crossover special"],"correctIndex":1},{"id":"film-159","category":"film","difficulty":6,"question":"Who composed the score for 'The Lord of the Rings' trilogy?","answers":["Howard Shore","John Williams","Hans Zimmer","James Horner"],"correctIndex":0},{"id":"film-160","category":"film","difficulty":6,"question":"Which film won Best Picture at the 1995 Academy Awards?","answers":["Pulp Fiction","Forrest Gump","Braveheart","The Shawshank Redemption"],"correctIndex":1},{"id":"film-161","category":"film","difficulty":1,"question":"Who directed the 1997 blockbuster Titanic?","answers":["Steven Spielberg","James Cameron","Ridley Scott","Michael Bay"],"correctIndex":1},{"id":"film-162","category":"film","difficulty":1,"question":"Which actor played Iron Man in the Marvel Cinematic Universe?","answers":["Chris Evans","Chris Hemsworth","Mark Ruffalo","Robert Downey Jr."],"correctIndex":3},{"id":"film-163","category":"film","difficulty":1,"question":"What is the name of the lion cub at the centre of The Lion King?","answers":["Nala","Mufasa","Simba","Kion"],"correctIndex":2},{"id":"film-164","category":"film","difficulty":1,"question":"Which animated film features a clownfish searching for his missing son?","answers":["Shark Tale","Moana","The Little Mermaid","Finding Nemo"],"correctIndex":3},{"id":"film-165","category":"film","difficulty":1,"question":"In which film does the character Forrest Gump appear?","answers":["Cast Away","Big","Forrest Gump","Philadelphia"],"correctIndex":2},{"id":"film-166","category":"film","difficulty":1,"question":"What is the name of the magical school attended by Harry Potter?","answers":["Beauxbatons","Durmstrang","Ilvermorny","Hogwarts"],"correctIndex":3},{"id":"film-167","category":"film","difficulty":2,"question":"Who played the Joker in The Dark Knight (2008)?","answers":["Jack Nicholson","Jared Leto","Joaquin Phoenix","Heath Ledger"],"correctIndex":3},{"id":"film-168","category":"film","difficulty":2,"question":"Which film features the famous line 'You can't handle the truth!'?","answers":["The Firm","JFK","A Few Good Men","Misery"],"correctIndex":2},{"id":"film-169","category":"film","difficulty":2,"question":"What is the name of the main character in The Matrix?","answers":["Morpheus","Trinity","Agent Smith","Neo"],"correctIndex":3},{"id":"film-170","category":"film","difficulty":2,"question":"In which film does Tom Hanks play a man stranded on a deserted island?","answers":["Philadelphia","Big","The Terminal","Cast Away"],"correctIndex":3},{"id":"film-171","category":"film","difficulty":3,"question":"In which Alfred Hitchcock film does the character Norman Bates appear?","answers":["The Silence of the Lambs","Psycho","Halloween","Se7en"],"correctIndex":1},{"id":"film-172","category":"film","difficulty":3,"question":"Which director made the 1968 science-fiction film 2001: A Space Odyssey?","answers":["Ridley Scott","George Lucas","Steven Spielberg","Stanley Kubrick"],"correctIndex":3},{"id":"film-173","category":"film","difficulty":4,"question":"Which Coen Brothers film won the Academy Award for Best Picture in 2008?","answers":["Fargo","True Grit","Burn After Reading","No Country for Old Men"],"correctIndex":3}]`),I4=JSON.parse(`[{"id":"science-002","category":"science","difficulty":2,"question":"What gas do plants absorb from the atmosphere?","answers":["Oxygen","Nitrogen","Carbon Dioxide","Hydrogen"],"correctIndex":2},{"id":"science-003","category":"science","difficulty":3,"question":"What is the chemical symbol for gold?","answers":["Ag","Au","Gd","Go"],"correctIndex":1},{"id":"science-004","category":"science","difficulty":4,"question":"Which scientist developed the theory of general relativity?","answers":["Isaac Newton","Albert Einstein","Galileo Galilei","Nikola Tesla"],"correctIndex":1},{"id":"science-005","category":"science","difficulty":5,"question":"What is the powerhouse of the cell?","answers":["Nucleus","Ribosome","Mitochondria","Chloroplast"],"correctIndex":2},{"id":"science-006","category":"science","difficulty":6,"question":"What particle carries a negative electric charge?","answers":["Proton","Neutron","Electron","Photon"],"correctIndex":2},{"id":"science-007","category":"science","difficulty":1,"question":"What do bees produce?","answers":["Milk","Honey","Silk","Wax"],"correctIndex":1},{"id":"science-008","category":"science","difficulty":2,"question":"What is H2O commonly known as?","answers":["Salt","Water","Oxygen","Hydrogen"],"correctIndex":1},{"id":"science-009","category":"science","difficulty":3,"question":"What part of the body pumps blood?","answers":["Lungs","Brain","Heart","Liver"],"correctIndex":2},{"id":"science-010","category":"science","difficulty":4,"question":"What is the speed of light approximately?","answers":["300,000 km/s","150,000 km/s","1,000 km/s","30,000 km/s"],"correctIndex":0},{"id":"science-011","category":"science","difficulty":5,"question":"Which element has atomic number 1?","answers":["Helium","Hydrogen","Oxygen","Carbon"],"correctIndex":1},{"id":"science-012","category":"science","difficulty":6,"question":"What is the name of the largest moon of Saturn?","answers":["Europa","Titan","Ganymede","Callisto"],"correctIndex":1},{"id":"science-013","difficulty":1,"question":"What planet is known as the Red Planet?","answers":["Venus","Mars","Jupiter","Mercury"],"correctIndex":1},{"id":"science-014","difficulty":2,"question":"What gas do humans need to breathe in order to survive?","answers":["Carbon Dioxide","Nitrogen","Oxygen","Hydrogen"],"correctIndex":2},{"id":"science-015","difficulty":3,"question":"What is the chemical symbol for sodium?","answers":["So","Na","Sn","Sd"],"correctIndex":1},{"id":"science-016","difficulty":2,"question":"What is the largest organ in the human body?","answers":["Heart","Liver","Skin","Brain"],"correctIndex":2},{"id":"science-017","difficulty":4,"question":"Which scientist developed the theory of evolution by natural selection?","answers":["Gregor Mendel","Charles Darwin","Louis Pasteur","Alfred Wallace"],"correctIndex":1},{"id":"science-018","difficulty":1,"question":"How many legs does a spider have?","answers":["Six","Eight","Ten","Four"],"correctIndex":1},{"id":"science-019","difficulty":5,"question":"What is the name of the force that keeps planets in orbit around the Sun?","answers":["Magnetism","Friction","Gravity","Inertia"],"correctIndex":2},{"id":"science-020","difficulty":2,"question":"Which part of the cell contains genetic material?","answers":["Cytoplasm","Nucleus","Cell membrane","Ribosome"],"correctIndex":1},{"id":"science-021","difficulty":3,"question":"What type of animal is a Komodo dragon?","answers":["Mammal","Amphibian","Reptile","Bird"],"correctIndex":2},{"id":"science-022","difficulty":6,"question":"What is the name of the boundary surrounding a black hole beyond which nothing can escape?","answers":["Singularity","Event Horizon","Photon Sphere","Accretion Disk"],"correctIndex":1},{"id":"science-023","difficulty":1,"question":"What device is used to measure temperature?","answers":["Barometer","Thermometer","Hygrometer","Anemometer"],"correctIndex":1},{"id":"science-024","difficulty":4,"question":"Which planet has the most prominent ring system?","answers":["Neptune","Uranus","Saturn","Jupiter"],"correctIndex":2},{"id":"science-025","difficulty":3,"question":"What is the main gas found in the Earth's atmosphere?","answers":["Oxygen","Carbon Dioxide","Nitrogen","Argon"],"correctIndex":2},{"id":"science-026","difficulty":5,"question":"Which scientist developed both the special and general theories of relativity?","answers":["Niels Bohr","Albert Einstein","Max Planck","Werner Heisenberg"],"correctIndex":1},{"id":"science-028","difficulty":4,"question":"What is the boiling point of water at sea level in degrees Celsius?","answers":["90C","95C","100C","105C"],"correctIndex":2},{"id":"science-029","difficulty":6,"question":"What does DNA stand for?","answers":["Dynamic Nucleic Acid","Deoxyribonucleic Acid","Dual Nitrogen Acid","Deoxynitric Acid"],"correctIndex":1},{"id":"science-101","category":"science","difficulty":1,"question":"Name the planet that is closest to the Sun.","answers":["Venus","Mercury","Mars","Earth"],"correctIndex":1},{"id":"science-102","category":"science","difficulty":1,"question":"How many bones are there in the adult human body?","answers":["198","206","212","220"],"correctIndex":1},{"id":"science-104","category":"science","difficulty":2,"question":"Complete the term for the study of earthquakes: ______ology.","answers":["Seismology","Volcanology","Meteorology","Geology"],"correctIndex":0},{"id":"science-105","category":"science","difficulty":3,"question":"In what year did the first human land on the Moon?","answers":["1967","1968","1969","1971"],"correctIndex":2},{"id":"science-107","category":"science","difficulty":3,"question":"Identify the organ responsible for filtering blood in the human body.","answers":["Liver","Heart","Kidneys","Pancreas"],"correctIndex":2},{"id":"science-108","category":"science","difficulty":4,"question":"How many elements are currently recognised on the periodic table?","answers":["112","114","118","120"],"correctIndex":2},{"id":"science-110","category":"science","difficulty":4,"question":"In computing, RAM stands for Random Access ______.","answers":["Module","Machine","Memory","Matrix"],"correctIndex":2},{"id":"science-111","category":"science","difficulty":5,"question":"Identify the branch of biology that studies fungi.","answers":["Botany","Zoology","Mycology","Ecology"],"correctIndex":2},{"id":"science-113","category":"science","difficulty":5,"question":"In what year was the World Wide Web first made publicly available?","answers":["1989","1991","1993","1995"],"correctIndex":1},{"id":"science-114","category":"science","difficulty":5,"question":"Complete the law: For every action, there is an equal and opposite ______.","answers":["force","motion","reaction","impact"],"correctIndex":2},{"id":"science-115","category":"science","difficulty":6,"question":"Identify the scientist who proposed the uncertainty principle.","answers":["Werner Heisenberg","Erwin Schrdinger","Paul Dirac","Richard Feynman"],"correctIndex":0},{"id":"science-116","category":"science","difficulty":6,"question":"Name the constant approximately equal to 6.626  10 Js.","answers":["Avogadro constant","Planck constant","Boltzmann constant","Rydberg constant"],"correctIndex":1},{"id":"science-117","category":"science","difficulty":6,"question":"In astrophysics, the Schwarzschild radius is associated with which cosmic object?","answers":["Neutron star","Black hole","Quasar","White dwarf"],"correctIndex":1},{"id":"science-118","category":"science","difficulty":6,"question":"How many chromosomes are typically found in a human somatic cell?","answers":["44","46","48","52"],"correctIndex":1},{"id":"science-119","category":"science","difficulty":4,"question":"Identify the metal that is liquid at room temperature.","answers":["Gallium","Mercury","Cesium","Bromine"],"correctIndex":1},{"id":"science-120","category":"science","difficulty":3,"question":"Name the largest mammal on Earth.","answers":["African Elephant","Blue Whale","Giraffe","Orca"],"correctIndex":1},{"id":"science-122","category":"science","difficulty":6,"question":"Name the particle responsible for mediating the strong nuclear force.","answers":["Photon","Gluon","Graviton","Neutrino"],"correctIndex":1},{"id":"science-123","category":"science","difficulty":4,"question":"In which decade was the first iPhone released?","answers":["1990s","2000s","2010s","2020s"],"correctIndex":1},{"id":"science-124","category":"science","difficulty":5,"question":"Identify the scientist credited with discovering penicillin.","answers":["Louis Pasteur","Alexander Fleming","Robert Koch","Jonas Salk"],"correctIndex":1},{"id":"science-125","category":"science","difficulty":6,"question":"Name the theorem stating that no two fermions can occupy the same quantum state simultaneously.","answers":["Heisenberg Principle","Pauli Exclusion Principle","Dirac Equation","Bohr Postulate"],"correctIndex":1},{"id":"science-126","category":"science","difficulty":3,"question":"Identify the organelle known as the powerhouse of the cell.","answers":["Nucleus","Mitochondrion","Ribosome","Golgi apparatus"],"correctIndex":1},{"id":"science-127","category":"science","difficulty":5,"question":"In computing, what does 'HTTP' stand for?","answers":["HyperText Transfer Protocol","High Transmission Text Process","Hyper Transfer Technical Protocol","Host Transfer Transmission Program"],"correctIndex":0},{"id":"science-128","category":"science","difficulty":6,"question":"Name the galaxy that is on a collision course with the Milky Way.","answers":["Triangulum Galaxy","Whirlpool Galaxy","Andromeda Galaxy","Sombrero Galaxy"],"correctIndex":2},{"id":"science-129","category":"science","difficulty":4,"question":"How many hearts does an octopus have?","answers":["One","Two","Three","Four"],"correctIndex":2},{"id":"science-130","category":"science","difficulty":5,"question":"Identify the scientist who formulated the three laws of planetary motion.","answers":["Galileo Galilei","Johannes Kepler","Tycho Brahe","Nicolaus Copernicus"],"correctIndex":1},{"id":"science-131","category":"science","difficulty":1,"question":"How many planets are in our solar system?","answers":["7","8","9","10"],"correctIndex":1},{"id":"science-132","category":"science","difficulty":1,"question":"What force pulls objects towards the Earth?","answers":["Friction","Magnetism","Momentum","Gravity"],"correctIndex":3},{"id":"science-134","category":"science","difficulty":1,"question":"What is the chemical formula for water?","answers":["WO","H2","HO","H2O"],"correctIndex":3},{"id":"science-137","category":"science","difficulty":2,"question":"What gas do plants absorb from the air during photosynthesis?","answers":["Oxygen","Hydrogen","Nitrogen","Carbon dioxide"],"correctIndex":3},{"id":"science-138","category":"science","difficulty":2,"question":"Approximately how fast does light travel in kilometres per second?","answers":["150,000","450,000","600,000","300,000"],"correctIndex":3},{"id":"science-139","category":"science","difficulty":3,"question":"What is the atomic number of carbon?","answers":["4","8","12","6"],"correctIndex":3}]`),D4=JSON.parse(`[{"id":"general-001","category":"general","difficulty":1,"question":"Which company was founded by Bill Gates and Paul Allen in 1975?","answers":["Apple","Microsoft","IBM","Intel"],"correctIndex":1},{"id":"general-002","category":"general","difficulty":1,"question":"What does the acronym 'NATO' stand for?","answers":["National Alliance Treaty Organisation","North Atlantic Treaty Organisation","Northern Alliance Trade Office","New Atlantic Treaty Order"],"correctIndex":1},{"id":"general-003","category":"general","difficulty":2,"question":"Which sport is played at Wimbledon?","answers":["Cricket","Tennis","Rugby","Golf"],"correctIndex":1},{"id":"general-004","category":"general","difficulty":2,"question":"What is the currency used in Switzerland?","answers":["Euro","Swiss Franc","Krone","Forint"],"correctIndex":1},{"id":"general-005","category":"general","difficulty":3,"question":"Which company owns the social media platform Instagram?","answers":["Google","Meta","Twitter","Snap"],"correctIndex":1},{"id":"general-006","category":"general","difficulty":3,"question":"Which country hosted the first modern Olympic Games in 1896?","answers":["France","Greece","Italy","United Kingdom"],"correctIndex":1},{"id":"general-007","category":"general","difficulty":3,"question":"What is the official language of Argentina?","answers":["Portuguese","Spanish","Italian","French"],"correctIndex":1},{"id":"general-008","category":"general","difficulty":4,"question":"Polestar electric vehicles were originally a performance brand under which car manufacturer?","answers":["BMW","Volvo","Mercedes-Benz","Audi"],"correctIndex":1},{"id":"general-009","category":"general","difficulty":4,"question":"Which organisation regulates professional golf's Ryder Cup?","answers":["FIFA","PGA of America","ATP","ICC"],"correctIndex":1},{"id":"general-010","category":"general","difficulty":4,"question":"Which UK supermarket chain was founded by Jack Cohen?","answers":["Sainsbury's","Tesco","Asda","Morrisons"],"correctIndex":1},{"id":"general-011","category":"general","difficulty":5,"question":"Which company owns the luxury fashion brand Balenciaga?","answers":["LVMH","Kering","Richemont","Prada Group"],"correctIndex":1},{"id":"general-012","category":"general","difficulty":5,"question":"In finance, what does 'FTSE' stand for?","answers":["Financial Times Stock Exchange","Federal Trade Securities Exchange","Foreign Trade Share Evaluation","Fiscal Trading Securities Enterprise"],"correctIndex":0},{"id":"general-013","category":"general","difficulty":5,"question":"Which country has won the most Rugby World Cups?","answers":["England","New Zealand","Australia","South Africa"],"correctIndex":3},{"id":"general-014","category":"general","difficulty":5,"question":"Which streaming service was launched first?","answers":["Netflix","Amazon Prime Video","Disney+","Apple TV+"],"correctIndex":0},{"id":"general-015","category":"general","difficulty":6,"question":"Which country is the only one to have competed in every FIFA World Cup tournament?","answers":["Germany","Argentina","Brazil","Italy"],"correctIndex":2},{"id":"general-017","category":"general","difficulty":6,"question":"Which company was the first to reach a market valuation of $1 trillion?","answers":["Microsoft","Amazon","Apple","Google"],"correctIndex":2},{"id":"general-018","category":"general","difficulty":2,"question":"What does 'WWW' stand for?","answers":["World Wide Web","World Wireless Web","Wide World Web","Web World Wide"],"correctIndex":0},{"id":"general-019","category":"general","difficulty":3,"question":"Which countrys national airline is called Qantas?","answers":["New Zealand","Australia","Canada","Singapore"],"correctIndex":1},{"id":"general-020","category":"general","difficulty":4,"question":"Which luxury watch brand produces the 'Submariner' model?","answers":["Omega","Rolex","Tag Heuer","Breitling"],"correctIndex":1},{"id":"general-021","category":"general","difficulty":1,"question":"Which company produces the sportswear brand Air Jordan?","answers":["Adidas","Nike","Puma","Under Armour"],"correctIndex":1},{"id":"general-022","category":"general","difficulty":1,"question":"What does the acronym 'IMF' stand for?","answers":["International Monetary Fund","International Market Federation","Integrated Monetary Forum","Internal Monetary Finance"],"correctIndex":0},{"id":"general-023","category":"general","difficulty":2,"question":"Which country hosts the Formula 1 race at Silverstone?","answers":["Germany","United Kingdom","Italy","France"],"correctIndex":1},{"id":"general-024","category":"general","difficulty":2,"question":"Which global fast-food chain uses the slogan 'I'm Lovin' It'?","answers":["Burger King","KFC","McDonald's","Subway"],"correctIndex":2},{"id":"general-025","category":"general","difficulty":3,"question":"Which company owns YouTube?","answers":["Meta","Apple","Alphabet","Amazon"],"correctIndex":2},{"id":"general-026","category":"general","difficulty":3,"question":"Which city hosts the annual World Economic Forum?","answers":["Geneva","Zurich","Davos","Basel"],"correctIndex":2},{"id":"general-027","category":"general","difficulty":3,"question":"Which country won the UEFA European Championship in 2020 (played in 2021)?","answers":["England","France","Italy","Portugal"],"correctIndex":2},{"id":"general-028","category":"general","difficulty":4,"question":"Which British newspaper is owned by News UK?","answers":["The Guardian","The Times","The Telegraph","The Independent"],"correctIndex":1},{"id":"general-029","category":"general","difficulty":4,"question":"Which company manufactures the 'Kindle' e-reader?","answers":["Apple","Barnes & Noble","Amazon","Sony"],"correctIndex":2},{"id":"general-030","category":"general","difficulty":4,"question":"Which country is home to the luxury fashion house Herms?","answers":["Italy","France","Switzerland","Spain"],"correctIndex":1},{"id":"general-031","category":"general","difficulty":5,"question":"Which company was formerly known as Facebook, Inc. before rebranding in 2021?","answers":["Meta Platforms","Alphabet","Snap Inc.","X Corp"],"correctIndex":0},{"id":"general-032","category":"general","difficulty":5,"question":"Which sporting event awards the Claret Jug to its winner?","answers":["US Open Golf","The Masters","The Open Championship","PGA Championship"],"correctIndex":2},{"id":"general-033","category":"general","difficulty":5,"question":"Which luxury conglomerate owns brands including Louis Vuitton and Mot & Chandon?","answers":["Kering","LVMH","Richemont","Chanel Group"],"correctIndex":1},{"id":"general-034","category":"general","difficulty":5,"question":"Which country has won the most Cricket World Cups (Mens ODI)?","answers":["Australia","India","West Indies","England"],"correctIndex":0},{"id":"general-035","category":"general","difficulty":6,"question":"Which year was the United Nations officially established?","answers":["1943","1945","1947","1950"],"correctIndex":1},{"id":"general-036","category":"general","difficulty":6,"question":"Which company originally created the Android operating system?","answers":["Google","Samsung","Android Inc.","Motorola"],"correctIndex":2},{"id":"general-037","category":"general","difficulty":6,"question":"Which country is the headquarters of the International Olympic Committee?","answers":["France","Switzerland","Greece","Belgium"],"correctIndex":1},{"id":"general-038","category":"general","difficulty":2,"question":"Which sport uses a shuttlecock?","answers":["Tennis","Squash","Badminton","Table Tennis"],"correctIndex":2},{"id":"general-039","category":"general","difficulty":3,"question":"Which countrys airline is called Emirates?","answers":["Qatar","United Arab Emirates","Saudi Arabia","Oman"],"correctIndex":1},{"id":"general-040","category":"general","difficulty":4,"question":"Which financial index tracks 100 major companies listed on the London Stock Exchange?","answers":["FTSE 250","Dow Jones","FTSE 100","CAC 40"],"correctIndex":2},{"id":"general-041","category":"general","difficulty":3,"question":"In what year did Facebook first launch to the public?","answers":["2002","2004","2006","2008"],"correctIndex":1},{"id":"general-042","category":"general","difficulty":3,"question":"Who is the current governing body of international football?","answers":["UEFA","FIFA","IOC","FA"],"correctIndex":1},{"id":"general-043","category":"general","difficulty":4,"question":"The brand 'Airbnb' is a shortened version of what original name?","answers":["Air Bed & Breakfast","Air Bungalow","Aerial Bed Network","Air Booking Base"],"correctIndex":0},{"id":"general-044","category":"general","difficulty":4,"question":"Identify the company that owns the luxury car manufacturer Bentley.","answers":["BMW","Volkswagen Group","Toyota","Stellantis"],"correctIndex":1},{"id":"general-045","category":"general","difficulty":4,"question":"How many permanent members sit on the United Nations Security Council?","answers":["4","5","6","7"],"correctIndex":1},{"id":"general-046","category":"general","difficulty":5,"question":"Complete the economic term: GDP measures the total value of all final ______ produced within a country.","answers":["exports","goods and services","investments","assets"],"correctIndex":1},{"id":"general-047","category":"general","difficulty":5,"question":"Name the founder of Amazon.","answers":["Elon Musk","Jeff Bezos","Bill Gates","Larry Page"],"correctIndex":1},{"id":"general-048","category":"general","difficulty":5,"question":"In which year was the Euro introduced as an electronic currency (before physical notes)?","answers":["1997","1999","2000","2002"],"correctIndex":1},{"id":"general-049","category":"general","difficulty":5,"question":"What is the name of the trophy awarded to the winner of the UEFA Champions League?","answers":["The Henri Delaunay Trophy","The Big Ears Trophy","The Silver Ball","The Golden Cup"],"correctIndex":1},{"id":"general-050","category":"general","difficulty":5,"question":"The brand Zara originated in which country?","answers":["Italy","Spain","France","Portugal"],"correctIndex":1},{"id":"general-051","category":"general","difficulty":6,"question":"Identify the company that first surpassed a $2 trillion market valuation.","answers":["Microsoft","Apple","Saudi Aramco","Alphabet"],"correctIndex":1},{"id":"general-052","category":"general","difficulty":6,"question":"In what year did the United Kingdom formally trigger Article 50 to leave the EU?","answers":["2016","2017","2018","2019"],"correctIndex":1},{"id":"general-053","category":"general","difficulty":6,"question":"How many time zones does Russia officially span?","answers":["9","10","11","12"],"correctIndex":2},{"id":"general-054","category":"general","difficulty":6,"question":"Name the organisation that oversees global internet domain names and IP address allocation.","answers":["ICANN","ITU","ISO","IEEE"],"correctIndex":0},{"id":"general-055","category":"general","difficulty":6,"question":"The sovereign wealth fund known as the 'Government Pension Fund Global' belongs to which country?","answers":["UAE","Singapore","Norway","Qatar"],"correctIndex":2},{"id":"general-056","category":"general","difficulty":6,"question":"What is the official currency of the International Monetary Fund?","answers":["US Dollar","Special Drawing Rights","Euro","Swiss Franc"],"correctIndex":1},{"id":"general-057","category":"general","difficulty":6,"question":"In global finance, what does the acronym 'BRICS' refer to?","answers":["A trade agreement","A military alliance","A group of emerging economies","A banking regulation framework"],"correctIndex":2},{"id":"general-058","category":"general","difficulty":6,"question":"Identify the headquarters city of the European Central Bank.","answers":["Brussels","Frankfurt","Luxembourg","Paris"],"correctIndex":1},{"id":"general-059","category":"general","difficulty":6,"question":"How many countries are currently members of the European Union?","answers":["26","27","28","29"],"correctIndex":1},{"id":"general-060","category":"general","difficulty":6,"question":"The Fortune 500 list ranks companies based on what primary metric?","answers":["Market capitalisation","Profit margin","Annual revenue","Global brand value"],"correctIndex":2},{"id":"general-061","category":"general","difficulty":1,"question":"How many sides does a hexagon have?","answers":["5","7","8","6"],"correctIndex":3},{"id":"general-062","category":"general","difficulty":1,"question":"What is the capital city of France?","answers":["Lyon","Marseille","Bordeaux","Paris"],"correctIndex":3},{"id":"general-063","category":"general","difficulty":1,"question":"How many days are in a leap year?","answers":["365","364","367","366"],"correctIndex":3},{"id":"general-064","category":"general","difficulty":1,"question":"How many continents are there on Earth?","answers":["5","6","8","7"],"correctIndex":3},{"id":"general-065","category":"general","difficulty":1,"question":"What is the largest ocean on Earth?","answers":["Atlantic","Indian","Arctic","Pacific"],"correctIndex":3},{"id":"general-066","category":"general","difficulty":1,"question":"How many hours are in a day?","answers":["12","48","36","24"],"correctIndex":3},{"id":"general-067","category":"general","difficulty":2,"question":"In which country is the Great Barrier Reef located?","answers":["New Zealand","South Africa","Indonesia","Australia"],"correctIndex":3},{"id":"general-068","category":"general","difficulty":2,"question":"What is the longest river in the world?","answers":["Amazon","Yangtze","Mississippi","Nile"],"correctIndex":3},{"id":"general-069","category":"general","difficulty":2,"question":"How many strings does a standard guitar have?","answers":["4","5","7","6"],"correctIndex":3},{"id":"general-070","category":"general","difficulty":2,"question":"What currency is used in Japan?","answers":["Yuan","Won","Baht","Yen"],"correctIndex":3}]`),O4=JSON.parse(`[{"id":"history-002","category":"history","difficulty":2,"question":"Who was the first President of the United States?","answers":["Thomas Jefferson","George Washington","Abraham Lincoln","John Adams"],"correctIndex":1},{"id":"history-003","category":"history","difficulty":3,"question":"In which year did World War II end?","answers":["1943","1944","1945","1946"],"correctIndex":2},{"id":"history-004","category":"history","difficulty":4,"question":"Which empire built the Colosseum?","answers":["Greek Empire","Roman Empire","Ottoman Empire","British Empire"],"correctIndex":1},{"id":"history-005","category":"history","difficulty":5,"question":"Who was the British Prime Minister during most of World War II?","answers":["Neville Chamberlain","Winston Churchill","Margaret Thatcher","Tony Blair"],"correctIndex":1},{"id":"history-006","category":"history","difficulty":6,"question":"The Renaissance began in which European country?","answers":["France","Germany","Italy","Spain"],"correctIndex":2},{"id":"history-007","category":"history","difficulty":1,"question":"Who built the pyramids?","answers":["Romans","Greeks","Egyptians","Mayans"],"correctIndex":2},{"id":"history-008","category":"history","difficulty":2,"question":"Which wall divided Berlin during the Cold War?","answers":["Iron Wall","Berlin Wall","Cold Barrier","German Divide"],"correctIndex":1},{"id":"history-009","category":"history","difficulty":3,"question":"Who was known as the Maid of Orlans?","answers":["Cleopatra","Joan of Arc","Marie Antoinette","Queen Victoria"],"correctIndex":1},{"id":"history-010","category":"history","difficulty":4,"question":"Which year did the Titanic sink?","answers":["1905","1912","1918","1921"],"correctIndex":1},{"id":"history-011","category":"history","difficulty":5,"question":"Who was the first Roman Emperor?","answers":["Julius Caesar","Augustus","Nero","Tiberius"],"correctIndex":1},{"id":"history-012","category":"history","difficulty":6,"question":"The Battle of Hastings took place in which year?","answers":["1066","1215","1415","1666"],"correctIndex":0},{"id":"history-013","difficulty":1,"question":"Which English monarch reigned during the Spanish Armada in 1588?","answers":["Mary I","Elizabeth I","James I","Henry VIII"],"correctIndex":1},{"id":"history-014","difficulty":1,"question":"Which artist painted 'Guernica' in response to the bombing during the Spanish Civil War?","answers":["Salvador Dal","Pablo Picasso","Joan Mir","Francisco Goya"],"correctIndex":1},{"id":"history-015","difficulty":1,"question":"Which empire was ruled at its height by Suleiman the Magnificent?","answers":["Byzantine Empire","Ottoman Empire","Persian Empire","Mongol Empire"],"correctIndex":1},{"id":"history-016","difficulty":2,"question":"The Magna Carta was signed in which year?","answers":["1066","1215","1314","1453"],"correctIndex":1},{"id":"history-017","difficulty":2,"question":"Which composer wrote the opera 'The Marriage of Figaro'?","answers":["Beethoven","Mozart","Verdi","Wagner"],"correctIndex":1},{"id":"history-019","difficulty":3,"question":"Which pharaohs tomb was discovered largely intact in 1922 by Howard Carter?","answers":["Ramses II","Akhenaten","Tutankhamun","Seti I"],"correctIndex":2},{"id":"history-020","difficulty":3,"question":"Which playwright wrote 'The Importance of Being Earnest'?","answers":["George Bernard Shaw","Oscar Wilde","Henrik Ibsen","Nol Coward"],"correctIndex":1},{"id":"history-021","difficulty":3,"question":"Which battle in 1815 marked the final defeat of Napoleon Bonaparte?","answers":["Austerlitz","Trafalgar","Leipzig","Waterloo"],"correctIndex":3},{"id":"history-022","difficulty":4,"question":"Which artistic movement is Salvador Dal most closely associated with?","answers":["Impressionism","Cubism","Surrealism","Futurism"],"correctIndex":2},{"id":"history-023","difficulty":4,"question":"Which 14th-century pandemic is estimated to have killed up to one-third of Europe's population?","answers":["The Great Famine","The Black Death","The Antonine Plague","The Justinian Plague"],"correctIndex":1},{"id":"history-024","difficulty":4,"question":"Which architect designed St Pauls Cathedral in London?","answers":["Inigo Jones","Christopher Wren","John Nash","Nicholas Hawksmoor"],"correctIndex":1},{"id":"history-025","difficulty":5,"question":"Which 17th-century war was fought primarily between Royalists and Parliamentarians in England?","answers":["The War of the Roses","The English Civil War","The Nine Years' War","The Glorious Revolution"],"correctIndex":1},{"id":"history-026","difficulty":5,"question":"Which Dutch painter created 'The Night Watch'?","answers":["Vermeer","Rembrandt","Frans Hals","Rubens"],"correctIndex":1},{"id":"history-027","difficulty":5,"question":"Which document, issued in 1689, limited the powers of the English monarchy and established parliamentary sovereignty?","answers":["Magna Carta","Act of Settlement","English Bill of Rights","Petition of Right"],"correctIndex":2},{"id":"history-028","difficulty":6,"question":"Which Carthaginian general crossed the Alps with elephants during the Second Punic War?","answers":["Hamilcar Barca","Hannibal","Scipio Africanus","Mago Barca"],"correctIndex":1},{"id":"history-029","difficulty":6,"question":"Which artistic technique, meaning 'light-dark', was mastered by Caravaggio?","answers":["Sfumato","Chiaroscuro","Impasto","Pointillism"],"correctIndex":1},{"id":"history-030","difficulty":6,"question":"Which 1555 treaty established the principle of 'cuius regio, eius religio' within the Holy Roman Empire?","answers":["Peace of Westphalia","Treaty of Augsburg","Treaty of Tordesillas","Edict of Nantes"],"correctIndex":1},{"id":"history-031","difficulty":6,"question":"Which Russian ruler abolished serfdom in 1861?","answers":["Peter the Great","Catherine the Great","Alexander II","Nicholas I"],"correctIndex":2},{"id":"history-032","difficulty":2,"question":"Which American president delivered the Gettysburg Address in 1863?","answers":["Ulysses S. Grant","Abraham Lincoln","Andrew Johnson","Theodore Roosevelt"],"correctIndex":1},{"id":"history-033","difficulty":3,"question":"Which composer wrote the ballet 'The Rite of Spring'?","answers":["Tchaikovsky","Stravinsky","Debussy","Ravel"],"correctIndex":1},{"id":"history-034","difficulty":4,"question":"Which dynasty ruled China when the Great Wall was largely rebuilt in its current form?","answers":["Tang","Ming","Qing","Song"],"correctIndex":1},{"id":"history-035","difficulty":4,"question":"Which art movement was founded by Filippo Tommaso Marinetti in 1909?","answers":["Dadaism","Futurism","Expressionism","Constructivism"],"correctIndex":1},{"id":"history-036","difficulty":5,"question":"Which 18th-century conflict is also known as the French and Indian War in North America?","answers":["War of Austrian Succession","Seven Years' War","War of Spanish Succession","American Revolutionary War"],"correctIndex":1},{"id":"history-037","difficulty":5,"question":"Which painter is known for the frescoes of the Scrovegni Chapel in Padua?","answers":["Giotto","Masaccio","Botticelli","Titian"],"correctIndex":0},{"id":"history-038","difficulty":6,"question":"Which battle in 480 BCE saw a small Greek force led by King Leonidas resist the Persian army?","answers":["Marathon","Plataea","Salamis","Thermopylae"],"correctIndex":3},{"id":"history-039","difficulty":6,"question":"Which philosopher wrote 'The Social Contract' in 1762?","answers":["Voltaire","John Locke","Jean-Jacques Rousseau","Montesquieu"],"correctIndex":2},{"id":"history-041","difficulty":4,"question":"Which cathedral is famous for housing the Shrine of Thomas Becket?","answers":["York Minster","Canterbury Cathedral","Durham Cathedral","Winchester Cathedral"],"correctIndex":1},{"id":"history-042","difficulty":5,"question":"Which 19th-century artistic movement sought to capture light and everyday scenes with visible brushstrokes?","answers":["Romanticism","Impressionism","Realism","Symbolism"],"correctIndex":1},{"id":"history-043","difficulty":6,"question":"Which treaty in 1648 ended the Thirty Years' War?","answers":["Treaty of Utrecht","Peace of Westphalia","Treaty of Nijmegen","Treaty of Vienna"],"correctIndex":1},{"id":"history-044","difficulty":4,"question":"Which ancient wonder was located in Alexandria?","answers":["Colossus of Rhodes","Temple of Artemis","Lighthouse of Alexandria","Hanging Gardens"],"correctIndex":2},{"id":"history-045","difficulty":5,"question":"Which emperor converted to Christianity after reportedly seeing a vision before the Battle of the Milvian Bridge?","answers":["Augustus","Constantine","Justinian","Diocletian"],"correctIndex":1},{"id":"history-046","difficulty":6,"question":"Which medieval Islamic scholar wrote 'The Muqaddimah', considered an early work of sociology?","answers":["Al-Farabi","Ibn Sina","Ibn Khaldun","Al-Ghazali"],"correctIndex":2},{"id":"history-047","difficulty":3,"question":"Which artist painted the ceiling of the Sistine Chapel?","answers":["Leonardo da Vinci","Michelangelo","Raphael","Caravaggio"],"correctIndex":1},{"id":"history-048","difficulty":5,"question":"Which English queen reigned for just nine days in 1553?","answers":["Mary I","Lady Jane Grey","Elizabeth I","Anne Boleyn"],"correctIndex":1},{"id":"history-049","difficulty":6,"question":"Which war was sparked by the defenestration of Prague in 1618?","answers":["Thirty Years' War","War of the Spanish Succession","Seven Years' War","Crimean War"],"correctIndex":0},{"id":"history-051","difficulty":6,"question":"Which Byzantine emperor ordered the codification of Roman law known as the Corpus Juris Civilis?","answers":["Constantine","Theodosius","Justinian I","Heraclius"],"correctIndex":2},{"id":"history-052","difficulty":3,"question":"Which revolution began in France in 1789?","answers":["July Revolution","French Revolution","Glorious Revolution","February Revolution"],"correctIndex":1},{"id":"history-053","difficulty":5,"question":"Which art style is characterised by dramatic use of light and emotional intensity, flourishing in 17th-century Europe?","answers":["Rococo","Baroque","Neoclassicism","Mannerism"],"correctIndex":1},{"id":"history-054","difficulty":6,"question":"Which 19th-century political thinker authored 'Das Kapital'?","answers":["Friedrich Engels","Karl Marx","Max Weber","Vladimir Lenin"],"correctIndex":1},{"id":"history-055","difficulty":4,"question":"Which battle in 1066 took place shortly before the Battle of Hastings and saw Harold II defeat Harald Hardrada?","answers":["Stamford Bridge","Towton","Bosworth Field","Edgehill"],"correctIndex":0},{"id":"history-056","difficulty":5,"question":"Which Italian city-state was ruled by the Medici family during the Renaissance?","answers":["Venice","Milan","Florence","Genoa"],"correctIndex":2},{"id":"history-057","difficulty":6,"question":"Which Japanese period began in 1603 under Tokugawa Ieyasu?","answers":["Meiji","Edo","Heian","Kamakura"],"correctIndex":1},{"id":"history-058","difficulty":3,"question":"Which American document begins with the words 'We the People'?","answers":["Declaration of Independence","Bill of Rights","US Constitution","Articles of Confederation"],"correctIndex":2},{"id":"history-059","difficulty":5,"question":"Which English Romantic poet wrote 'Ozymandias'?","answers":["William Wordsworth","John Keats","Lord Byron","Percy Bysshe Shelley"],"correctIndex":3},{"id":"history-060","difficulty":6,"question":"Which council in 325 CE sought to establish consensus in early Christian doctrine?","answers":["Council of Trent","Council of Chalcedon","First Council of Nicaea","Council of Constance"],"correctIndex":2},{"id":"history-061","difficulty":4,"question":"Which English monarch defeated Richard III at the Battle of Bosworth Field?","answers":["Henry VII","Henry VIII","Edward IV","James II"],"correctIndex":0},{"id":"history-062","difficulty":6,"question":"Which 20th-century art movement was founded at the Cabaret Voltaire in Zurich in 1916?","answers":["Futurism","Dada","Surrealism","Constructivism"],"correctIndex":1},{"id":"history-064","category":"history","difficulty":1,"question":"Which city did the Titanic depart from on its maiden voyage?","answers":["Liverpool","Bristol","London","Southampton"],"correctIndex":3},{"id":"history-065","category":"history","difficulty":1,"question":"Who is credited with inventing the telephone?","answers":["Thomas Edison","Nikola Tesla","Guglielmo Marconi","Alexander Graham Bell"],"correctIndex":3},{"id":"history-066","category":"history","difficulty":1,"question":"In which year did the First World War begin?","answers":["1912","1916","1918","1914"],"correctIndex":3},{"id":"history-067","category":"history","difficulty":1,"question":"What was the name of the ship Charles Darwin sailed on during his famous voyage?","answers":["HMS Victory","The Endeavour","The Mary Rose","The Beagle"],"correctIndex":3},{"id":"history-068","category":"history","difficulty":1,"question":"Which ancient wonder of the world is located in Egypt?","answers":["Colossus of Rhodes","Hanging Gardens","Temple of Artemis","Great Pyramid of Giza"],"correctIndex":3},{"id":"history-069","category":"history","difficulty":2,"question":"Julius Caesar rose to prominence in which ancient civilisation?","answers":["Greek","Ottoman","Persian","Roman"],"correctIndex":3},{"id":"history-070","category":"history","difficulty":2,"question":"What was the name of the first artificial satellite launched into space?","answers":["Apollo","Vostok","Explorer","Sputnik"],"correctIndex":3},{"id":"history-071","category":"history","difficulty":2,"question":"Who led the Cuban Revolution?","answers":["Che Guevara","Raul Castro","Fulgencio Batista","Fidel Castro"],"correctIndex":3},{"id":"history-072","category":"history","difficulty":2,"question":"Which country was the first to grant women the right to vote?","answers":["Australia","United Kingdom","United States","New Zealand"],"correctIndex":3},{"id":"history-073","category":"history","difficulty":2,"question":"In which year did the Russian Revolution take place?","answers":["1905","1921","1924","1917"],"correctIndex":3}]`);function k4(){const t=It(),e=an();return M.useEffect(()=>{const s=[...R4.map(r=>({...r,category:"film"})),...I4.map(r=>({...r,category:"science"})),...D4.map(r=>({...r,category:"general"})),...O4.map(r=>({...r,category:"history"}))];e({type:"SET_QUESTIONS",questions:s})},[e]),M.useEffect(()=>(t.showQuestionModal||t.showEditor||t.showWinModal||t.showCultureModal||t.showNotModal||t.showWelcome?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t.showQuestionModal,t.showEditor,t.showWinModal,t.showCultureModal,t.showNotModal,t.showWelcome]),b.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-start gap-1 p-2.5 lg:flex-row lg:items-start lg:justify-center lg:gap-10",children:[b.jsx(Sk,{}),b.jsx(w4,{}),b.jsx(b4,{}),t.showQuestionModal&&t.activeQuestion&&b.jsx(T4,{}),t.showWinModal&&b.jsx(C4,{}),t.showEditor&&b.jsx(E4,{}),t.showCultureModal&&b.jsx(A4,{}),t.showNotModal&&b.jsx(M4,{}),t.showWelcome&&b.jsx(N4,{})]})}function L4(){return b.jsx(QE,{children:b.jsx(WE,{children:b.jsx(FE,{children:b.jsx(vI,{children:b.jsx(k4,{})})})})})}PE.createRoot(document.getElementById("root")).render(b.jsx(M.StrictMode,{children:b.jsx(L4,{})}));
