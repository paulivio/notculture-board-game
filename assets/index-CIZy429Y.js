(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();var $d={exports:{}},so={};var t_;function UE(){if(t_)return so;t_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:c}}return so.Fragment=e,so.jsx=s,so.jsxs=s,so}var n_;function qE(){return n_||(n_=1,$d.exports=UE()),$d.exports}var b=qE(),eh={exports:{}},ge={};var i_;function HE(){if(i_)return ge;i_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function S(w){return w===null||typeof w!="object"?null:(w=_&&w[_]||w["@@iterator"],typeof w=="function"?w:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,R={};function D(w,O,H){this.props=w,this.context=O,this.refs=R,this.updater=H||T}D.prototype.isReactComponent={},D.prototype.setState=function(w,O){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,O,"setState")},D.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function G(){}G.prototype=D.prototype;function q(w,O,H){this.props=w,this.context=O,this.refs=R,this.updater=H||T}var k=q.prototype=new G;k.constructor=q,M(k,D.prototype),k.isPureReactComponent=!0;var W=Array.isArray;function L(){}var z={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function Q(w,O,H){var Z=H.ref;return{$$typeof:t,type:w,key:O,ref:Z!==void 0?Z:null,props:H}}function ne(w,O){return Q(w.type,O,w.props)}function ce(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function he(w){var O={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(H){return O[H]})}var Fe=/\/+/g;function Re(w,O){return typeof w=="object"&&w!==null&&w.key!=null?he(""+w.key):O.toString(36)}function je(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(L,L):(w.status="pending",w.then(function(O){w.status==="pending"&&(w.status="fulfilled",w.value=O)},function(O){w.status==="pending"&&(w.status="rejected",w.reason=O)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function V(w,O,H,Z,J){var ie=typeof w;(ie==="undefined"||ie==="boolean")&&(w=null);var pe=!1;if(w===null)pe=!0;else switch(ie){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(w.$$typeof){case t:case e:pe=!0;break;case g:return pe=w._init,V(pe(w._payload),O,H,Z,J)}}if(pe)return J=J(w),pe=Z===""?"."+Re(w,0):Z,W(J)?(H="",pe!=null&&(H=pe.replace(Fe,"$&/")+"/"),V(J,O,H,"",function(yi){return yi})):J!=null&&(ce(J)&&(J=ne(J,H+(J.key==null||w&&w.key===J.key?"":(""+J.key).replace(Fe,"$&/")+"/")+pe)),O.push(J)),1;pe=0;var Ue=Z===""?".":Z+":";if(W(w))for(var ye=0;ye<w.length;ye++)Z=w[ye],ie=Ue+Re(Z,ye),pe+=V(Z,O,H,ie,J);else if(ye=S(w),typeof ye=="function")for(w=ye.call(w),ye=0;!(Z=w.next()).done;)Z=Z.value,ie=Ue+Re(Z,ye++),pe+=V(Z,O,H,ie,J);else if(ie==="object"){if(typeof w.then=="function")return V(je(w),O,H,Z,J);throw O=String(w),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return pe}function K(w,O,H){if(w==null)return w;var Z=[],J=0;return V(w,Z,"","",function(ie){return O.call(H,ie,J++)}),Z}function ee(w){if(w._status===-1){var O=w._result;O=O(),O.then(function(H){(w._status===0||w._status===-1)&&(w._status=1,w._result=H)},function(H){(w._status===0||w._status===-1)&&(w._status=2,w._result=H)}),w._status===-1&&(w._status=0,w._result=O)}if(w._status===1)return w._result.default;throw w._result}var fe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},$={map:K,forEach:function(w,O,H){K(w,function(){O.apply(this,arguments)},H)},count:function(w){var O=0;return K(w,function(){O++}),O},toArray:function(w){return K(w,function(O){return O})||[]},only:function(w){if(!ce(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ge.Activity=v,ge.Children=$,ge.Component=D,ge.Fragment=s,ge.Profiler=o,ge.PureComponent=q,ge.StrictMode=r,ge.Suspense=m,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ge.__COMPILER_RUNTIME={__proto__:null,c:function(w){return z.H.useMemoCache(w)}},ge.cache=function(w){return function(){return w.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(w,O,H){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Z=M({},w.props),J=w.key;if(O!=null)for(ie in O.key!==void 0&&(J=""+O.key),O)!N.call(O,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&O.ref===void 0||(Z[ie]=O[ie]);var ie=arguments.length-2;if(ie===1)Z.children=H;else if(1<ie){for(var pe=Array(ie),Ue=0;Ue<ie;Ue++)pe[Ue]=arguments[Ue+2];Z.children=pe}return Q(w.type,J,Z)},ge.createContext=function(w){return w={$$typeof:u,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},ge.createElement=function(w,O,H){var Z,J={},ie=null;if(O!=null)for(Z in O.key!==void 0&&(ie=""+O.key),O)N.call(O,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(J[Z]=O[Z]);var pe=arguments.length-2;if(pe===1)J.children=H;else if(1<pe){for(var Ue=Array(pe),ye=0;ye<pe;ye++)Ue[ye]=arguments[ye+2];J.children=Ue}if(w&&w.defaultProps)for(Z in pe=w.defaultProps,pe)J[Z]===void 0&&(J[Z]=pe[Z]);return Q(w,ie,J)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(w){return{$$typeof:h,render:w}},ge.isValidElement=ce,ge.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:ee}},ge.memo=function(w,O){return{$$typeof:p,type:w,compare:O===void 0?null:O}},ge.startTransition=function(w){var O=z.T,H={};z.T=H;try{var Z=w(),J=z.S;J!==null&&J(H,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(L,fe)}catch(ie){fe(ie)}finally{O!==null&&H.types!==null&&(O.types=H.types),z.T=O}},ge.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ge.use=function(w){return z.H.use(w)},ge.useActionState=function(w,O,H){return z.H.useActionState(w,O,H)},ge.useCallback=function(w,O){return z.H.useCallback(w,O)},ge.useContext=function(w){return z.H.useContext(w)},ge.useDebugValue=function(){},ge.useDeferredValue=function(w,O){return z.H.useDeferredValue(w,O)},ge.useEffect=function(w,O){return z.H.useEffect(w,O)},ge.useEffectEvent=function(w){return z.H.useEffectEvent(w)},ge.useId=function(){return z.H.useId()},ge.useImperativeHandle=function(w,O,H){return z.H.useImperativeHandle(w,O,H)},ge.useInsertionEffect=function(w,O){return z.H.useInsertionEffect(w,O)},ge.useLayoutEffect=function(w,O){return z.H.useLayoutEffect(w,O)},ge.useMemo=function(w,O){return z.H.useMemo(w,O)},ge.useOptimistic=function(w,O){return z.H.useOptimistic(w,O)},ge.useReducer=function(w,O,H){return z.H.useReducer(w,O,H)},ge.useRef=function(w){return z.H.useRef(w)},ge.useState=function(w){return z.H.useState(w)},ge.useSyncExternalStore=function(w,O,H){return z.H.useSyncExternalStore(w,O,H)},ge.useTransition=function(){return z.H.useTransition()},ge.version="19.2.4",ge}var s_;function km(){return s_||(s_=1,eh.exports=HE()),eh.exports}var A=km(),th={exports:{}},ro={},nh={exports:{}},ih={};var r_;function GE(){return r_||(r_=1,(function(t){function e(V,K){var ee=V.length;V.push(K);e:for(;0<ee;){var fe=ee-1>>>1,$=V[fe];if(0<o($,K))V[fe]=K,V[ee]=$,ee=fe;else break e}}function s(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],ee=V.pop();if(ee!==K){V[0]=ee;e:for(var fe=0,$=V.length,w=$>>>1;fe<w;){var O=2*(fe+1)-1,H=V[O],Z=O+1,J=V[Z];if(0>o(H,ee))Z<$&&0>o(J,H)?(V[fe]=J,V[Z]=ee,fe=Z):(V[fe]=H,V[O]=ee,fe=O);else if(Z<$&&0>o(J,ee))V[fe]=J,V[Z]=ee,fe=Z;else break e}}return K}function o(V,K){var ee=V.sortIndex-K.sortIndex;return ee!==0?ee:V.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],p=[],g=1,v=null,_=3,S=!1,T=!1,M=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function k(V){for(var K=s(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=V)r(p),K.sortIndex=K.expirationTime,e(m,K);else break;K=s(p)}}function W(V){if(M=!1,k(V),!T)if(s(m)!==null)T=!0,L||(L=!0,he());else{var K=s(p);K!==null&&je(W,K.startTime-V)}}var L=!1,z=-1,N=5,Q=-1;function ne(){return R?!0:!(t.unstable_now()-Q<N)}function ce(){if(R=!1,L){var V=t.unstable_now();Q=V;var K=!0;try{e:{T=!1,M&&(M=!1,G(z),z=-1),S=!0;var ee=_;try{t:{for(k(V),v=s(m);v!==null&&!(v.expirationTime>V&&ne());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,_=v.priorityLevel;var $=fe(v.expirationTime<=V);if(V=t.unstable_now(),typeof $=="function"){v.callback=$,k(V),K=!0;break t}v===s(m)&&r(m),k(V)}else r(m);v=s(m)}if(v!==null)K=!0;else{var w=s(p);w!==null&&je(W,w.startTime-V),K=!1}}break e}finally{v=null,_=ee,S=!1}K=void 0}}finally{K?he():L=!1}}}var he;if(typeof q=="function")he=function(){q(ce)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Re=Fe.port2;Fe.port1.onmessage=ce,he=function(){Re.postMessage(null)}}else he=function(){D(ce,0)};function je(V,K){z=D(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(V){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var ee=_;_=K;try{return V()}finally{_=ee}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=_;_=V;try{return K()}finally{_=ee}},t.unstable_scheduleCallback=function(V,K,ee){var fe=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,V){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ee+$,V={id:g++,callback:K,priorityLevel:V,startTime:ee,expirationTime:$,sortIndex:-1},ee>fe?(V.sortIndex=ee,e(p,V),s(m)===null&&V===s(p)&&(M?(G(z),z=-1):M=!0,je(W,ee-fe))):(V.sortIndex=$,e(m,V),T||S||(T=!0,L||(L=!0,he()))),V},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(V){var K=_;return function(){var ee=_;_=K;try{return V.apply(this,arguments)}finally{_=ee}}}})(ih)),ih}var a_;function WE(){return a_||(a_=1,nh.exports=GE()),nh.exports}var sh={exports:{}},Ot={};var o_;function FE(){if(o_)return Ot;o_=1;var t=km();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ot.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(m,p,null,g)},Ot.flushSync=function(m){var p=u.T,g=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=g,r.d.f()}},Ot.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Ot.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ot.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:S}):g==="script"&&r.d.X(m,{crossOrigin:v,integrity:_,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ot.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Ot.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ot.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Ot.requestFormReset=function(m){r.d.r(m)},Ot.unstable_batchedUpdates=function(m,p){return m(p)},Ot.useFormState=function(m,p,g){return u.H.useFormState(m,p,g)},Ot.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ot.version="19.2.4",Ot}var l_;function YE(){if(l_)return sh.exports;l_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sh.exports=FE(),sh.exports}var c_;function QE(){if(c_)return ro;c_=1;var t=WE(),e=km(),s=YE();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(c(n)!==n)throw Error(r(188))}function p(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(r(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var y=!1,x=f.child;x;){if(x===a){y=!0,a=f,l=d;break}if(x===l){y=!0,l=f,a=d;break}x=x.sibling}if(!y){for(x=d.child;x;){if(x===a){y=!0,a=d,l=f;break}if(x===l){y=!0,l=d,a=f;break}x=x.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),q=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function he(n){return n===null||typeof n!="object"?null:(n=ce&&n[ce]||n["@@iterator"],typeof n=="function"?n:null)}var Fe=Symbol.for("react.client.reference");function Re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Fe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case D:return"Profiler";case R:return"StrictMode";case W:return"Suspense";case L:return"SuspenseList";case Q:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case T:return"Portal";case q:return n.displayName||"Context";case G:return(n._context.displayName||"Context")+".Consumer";case k:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return i=n.displayName||null,i!==null?i:Re(n.type)||"Memo";case N:i=n._payload,n=n._init;try{return Re(n(i))}catch{}}return null}var je=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},fe=[],$=-1;function w(n){return{current:n}}function O(n){0>$||(n.current=fe[$],fe[$]=null,$--)}function H(n,i){$++,fe[$]=n.current,n.current=i}var Z=w(null),J=w(null),ie=w(null),pe=w(null);function Ue(n,i){switch(H(ie,i),H(J,n),H(Z,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?T0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=T0(i),n=C0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}O(Z),H(Z,n)}function ye(){O(Z),O(J),O(ie)}function yi(n){n.memoizedState!==null&&H(pe,n);var i=Z.current,a=C0(i,n.type);i!==a&&(H(J,n),H(Z,a))}function Fn(n){J.current===n&&(O(Z),O(J)),pe.current===n&&(O(pe),eo._currentValue=ee)}var vi,Qs;function cn(n){if(vi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);vi=i&&i[1]||"",Qs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vi+n+Qs}var Lu=!1;function Bu(n,i){if(!n||Lu)return"";Lu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(U){var P=U}Reflect.construct(n,[],X)}else{try{X.call()}catch(U){P=U}n.call(X.prototype)}}else{try{throw Error()}catch(U){P=U}(X=n())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(U){if(U&&P&&typeof U.stack=="string")return[U.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],x=d[1];if(y&&x){var C=y.split(`
`),j=x.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===j.length)for(l=C.length-1,f=j.length-1;1<=l&&0<=f&&C[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==j[f]){var F=`
`+C[l].replace(" at new "," at ");return n.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",n.displayName)),F}while(1<=l&&0<=f);break}}}finally{Lu=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?cn(a):""}function vT(n,i){switch(n.tag){case 26:case 27:case 5:return cn(n.type);case 16:return cn("Lazy");case 13:return n.child!==i&&i!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return Bu(n.type,!1);case 11:return Bu(n.type.render,!1);case 1:return Bu(n.type,!0);case 31:return cn("Activity");default:return""}}function tg(n){try{var i="",a=null;do i+=vT(n,a),a=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ju=Object.prototype.hasOwnProperty,zu=t.unstable_scheduleCallback,Pu=t.unstable_cancelCallback,_T=t.unstable_shouldYield,bT=t.unstable_requestPaint,Xt=t.unstable_now,xT=t.unstable_getCurrentPriorityLevel,ng=t.unstable_ImmediatePriority,ig=t.unstable_UserBlockingPriority,il=t.unstable_NormalPriority,ST=t.unstable_LowPriority,sg=t.unstable_IdlePriority,wT=t.log,TT=t.unstable_setDisableYieldValue,da=null,Zt=null;function _i(n){if(typeof wT=="function"&&TT(n),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(da,n)}catch{}}var Jt=Math.clz32?Math.clz32:AT,CT=Math.log,ET=Math.LN2;function AT(n){return n>>>=0,n===0?32:31-(CT(n)/ET|0)|0}var sl=256,rl=262144,al=4194304;function ls(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ol(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?f=ls(l):(y&=x,y!==0?f=ls(y):a||(a=x&~n,a!==0&&(f=ls(a))))):(x=l&~d,x!==0?f=ls(x):y!==0?f=ls(y):a||(a=l&~n,a!==0&&(f=ls(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function ha(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function MT(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rg(){var n=al;return al<<=1,(al&62914560)===0&&(al=4194304),n}function Vu(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function ma(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function NT(n,i,a,l,f,d){var y=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var x=n.entanglements,C=n.expirationTimes,j=n.hiddenUpdates;for(a=y&~a;0<a;){var F=31-Jt(a),X=1<<F;x[F]=0,C[F]=-1;var P=j[F];if(P!==null)for(j[F]=null,F=0;F<P.length;F++){var U=P[F];U!==null&&(U.lane&=-536870913)}a&=~X}l!==0&&ag(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(y&~i))}function ag(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Jt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function og(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Jt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function lg(n,i){var a=i&-i;return a=(a&42)!==0?1:Uu(a),(a&(n.suspendedLanes|i))!==0?0:a}function Uu(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function qu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function cg(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:Q0(n.type))}function ug(n,i){var a=K.p;try{return K.p=n,i()}finally{K.p=a}}var bi=Math.random().toString(36).slice(2),Tt="__reactFiber$"+bi,Ut="__reactProps$"+bi,Ks="__reactContainer$"+bi,Hu="__reactEvents$"+bi,RT="__reactListeners$"+bi,IT="__reactHandles$"+bi,fg="__reactResources$"+bi,pa="__reactMarker$"+bi;function Gu(n){delete n[Tt],delete n[Ut],delete n[Hu],delete n[RT],delete n[IT]}function Xs(n){var i=n[Tt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Ks]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=D0(n);n!==null;){if(a=n[Tt])return a;n=D0(n)}return i}n=a,a=n.parentNode}return null}function Zs(n){if(n=n[Tt]||n[Ks]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function ga(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function Js(n){var i=n[fg];return i||(i=n[fg]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(n){n[pa]=!0}var dg=new Set,hg={};function cs(n,i){$s(n,i),$s(n+"Capture",i)}function $s(n,i){for(hg[n]=i,n=0;n<i.length;n++)dg.add(i[n])}var DT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mg={},pg={};function OT(n){return ju.call(pg,n)?!0:ju.call(mg,n)?!1:DT.test(n)?pg[n]=!0:(mg[n]=!0,!1)}function ll(n,i,a){if(OT(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function cl(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Yn(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function un(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gg(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kT(n,i,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Wu(n){if(!n._valueTracker){var i=gg(n)?"checked":"value";n._valueTracker=kT(n,i,""+n[i])}}function yg(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=gg(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function ul(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var LT=/[\n"\\]/g;function fn(n){return n.replace(LT,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fu(n,i,a,l,f,d,y,x){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),i!=null?y==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+un(i)):n.value!==""+un(i)&&(n.value=""+un(i)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),i!=null?Yu(n,y,un(i)):a!=null?Yu(n,y,un(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+un(x):n.removeAttribute("name")}function vg(n,i,a,l,f,d,y,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Wu(n);return}a=a!=null?""+un(a):"",i=i!=null?""+un(i):a,x||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=x?n.checked:!!l,n.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),Wu(n)}function Yu(n,i,a){i==="number"&&ul(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function er(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+un(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function _g(n,i,a){if(i!=null&&(i=""+un(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+un(a):""}function bg(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(je(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=un(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Wu(n)}function tr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var BT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xg(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||BT.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Sg(n,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&xg(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&xg(n,d,i[d])}function Qu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fl(n){return zT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Qn(){}var Ku=null;function Xu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var nr=null,ir=null;function wg(n){var i=Zs(n);if(i&&(n=i.stateNode)){var a=n[Ut]||null;e:switch(n=i.stateNode,i.type){case"input":if(Fu(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Ut]||null;if(!f)throw Error(r(90));Fu(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&yg(l)}break e;case"textarea":_g(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&er(n,!!a.multiple,i,!1)}}}var Zu=!1;function Tg(n,i,a){if(Zu)return n(i,a);Zu=!0;try{var l=n(i);return l}finally{if(Zu=!1,(nr!==null||ir!==null)&&(Jl(),nr&&(i=nr,n=ir,ir=nr=null,wg(i),n)))for(i=0;i<n.length;i++)wg(n[i])}}function ya(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ju=!1;if(Kn)try{var va={};Object.defineProperty(va,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{Ju=!1}var xi=null,$u=null,dl=null;function Cg(){if(dl)return dl;var n,i=$u,a=i.length,l,f="value"in xi?xi.value:xi.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var y=a-n;for(l=1;l<=y&&i[a-l]===f[d-l];l++);return dl=f.slice(n,1<l?1-l:void 0)}function hl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ml(){return!0}function Eg(){return!1}function qt(n){function i(a,l,f,d,y){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(a=n[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ml:Eg,this.isPropagationStopped=Eg,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),i}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=qt(us),_a=v({},us,{view:0,detail:0}),PT=qt(_a),ef,tf,ba,gl=v({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ba&&(ba&&n.type==="mousemove"?(ef=n.screenX-ba.screenX,tf=n.screenY-ba.screenY):tf=ef=0,ba=n),ef)},movementY:function(n){return"movementY"in n?n.movementY:tf}}),Ag=qt(gl),VT=v({},gl,{dataTransfer:0}),UT=qt(VT),qT=v({},_a,{relatedTarget:0}),nf=qt(qT),HT=v({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),GT=qt(HT),WT=v({},us,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),FT=qt(WT),YT=v({},us,{data:0}),Mg=qt(YT),QT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZT(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=XT[n])?!!i[n]:!1}function sf(){return ZT}var JT=v({},_a,{key:function(n){if(n.key){var i=QT[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=hl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?KT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sf,charCode:function(n){return n.type==="keypress"?hl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$T=qt(JT),eC=v({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ng=qt(eC),tC=v({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sf}),nC=qt(tC),iC=v({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),sC=qt(iC),rC=v({},gl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),aC=qt(rC),oC=v({},us,{newState:0,oldState:0}),lC=qt(oC),cC=[9,13,27,32],rf=Kn&&"CompositionEvent"in window,xa=null;Kn&&"documentMode"in document&&(xa=document.documentMode);var uC=Kn&&"TextEvent"in window&&!xa,Rg=Kn&&(!rf||xa&&8<xa&&11>=xa),Ig=" ",Dg=!1;function Og(n,i){switch(n){case"keyup":return cC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var sr=!1;function fC(n,i){switch(n){case"compositionend":return kg(i);case"keypress":return i.which!==32?null:(Dg=!0,Ig);case"textInput":return n=i.data,n===Ig&&Dg?null:n;default:return null}}function dC(n,i){if(sr)return n==="compositionend"||!rf&&Og(n,i)?(n=Cg(),dl=$u=xi=null,sr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Rg&&i.locale!=="ko"?null:i.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!hC[n.type]:i==="textarea"}function Bg(n,i,a,l){nr?ir?ir.push(l):ir=[l]:nr=l,i=rc(i,"onChange"),0<i.length&&(a=new pl("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Sa=null,wa=null;function mC(n){v0(n,0)}function yl(n){var i=ga(n);if(yg(i))return n}function jg(n,i){if(n==="change")return i}var zg=!1;if(Kn){var af;if(Kn){var of="oninput"in document;if(!of){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),of=typeof Pg.oninput=="function"}af=of}else af=!1;zg=af&&(!document.documentMode||9<document.documentMode)}function Vg(){Sa&&(Sa.detachEvent("onpropertychange",Ug),wa=Sa=null)}function Ug(n){if(n.propertyName==="value"&&yl(wa)){var i=[];Bg(i,wa,n,Xu(n)),Tg(mC,i)}}function pC(n,i,a){n==="focusin"?(Vg(),Sa=i,wa=a,Sa.attachEvent("onpropertychange",Ug)):n==="focusout"&&Vg()}function gC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yl(wa)}function yC(n,i){if(n==="click")return yl(i)}function vC(n,i){if(n==="input"||n==="change")return yl(i)}function _C(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var $t=typeof Object.is=="function"?Object.is:_C;function Ta(n,i){if($t(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ju.call(i,f)||!$t(n[f],i[f]))return!1}return!0}function qg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Hg(n,i){var a=qg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qg(a)}}function Gg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Gg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Wg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ul(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=ul(n.document)}return i}function lf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var bC=Kn&&"documentMode"in document&&11>=document.documentMode,rr=null,cf=null,Ca=null,uf=!1;function Fg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||rr==null||rr!==ul(l)||(l=rr,"selectionStart"in l&&lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ca&&Ta(Ca,l)||(Ca=l,l=rc(cf,"onSelect"),0<l.length&&(i=new pl("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=rr)))}function fs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var ar={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},ff={},Yg={};Kn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function ds(n){if(ff[n])return ff[n];if(!ar[n])return n;var i=ar[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Yg)return ff[n]=i[a];return n}var Qg=ds("animationend"),Kg=ds("animationiteration"),Xg=ds("animationstart"),xC=ds("transitionrun"),SC=ds("transitionstart"),wC=ds("transitioncancel"),Zg=ds("transitionend"),Jg=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function wn(n,i){Jg.set(n,i),cs(i,[n])}var vl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},dn=[],or=0,hf=0;function _l(){for(var n=or,i=hf=or=0;i<n;){var a=dn[i];dn[i++]=null;var l=dn[i];dn[i++]=null;var f=dn[i];dn[i++]=null;var d=dn[i];if(dn[i++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&$g(a,f,d)}}function bl(n,i,a,l){dn[or++]=n,dn[or++]=i,dn[or++]=a,dn[or++]=l,hf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function mf(n,i,a,l){return bl(n,i,a,l),xl(n)}function hs(n,i){return bl(n,null,null,i),xl(n)}function $g(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-Jt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function xl(n){if(50<Ya)throw Ya=0,wd=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var lr={};function TC(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(n,i,a,l){return new TC(n,i,a,l)}function pf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xn(n,i){var a=n.alternate;return a===null?(a=en(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ey(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Sl(n,i,a,l,f,d){var y=0;if(l=n,typeof n=="function")pf(n)&&(y=1);else if(typeof n=="string")y=NE(n,a,Z.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Q:return n=en(31,a,i,f),n.elementType=Q,n.lanes=d,n;case M:return ms(a.children,f,d,i);case R:y=8,f|=24;break;case D:return n=en(12,a,i,f|2),n.elementType=D,n.lanes=d,n;case W:return n=en(13,a,i,f),n.elementType=W,n.lanes=d,n;case L:return n=en(19,a,i,f),n.elementType=L,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:y=10;break e;case G:y=9;break e;case k:y=11;break e;case z:y=14;break e;case N:y=16,l=null;break e}y=29,a=Error(r(130,n===null?"null":typeof n,"")),l=null}return i=en(y,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function ms(n,i,a,l){return n=en(7,n,l,i),n.lanes=a,n}function gf(n,i,a){return n=en(6,n,null,i),n.lanes=a,n}function ty(n){var i=en(18,null,null,0);return i.stateNode=n,i}function yf(n,i,a){return i=en(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ny=new WeakMap;function hn(n,i){if(typeof n=="object"&&n!==null){var a=ny.get(n);return a!==void 0?a:(i={value:n,source:i,stack:tg(i)},ny.set(n,i),i)}return{value:n,source:i,stack:tg(i)}}var cr=[],ur=0,wl=null,Ea=0,mn=[],pn=0,Si=null,jn=1,zn="";function Zn(n,i){cr[ur++]=Ea,cr[ur++]=wl,wl=n,Ea=i}function iy(n,i,a){mn[pn++]=jn,mn[pn++]=zn,mn[pn++]=Si,Si=n;var l=jn;n=zn;var f=32-Jt(l)-1;l&=~(1<<f),a+=1;var d=32-Jt(i)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,jn=1<<32-Jt(i)+f|a<<f|l,zn=d+n}else jn=1<<d|a<<f|l,zn=n}function vf(n){n.return!==null&&(Zn(n,1),iy(n,1,0))}function _f(n){for(;n===wl;)wl=cr[--ur],cr[ur]=null,Ea=cr[--ur],cr[ur]=null;for(;n===Si;)Si=mn[--pn],mn[pn]=null,zn=mn[--pn],mn[pn]=null,jn=mn[--pn],mn[pn]=null}function sy(n,i){mn[pn++]=jn,mn[pn++]=zn,mn[pn++]=Si,jn=i.id,zn=i.overflow,Si=n}var Ct=null,Je=null,Ne=!1,wi=null,gn=!1,bf=Error(r(519));function Ti(n){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Aa(hn(i,n)),bf}function ry(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Tt]=n,i[Ut]=l,a){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(a=0;a<Ka.length;a++)Te(Ka[a],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),vg(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),bg(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||S0(i.textContent,a)?(l.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),l.onScroll!=null&&Te("scroll",i),l.onScrollEnd!=null&&Te("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Ti(n,!0)}function ay(n){for(Ct=n.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:gn=!1;return;case 27:case 3:gn=!0;return;default:Ct=Ct.return}}function fr(n){if(n!==Ct)return!1;if(!Ne)return ay(n),Ne=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||zd(n.type,n.memoizedProps)),a=!a),a&&Je&&Ti(n),ay(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Je=I0(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Je=I0(n)}else i===27?(i=Je,zi(n.type)?(n=Hd,Hd=null,Je=n):Je=i):Je=Ct?vn(n.stateNode.nextSibling):null;return!0}function ps(){Je=Ct=null,Ne=!1}function xf(){var n=wi;return n!==null&&(Ft===null?Ft=n:Ft.push.apply(Ft,n),wi=null),n}function Aa(n){wi===null?wi=[n]:wi.push(n)}var Sf=w(null),gs=null,Jn=null;function Ci(n,i,a){H(Sf,i._currentValue),i._currentValue=a}function $n(n){n._currentValue=Sf.current,O(Sf)}function wf(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Tf(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=f;for(var C=0;C<i.length;C++)if(x.context===i[C]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),wf(d.return,a,n),l||(y=null);break e}d=x.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),wf(y,a,n),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function dr(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var x=f.type;$t(f.pendingProps.value,y.value)||(n!==null?n.push(x):n=[x])}}else if(f===pe.current){if(y=f.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(eo):n=[eo])}f=f.return}n!==null&&Tf(i,n,a,l),i.flags|=262144}function Tl(n){for(n=n.firstContext;n!==null;){if(!$t(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ys(n){gs=n,Jn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Et(n){return oy(gs,n)}function Cl(n,i){return gs===null&&ys(n),oy(n,i)}function oy(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Jn===null){if(n===null)throw Error(r(308));Jn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Jn=Jn.next=i;return a}var CC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},EC=t.unstable_scheduleCallback,AC=t.unstable_NormalPriority,ut={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new CC,data:new Map,refCount:0}}function Ma(n){n.refCount--,n.refCount===0&&EC(AC,function(){n.controller.abort()})}var Na=null,Ef=0,hr=0,mr=null;function MC(n,i){if(Na===null){var a=Na=[];Ef=0,hr=Nd(),mr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ef++,i.then(ly,ly),i}function ly(){if(--Ef===0&&Na!==null){mr!==null&&(mr.status="fulfilled");var n=Na;Na=null,hr=0,mr=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function NC(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var cy=V.S;V.S=function(n,i){Fv=Xt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&MC(n,i),cy!==null&&cy(n,i)};var vs=w(null);function Af(){var n=vs.current;return n!==null?n:Ye.pooledCache}function El(n,i){i===null?H(vs,vs.current):H(vs,i.pool)}function uy(){var n=Af();return n===null?null:{parent:ut._currentValue,pool:n}}var pr=Error(r(460)),Mf=Error(r(474)),Al=Error(r(542)),Ml={then:function(){}};function fy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function dy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,my(n),n;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(n=Ye,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,my(n),n}throw bs=i,pr}}function _s(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(bs=a,pr):a}}var bs=null;function hy(){if(bs===null)throw Error(r(459));var n=bs;return bs=null,n}function my(n){if(n===pr||n===Al)throw Error(r(483))}var gr=null,Ra=0;function Nl(n){var i=Ra;return Ra+=1,gr===null&&(gr=[]),dy(gr,n,i)}function Ia(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Rl(n,i){throw i.$$typeof===_?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function py(n){function i(I,E){if(n){var B=I.deletions;B===null?(I.deletions=[E],I.flags|=16):B.push(E)}}function a(I,E){if(!n)return null;for(;E!==null;)i(I,E),E=E.sibling;return null}function l(I){for(var E=new Map;I!==null;)I.key!==null?E.set(I.key,I):E.set(I.index,I),I=I.sibling;return E}function f(I,E){return I=Xn(I,E),I.index=0,I.sibling=null,I}function d(I,E,B){return I.index=B,n?(B=I.alternate,B!==null?(B=B.index,B<E?(I.flags|=67108866,E):B):(I.flags|=67108866,E)):(I.flags|=1048576,E)}function y(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function x(I,E,B,Y){return E===null||E.tag!==6?(E=gf(B,I.mode,Y),E.return=I,E):(E=f(E,B),E.return=I,E)}function C(I,E,B,Y){var ue=B.type;return ue===M?F(I,E,B.props.children,Y,B.key):E!==null&&(E.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===N&&_s(ue)===E.type)?(E=f(E,B.props),Ia(E,B),E.return=I,E):(E=Sl(B.type,B.key,B.props,null,I.mode,Y),Ia(E,B),E.return=I,E)}function j(I,E,B,Y){return E===null||E.tag!==4||E.stateNode.containerInfo!==B.containerInfo||E.stateNode.implementation!==B.implementation?(E=yf(B,I.mode,Y),E.return=I,E):(E=f(E,B.children||[]),E.return=I,E)}function F(I,E,B,Y,ue){return E===null||E.tag!==7?(E=ms(B,I.mode,Y,ue),E.return=I,E):(E=f(E,B),E.return=I,E)}function X(I,E,B){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=gf(""+E,I.mode,B),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S:return B=Sl(E.type,E.key,E.props,null,I.mode,B),Ia(B,E),B.return=I,B;case T:return E=yf(E,I.mode,B),E.return=I,E;case N:return E=_s(E),X(I,E,B)}if(je(E)||he(E))return E=ms(E,I.mode,B,null),E.return=I,E;if(typeof E.then=="function")return X(I,Nl(E),B);if(E.$$typeof===q)return X(I,Cl(I,E),B);Rl(I,E)}return null}function P(I,E,B,Y){var ue=E!==null?E.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ue!==null?null:x(I,E,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===ue?C(I,E,B,Y):null;case T:return B.key===ue?j(I,E,B,Y):null;case N:return B=_s(B),P(I,E,B,Y)}if(je(B)||he(B))return ue!==null?null:F(I,E,B,Y,null);if(typeof B.then=="function")return P(I,E,Nl(B),Y);if(B.$$typeof===q)return P(I,E,Cl(I,B),Y);Rl(I,B)}return null}function U(I,E,B,Y,ue){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return I=I.get(B)||null,x(E,I,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return I=I.get(Y.key===null?B:Y.key)||null,C(E,I,Y,ue);case T:return I=I.get(Y.key===null?B:Y.key)||null,j(E,I,Y,ue);case N:return Y=_s(Y),U(I,E,B,Y,ue)}if(je(Y)||he(Y))return I=I.get(B)||null,F(E,I,Y,ue,null);if(typeof Y.then=="function")return U(I,E,B,Nl(Y),ue);if(Y.$$typeof===q)return U(I,E,B,Cl(E,Y),ue);Rl(E,Y)}return null}function se(I,E,B,Y){for(var ue=null,Oe=null,le=E,_e=E=0,Me=null;le!==null&&_e<B.length;_e++){le.index>_e?(Me=le,le=null):Me=le.sibling;var ke=P(I,le,B[_e],Y);if(ke===null){le===null&&(le=Me);break}n&&le&&ke.alternate===null&&i(I,le),E=d(ke,E,_e),Oe===null?ue=ke:Oe.sibling=ke,Oe=ke,le=Me}if(_e===B.length)return a(I,le),Ne&&Zn(I,_e),ue;if(le===null){for(;_e<B.length;_e++)le=X(I,B[_e],Y),le!==null&&(E=d(le,E,_e),Oe===null?ue=le:Oe.sibling=le,Oe=le);return Ne&&Zn(I,_e),ue}for(le=l(le);_e<B.length;_e++)Me=U(le,I,_e,B[_e],Y),Me!==null&&(n&&Me.alternate!==null&&le.delete(Me.key===null?_e:Me.key),E=d(Me,E,_e),Oe===null?ue=Me:Oe.sibling=Me,Oe=Me);return n&&le.forEach(function(Hi){return i(I,Hi)}),Ne&&Zn(I,_e),ue}function de(I,E,B,Y){if(B==null)throw Error(r(151));for(var ue=null,Oe=null,le=E,_e=E=0,Me=null,ke=B.next();le!==null&&!ke.done;_e++,ke=B.next()){le.index>_e?(Me=le,le=null):Me=le.sibling;var Hi=P(I,le,ke.value,Y);if(Hi===null){le===null&&(le=Me);break}n&&le&&Hi.alternate===null&&i(I,le),E=d(Hi,E,_e),Oe===null?ue=Hi:Oe.sibling=Hi,Oe=Hi,le=Me}if(ke.done)return a(I,le),Ne&&Zn(I,_e),ue;if(le===null){for(;!ke.done;_e++,ke=B.next())ke=X(I,ke.value,Y),ke!==null&&(E=d(ke,E,_e),Oe===null?ue=ke:Oe.sibling=ke,Oe=ke);return Ne&&Zn(I,_e),ue}for(le=l(le);!ke.done;_e++,ke=B.next())ke=U(le,I,_e,ke.value,Y),ke!==null&&(n&&ke.alternate!==null&&le.delete(ke.key===null?_e:ke.key),E=d(ke,E,_e),Oe===null?ue=ke:Oe.sibling=ke,Oe=ke);return n&&le.forEach(function(VE){return i(I,VE)}),Ne&&Zn(I,_e),ue}function Ge(I,E,B,Y){if(typeof B=="object"&&B!==null&&B.type===M&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var ue=B.key;E!==null;){if(E.key===ue){if(ue=B.type,ue===M){if(E.tag===7){a(I,E.sibling),Y=f(E,B.props.children),Y.return=I,I=Y;break e}}else if(E.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===N&&_s(ue)===E.type){a(I,E.sibling),Y=f(E,B.props),Ia(Y,B),Y.return=I,I=Y;break e}a(I,E);break}else i(I,E);E=E.sibling}B.type===M?(Y=ms(B.props.children,I.mode,Y,B.key),Y.return=I,I=Y):(Y=Sl(B.type,B.key,B.props,null,I.mode,Y),Ia(Y,B),Y.return=I,I=Y)}return y(I);case T:e:{for(ue=B.key;E!==null;){if(E.key===ue)if(E.tag===4&&E.stateNode.containerInfo===B.containerInfo&&E.stateNode.implementation===B.implementation){a(I,E.sibling),Y=f(E,B.children||[]),Y.return=I,I=Y;break e}else{a(I,E);break}else i(I,E);E=E.sibling}Y=yf(B,I.mode,Y),Y.return=I,I=Y}return y(I);case N:return B=_s(B),Ge(I,E,B,Y)}if(je(B))return se(I,E,B,Y);if(he(B)){if(ue=he(B),typeof ue!="function")throw Error(r(150));return B=ue.call(B),de(I,E,B,Y)}if(typeof B.then=="function")return Ge(I,E,Nl(B),Y);if(B.$$typeof===q)return Ge(I,E,Cl(I,B),Y);Rl(I,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,E!==null&&E.tag===6?(a(I,E.sibling),Y=f(E,B),Y.return=I,I=Y):(a(I,E),Y=gf(B,I.mode,Y),Y.return=I,I=Y),y(I)):a(I,E)}return function(I,E,B,Y){try{Ra=0;var ue=Ge(I,E,B,Y);return gr=null,ue}catch(le){if(le===pr||le===Al)throw le;var Oe=en(29,le,null,I.mode);return Oe.lanes=Y,Oe.return=I,Oe}}}var xs=py(!0),gy=py(!1),Ei=!1;function Nf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ai(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Mi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Be&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=xl(n),$g(n,null,a),i}return bl(n,l,i,a),xl(n)}function Da(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,og(n,a)}}function If(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Df=!1;function Oa(){if(Df){var n=mr;if(n!==null)throw n}}function ka(n,i,a,l){Df=!1;var f=n.updateQueue;Ei=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var C=x,j=C.next;C.next=null,y===null?d=j:y.next=j,y=C;var F=n.alternate;F!==null&&(F=F.updateQueue,x=F.lastBaseUpdate,x!==y&&(x===null?F.firstBaseUpdate=j:x.next=j,F.lastBaseUpdate=C))}if(d!==null){var X=f.baseState;y=0,F=j=C=null,x=d;do{var P=x.lane&-536870913,U=P!==x.lane;if(U?(Ae&P)===P:(l&P)===P){P!==0&&P===hr&&(Df=!0),F!==null&&(F=F.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var se=n,de=x;P=i;var Ge=a;switch(de.tag){case 1:if(se=de.payload,typeof se=="function"){X=se.call(Ge,X,P);break e}X=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=de.payload,P=typeof se=="function"?se.call(Ge,X,P):se,P==null)break e;X=v({},X,P);break e;case 2:Ei=!0}}P=x.callback,P!==null&&(n.flags|=64,U&&(n.flags|=8192),U=f.callbacks,U===null?f.callbacks=[P]:U.push(P))}else U={lane:P,tag:x.tag,payload:x.payload,callback:x.callback,next:null},F===null?(j=F=U,C=X):F=F.next=U,y|=P;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;U=x,x=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);F===null&&(C=X),f.baseState=C,f.firstBaseUpdate=j,f.lastBaseUpdate=F,d===null&&(f.shared.lanes=0),Oi|=y,n.lanes=y,n.memoizedState=X}}function yy(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function vy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)yy(a[n],i)}var yr=w(null),Il=w(0);function _y(n,i){n=li,H(Il,n),H(yr,i),li=n|i.baseLanes}function Of(){H(Il,li),H(yr,yr.current)}function kf(){li=Il.current,O(yr),O(Il)}var tn=w(null),yn=null;function Ni(n){var i=n.alternate;H(lt,lt.current&1),H(tn,n),yn===null&&(i===null||yr.current!==null||i.memoizedState!==null)&&(yn=n)}function Lf(n){H(lt,lt.current),H(tn,n),yn===null&&(yn=n)}function by(n){n.tag===22?(H(lt,lt.current),H(tn,n),yn===null&&(yn=n)):Ri()}function Ri(){H(lt,lt.current),H(tn,tn.current)}function nn(n){O(tn),yn===n&&(yn=null),O(lt)}var lt=w(0);function Dl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||qd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ei=0,ve=null,qe=null,ft=null,Ol=!1,vr=!1,Ss=!1,kl=0,La=0,_r=null,RC=0;function st(){throw Error(r(321))}function Bf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!$t(n[a],i[a]))return!1;return!0}function jf(n,i,a,l,f,d){return ei=d,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=n===null||n.memoizedState===null?iv:Jf,Ss=!1,d=a(l,f),Ss=!1,vr&&(d=Sy(i,a,l,f)),xy(n),d}function xy(n){V.H=za;var i=qe!==null&&qe.next!==null;if(ei=0,ft=qe=ve=null,Ol=!1,La=0,_r=null,i)throw Error(r(300));n===null||dt||(n=n.dependencies,n!==null&&Tl(n)&&(dt=!0))}function Sy(n,i,a,l){ve=n;var f=0;do{if(vr&&(_r=null),La=0,vr=!1,25<=f)throw Error(r(301));if(f+=1,ft=qe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}V.H=sv,d=i(a,l)}while(vr);return d}function IC(){var n=V.H,i=n.useState()[0];return i=typeof i.then=="function"?Ba(i):i,n=n.useState()[0],(qe!==null?qe.memoizedState:null)!==n&&(ve.flags|=1024),i}function zf(){var n=kl!==0;return kl=0,n}function Pf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Vf(n){if(Ol){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ol=!1}ei=0,ft=qe=ve=null,vr=!1,La=kl=0,_r=null}function Bt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?ve.memoizedState=ft=n:ft=ft.next=n,ft}function ct(){if(qe===null){var n=ve.alternate;n=n!==null?n.memoizedState:null}else n=qe.next;var i=ft===null?ve.memoizedState:ft.next;if(i!==null)ft=i,qe=n;else{if(n===null)throw ve.alternate===null?Error(r(467)):Error(r(310));qe=n,n={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ft===null?ve.memoizedState=ft=n:ft=ft.next=n}return ft}function Ll(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(n){var i=La;return La+=1,_r===null&&(_r=[]),n=dy(_r,n,i),i=ve,(ft===null?i.memoizedState:ft.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?iv:Jf),n}function Bl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ba(n);if(n.$$typeof===q)return Et(n)}throw Error(r(438,String(n)))}function Uf(n){var i=null,a=ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ll(),ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=ne;return i.index++,a}function ti(n,i){return typeof i=="function"?i(n):i}function jl(n){var i=ct();return qf(i,qe,n)}function qf(n,i,a){var l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var x=y=null,C=null,j=i,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Ae&X)===X:(ei&X)===X){var P=j.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===hr&&(F=!0);else if((ei&P)===P){j=j.next,P===hr&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(x=C=X,y=d):C=C.next=X,ve.lanes|=P,Oi|=P;X=j.action,Ss&&a(d,X),d=j.hasEagerState?j.eagerState:a(d,X)}else P={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(x=C=P,y=d):C=C.next=P,ve.lanes|=X,Oi|=X;j=j.next}while(j!==null&&j!==i);if(C===null?y=d:C.next=x,!$t(d,n.memoizedState)&&(dt=!0,F&&(a=mr,a!==null)))throw a;n.memoizedState=d,n.baseState=y,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Hf(n){var i=ct(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var y=f=f.next;do d=n(d,y.action),y=y.next;while(y!==f);$t(d,i.memoizedState)||(dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function wy(n,i,a){var l=ve,f=ct(),d=Ne;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!$t((qe||f).memoizedState,a);if(y&&(f.memoizedState=a,dt=!0),f=f.queue,Ff(Ey.bind(null,l,f,n),[n]),f.getSnapshot!==i||y||ft!==null&&ft.memoizedState.tag&1){if(l.flags|=2048,br(9,{destroy:void 0},Cy.bind(null,l,f,a,i),null),Ye===null)throw Error(r(349));d||(ei&127)!==0||Ty(l,i,a)}return a}function Ty(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=ve.updateQueue,i===null?(i=Ll(),ve.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Cy(n,i,a,l){i.value=a,i.getSnapshot=l,Ay(i)&&My(n)}function Ey(n,i,a){return a(function(){Ay(i)&&My(n)})}function Ay(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!$t(n,a)}catch{return!0}}function My(n){var i=hs(n,2);i!==null&&Yt(i,n,2)}function Gf(n){var i=Bt();if(typeof n=="function"){var a=n;if(n=a(),Ss){_i(!0);try{a()}finally{_i(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:n},i}function Ny(n,i,a,l){return n.baseState=a,qf(n,qe,typeof l=="function"?l:ti)}function DC(n,i,a,l,f){if(Vl(n))throw Error(r(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};V.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ry(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ry(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=V.T,y={};V.T=y;try{var x=a(f,l),C=V.S;C!==null&&C(y,x),Iy(n,i,x)}catch(j){Wf(n,i,j)}finally{d!==null&&y.types!==null&&(d.types=y.types),V.T=d}}else try{d=a(f,l),Iy(n,i,d)}catch(j){Wf(n,i,j)}}function Iy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dy(n,i,l)},function(l){return Wf(n,i,l)}):Dy(n,i,a)}function Dy(n,i,a){i.status="fulfilled",i.value=a,Oy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Ry(n,a)))}function Wf(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Oy(i),i=i.next;while(i!==l)}n.action=null}function Oy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ky(n,i){return i}function Ly(n,i){if(Ne){var a=Ye.formState;if(a!==null){e:{var l=ve;if(Ne){if(Je){t:{for(var f=Je,d=gn;f.nodeType!==8;){if(!d){f=null;break t}if(f=vn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Je=vn(f.nextSibling),l=f.data==="F!";break e}}Ti(l)}l=!1}l&&(i=a[0])}}return a=Bt(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ky,lastRenderedState:i},a.queue=l,a=ev.bind(null,ve,l),l.dispatch=a,l=Gf(!1),d=Zf.bind(null,ve,!1,l.queue),l=Bt(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=DC.bind(null,ve,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function By(n){var i=ct();return jy(i,qe,n)}function jy(n,i,a){if(i=qf(n,i,ky)[0],n=jl(ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ba(i)}catch(y){throw y===pr?Al:y}else l=i;i=ct();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(ve.flags|=2048,br(9,{destroy:void 0},OC.bind(null,f,a),null)),[l,d,n]}function OC(n,i){n.action=i}function zy(n){var i=ct(),a=qe;if(a!==null)return jy(i,a,n);ct(),i=i.memoizedState,a=ct();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function br(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=ve.updateQueue,i===null&&(i=Ll(),ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Py(){return ct().memoizedState}function zl(n,i,a,l){var f=Bt();ve.flags|=n,f.memoizedState=br(1|i,{destroy:void 0},a,l===void 0?null:l)}function Pl(n,i,a,l){var f=ct();l=l===void 0?null:l;var d=f.memoizedState.inst;qe!==null&&l!==null&&Bf(l,qe.memoizedState.deps)?f.memoizedState=br(i,d,a,l):(ve.flags|=n,f.memoizedState=br(1|i,d,a,l))}function Vy(n,i){zl(8390656,8,n,i)}function Ff(n,i){Pl(2048,8,n,i)}function kC(n){ve.flags|=4;var i=ve.updateQueue;if(i===null)i=Ll(),ve.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function Uy(n){var i=ct().memoizedState;return kC({ref:i,nextImpl:n}),function(){if((Be&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function qy(n,i){return Pl(4,2,n,i)}function Hy(n,i){return Pl(4,4,n,i)}function Gy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Wy(n,i,a){a=a!=null?a.concat([n]):null,Pl(4,4,Gy.bind(null,i,n),a)}function Yf(){}function Fy(n,i){var a=ct();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Yy(n,i){var a=ct();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=n(),Ss){_i(!0);try{n()}finally{_i(!1)}}return a.memoizedState=[l,i],l}function Qf(n,i,a){return a===void 0||(ei&1073741824)!==0&&(Ae&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=Qv(),ve.lanes|=n,Oi|=n,a)}function Qy(n,i,a,l){return $t(a,i)?a:yr.current!==null?(n=Qf(n,a,l),$t(n,i)||(dt=!0),n):(ei&42)===0||(ei&1073741824)!==0&&(Ae&261930)===0?(dt=!0,n.memoizedState=a):(n=Qv(),ve.lanes|=n,Oi|=n,i)}function Ky(n,i,a,l,f){var d=K.p;K.p=d!==0&&8>d?d:8;var y=V.T,x={};V.T=x,Zf(n,!1,i,a);try{var C=f(),j=V.S;if(j!==null&&j(x,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=NC(C,l);ja(n,i,F,an(n))}else ja(n,i,l,an(n))}catch(X){ja(n,i,{then:function(){},status:"rejected",reason:X},an())}finally{K.p=d,y!==null&&x.types!==null&&(y.types=x.types),V.T=y}}function LC(){}function Kf(n,i,a,l){if(n.tag!==5)throw Error(r(476));var f=Xy(n).queue;Ky(n,f,i,ee,a===null?LC:function(){return Zy(n),a(l)})}function Xy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ee},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Zy(n){var i=Xy(n);i.next===null&&(i=n.alternate.memoizedState),ja(n,i.next.queue,{},an())}function Xf(){return Et(eo)}function Jy(){return ct().memoizedState}function $y(){return ct().memoizedState}function BC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=an();n=Ai(a);var l=Mi(i,n,a);l!==null&&(Yt(l,i,a),Da(l,i,a)),i={cache:Cf()},n.payload=i;return}i=i.return}}function jC(n,i,a){var l=an();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vl(n)?tv(i,a):(a=mf(n,i,a,l),a!==null&&(Yt(a,n,l),nv(a,i,l)))}function ev(n,i,a){var l=an();ja(n,i,a,l)}function ja(n,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vl(n))tv(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,x=d(y,a);if(f.hasEagerState=!0,f.eagerState=x,$t(x,y))return bl(n,i,f,0),Ye===null&&_l(),!1}catch{}if(a=mf(n,i,f,l),a!==null)return Yt(a,n,l),nv(a,i,l),!0}return!1}function Zf(n,i,a,l){if(l={lane:2,revertLane:Nd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vl(n)){if(i)throw Error(r(479))}else i=mf(n,a,l,2),i!==null&&Yt(i,n,2)}function Vl(n){var i=n.alternate;return n===ve||i!==null&&i===ve}function tv(n,i){vr=Ol=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function nv(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,og(n,a)}}var za={readContext:Et,use:Bl,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};za.useEffectEvent=st;var iv={readContext:Et,use:Bl,useCallback:function(n,i){return Bt().memoizedState=[n,i===void 0?null:i],n},useContext:Et,useEffect:Vy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,zl(4194308,4,Gy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return zl(4194308,4,n,i)},useInsertionEffect:function(n,i){zl(4,2,n,i)},useMemo:function(n,i){var a=Bt();i=i===void 0?null:i;var l=n();if(Ss){_i(!0);try{n()}finally{_i(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=Bt();if(a!==void 0){var f=a(i);if(Ss){_i(!0);try{a(i)}finally{_i(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=jC.bind(null,ve,n),[l.memoizedState,n]},useRef:function(n){var i=Bt();return n={current:n},i.memoizedState=n},useState:function(n){n=Gf(n);var i=n.queue,a=ev.bind(null,ve,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Yf,useDeferredValue:function(n,i){var a=Bt();return Qf(a,n,i)},useTransition:function(){var n=Gf(!1);return n=Ky.bind(null,ve,n.queue,!0,!1),Bt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=ve,f=Bt();if(Ne){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Ye===null)throw Error(r(349));(Ae&127)!==0||Ty(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Vy(Ey.bind(null,l,d,n),[n]),l.flags|=2048,br(9,{destroy:void 0},Cy.bind(null,l,d,a,i),null),a},useId:function(){var n=Bt(),i=Ye.identifierPrefix;if(Ne){var a=zn,l=jn;a=(l&~(1<<32-Jt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=kl++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=RC++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Xf,useFormState:Ly,useActionState:Ly,useOptimistic:function(n){var i=Bt();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Zf.bind(null,ve,!0,a),a.dispatch=i,[n,i]},useMemoCache:Uf,useCacheRefresh:function(){return Bt().memoizedState=BC.bind(null,ve)},useEffectEvent:function(n){var i=Bt(),a={impl:n};return i.memoizedState=a,function(){if((Be&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Jf={readContext:Et,use:Bl,useCallback:Fy,useContext:Et,useEffect:Ff,useImperativeHandle:Wy,useInsertionEffect:qy,useLayoutEffect:Hy,useMemo:Yy,useReducer:jl,useRef:Py,useState:function(){return jl(ti)},useDebugValue:Yf,useDeferredValue:function(n,i){var a=ct();return Qy(a,qe.memoizedState,n,i)},useTransition:function(){var n=jl(ti)[0],i=ct().memoizedState;return[typeof n=="boolean"?n:Ba(n),i]},useSyncExternalStore:wy,useId:Jy,useHostTransitionStatus:Xf,useFormState:By,useActionState:By,useOptimistic:function(n,i){var a=ct();return Ny(a,qe,n,i)},useMemoCache:Uf,useCacheRefresh:$y};Jf.useEffectEvent=Uy;var sv={readContext:Et,use:Bl,useCallback:Fy,useContext:Et,useEffect:Ff,useImperativeHandle:Wy,useInsertionEffect:qy,useLayoutEffect:Hy,useMemo:Yy,useReducer:Hf,useRef:Py,useState:function(){return Hf(ti)},useDebugValue:Yf,useDeferredValue:function(n,i){var a=ct();return qe===null?Qf(a,n,i):Qy(a,qe.memoizedState,n,i)},useTransition:function(){var n=Hf(ti)[0],i=ct().memoizedState;return[typeof n=="boolean"?n:Ba(n),i]},useSyncExternalStore:wy,useId:Jy,useHostTransitionStatus:Xf,useFormState:zy,useActionState:zy,useOptimistic:function(n,i){var a=ct();return qe!==null?Ny(a,qe,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:$y};sv.useEffectEvent=Uy;function $f(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ed={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=an(),f=Ai(l);f.payload=i,a!=null&&(f.callback=a),i=Mi(n,f,l),i!==null&&(Yt(i,n,l),Da(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=an(),f=Ai(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Mi(n,f,l),i!==null&&(Yt(i,n,l),Da(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=an(),l=Ai(a);l.tag=2,i!=null&&(l.callback=i),i=Mi(n,l,a),i!==null&&(Yt(i,n,a),Da(i,n,a))}};function rv(n,i,a,l,f,d,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!Ta(a,l)||!Ta(f,d):!0}function av(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&ed.enqueueReplaceState(i,i.state,null)}function ws(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function ov(n){vl(n)}function lv(n){console.error(n)}function cv(n){vl(n)}function Ul(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function uv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function td(n,i,a){return a=Ai(a),a.tag=3,a.payload={element:null},a.callback=function(){Ul(n,i)},a}function fv(n){return n=Ai(n),n.tag=3,n}function dv(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){uv(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){uv(i,a,l),typeof f!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function zC(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&dr(i,a,f,!0),a=tn.current,a!==null){switch(a.tag){case 31:case 13:return yn===null?$l():a.alternate===null&&rt===0&&(rt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ml?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ed(n,l,f)),!1;case 22:return a.flags|=65536,l===Ml?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ed(n,l,f)),!1}throw Error(r(435,a.tag))}return Ed(n,l,f),$l(),!1}if(Ne)return i=tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==bf&&(n=Error(r(422),{cause:l}),Aa(hn(n,a)))):(l!==bf&&(i=Error(r(423),{cause:l}),Aa(hn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=hn(l,a),f=td(n.stateNode,l,f),If(n,f),rt!==4&&(rt=2)),!1;var d=Error(r(520),{cause:l});if(d=hn(d,a),Fa===null?Fa=[d]:Fa.push(d),rt!==4&&(rt=2),i===null)return!0;l=hn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=td(a.stateNode,l,n),If(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ki===null||!ki.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=fv(f),dv(f,n,a,l),If(a,f),!1}a=a.return}while(a!==null);return!1}var nd=Error(r(461)),dt=!1;function At(n,i,a,l){i.child=n===null?gy(i,null,a,l):xs(i,n.child,a,l)}function hv(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var y={};for(var x in l)x!=="ref"&&(y[x]=l[x])}else y=l;return ys(i),l=jf(n,i,a,y,d,f),x=zf(),n!==null&&!dt?(Pf(n,i,f),ni(n,i,f)):(Ne&&x&&vf(i),i.flags|=1,At(n,i,l,f),i.child)}function mv(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!pf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,pv(n,i,d,l,f)):(n=Sl(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!ud(n,f)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ta,a(y,l)&&n.ref===i.ref)return ni(n,i,f)}return i.flags|=1,n=Xn(d,l),n.ref=i.ref,n.return=i,i.child=n}function pv(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(Ta(d,l)&&n.ref===i.ref)if(dt=!1,i.pendingProps=l=d,ud(n,f))(n.flags&131072)!==0&&(dt=!0);else return i.lanes=n.lanes,ni(n,i,f)}return id(n,i,a,l,f)}function gv(n,i,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=i.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return yv(n,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&El(i,d!==null?d.cachePool:null),d!==null?_y(i,d):Of(),by(i);else return l=i.lanes=536870912,yv(n,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(El(i,d.cachePool),_y(i,d),Ri(),i.memoizedState=null):(n!==null&&El(i,null),Of(),Ri());return At(n,i,f,a),i.child}function Pa(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function yv(n,i,a,l,f){var d=Af();return d=d===null?null:{parent:ut._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&El(i,null),Of(),by(i),n!==null&&dr(n,i,l,!0),i.childLanes=f,null}function ql(n,i){return i=Gl({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function vv(n,i,a){return xs(i,n.child,null,a),n=ql(i,i.pendingProps),n.flags|=2,nn(i),i.memoizedState=null,n}function PC(n,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Ne){if(l.mode==="hidden")return n=ql(i,l),i.lanes=536870912,Pa(null,n);if(Lf(i),(n=Je)?(n=R0(n,gn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Si!==null?{id:jn,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},a=ty(n),a.return=i,i.child=a,Ct=i,Je=null)):n=null,n===null)throw Ti(i);return i.lanes=536870912,null}return ql(i,l)}var d=n.memoizedState;if(d!==null){var y=d.dehydrated;if(Lf(i),f)if(i.flags&256)i.flags&=-257,i=vv(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(r(558));else if(dt||dr(n,i,a,!1),f=(a&n.childLanes)!==0,dt||f){if(l=Ye,l!==null&&(y=lg(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,hs(n,y),Yt(l,n,y),nd;$l(),i=vv(n,i,a)}else n=d.treeContext,Je=vn(y.nextSibling),Ct=i,Ne=!0,wi=null,gn=!1,n!==null&&sy(i,n),i=ql(i,l),i.flags|=4096;return i}return n=Xn(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Hl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function id(n,i,a,l,f){return ys(i),a=jf(n,i,a,l,void 0,f),l=zf(),n!==null&&!dt?(Pf(n,i,f),ni(n,i,f)):(Ne&&l&&vf(i),i.flags|=1,At(n,i,a,f),i.child)}function _v(n,i,a,l,f,d){return ys(i),i.updateQueue=null,a=Sy(i,l,a,f),xy(n),l=zf(),n!==null&&!dt?(Pf(n,i,d),ni(n,i,d)):(Ne&&l&&vf(i),i.flags|=1,At(n,i,a,d),i.child)}function bv(n,i,a,l,f){if(ys(i),i.stateNode===null){var d=lr,y=a.contextType;typeof y=="object"&&y!==null&&(d=Et(y)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ed,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Nf(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?Et(y):lr,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&($f(i,a,y,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&ed.enqueueReplaceState(d,d.state,null),ka(i,l,d,f),Oa(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var x=i.memoizedProps,C=ws(a,x);d.props=C;var j=d.context,F=a.contextType;y=lr,typeof F=="object"&&F!==null&&(y=Et(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||j!==y)&&av(i,d,l,y),Ei=!1;var P=i.memoizedState;d.state=P,ka(i,l,d,f),Oa(),j=i.memoizedState,x||P!==j||Ei?(typeof X=="function"&&($f(i,a,X,l),j=i.memoizedState),(C=Ei||rv(i,a,C,l,P,j,y))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=y,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(n,i),y=i.memoizedProps,F=ws(a,y),d.props=F,X=i.pendingProps,P=d.context,j=a.contextType,C=lr,typeof j=="object"&&j!==null&&(C=Et(j)),x=a.getDerivedStateFromProps,(j=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==X||P!==C)&&av(i,d,l,C),Ei=!1,P=i.memoizedState,d.state=P,ka(i,l,d,f),Oa();var U=i.memoizedState;y!==X||P!==U||Ei||n!==null&&n.dependencies!==null&&Tl(n.dependencies)?(typeof x=="function"&&($f(i,a,x,l),U=i.memoizedState),(F=Ei||rv(i,a,F,l,P,U,C)||n!==null&&n.dependencies!==null&&Tl(n.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,U,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,U,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&P===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&P===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=C,l=F):(typeof d.componentDidUpdate!="function"||y===n.memoizedProps&&P===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&P===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Hl(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=xs(i,n.child,null,f),i.child=xs(i,null,a,f)):At(n,i,a,f),i.memoizedState=d.state,n=i.child):n=ni(n,i,f),n}function xv(n,i,a,l){return ps(),i.flags|=256,At(n,i,a,l),i.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(n){return{baseLanes:n,cachePool:uy()}}function ad(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=rn),n}function Sv(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=n!==null&&n.memoizedState===null?!1:(lt.current&2)!==0),y&&(f=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ne){if(f?Ni(i):Ri(),(n=Je)?(n=R0(n,gn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Si!==null?{id:jn,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},a=ty(n),a.return=i,i.child=a,Ct=i,Je=null)):n=null,n===null)throw Ti(i);return qd(n)?i.lanes=32:i.lanes=536870912,null}var x=l.children;return l=l.fallback,f?(Ri(),f=i.mode,x=Gl({mode:"hidden",children:x},f),l=ms(l,f,a,null),x.return=i,l.return=i,x.sibling=l,i.child=x,l=i.child,l.memoizedState=rd(a),l.childLanes=ad(n,y,a),i.memoizedState=sd,Pa(null,l)):(Ni(i),od(i,x))}var C=n.memoizedState;if(C!==null&&(x=C.dehydrated,x!==null)){if(d)i.flags&256?(Ni(i),i.flags&=-257,i=ld(n,i,a)):i.memoizedState!==null?(Ri(),i.child=n.child,i.flags|=128,i=null):(Ri(),x=l.fallback,f=i.mode,l=Gl({mode:"visible",children:l.children},f),x=ms(x,f,a,null),x.flags|=2,l.return=i,x.return=i,l.sibling=x,i.child=l,xs(i,n.child,null,a),l=i.child,l.memoizedState=rd(a),l.childLanes=ad(n,y,a),i.memoizedState=sd,i=Pa(null,l));else if(Ni(i),qd(x)){if(y=x.nextSibling&&x.nextSibling.dataset,y)var j=y.dgst;y=j,l=Error(r(419)),l.stack="",l.digest=y,Aa({value:l,source:null,stack:null}),i=ld(n,i,a)}else if(dt||dr(n,i,a,!1),y=(a&n.childLanes)!==0,dt||y){if(y=Ye,y!==null&&(l=lg(y,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,hs(n,l),Yt(y,n,l),nd;Ud(x)||$l(),i=ld(n,i,a)}else Ud(x)?(i.flags|=192,i.child=n.child,i=null):(n=C.treeContext,Je=vn(x.nextSibling),Ct=i,Ne=!0,wi=null,gn=!1,n!==null&&sy(i,n),i=od(i,l.children),i.flags|=4096);return i}return f?(Ri(),x=l.fallback,f=i.mode,C=n.child,j=C.sibling,l=Xn(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?x=Xn(j,x):(x=ms(x,f,a,null),x.flags|=2),x.return=i,l.return=i,l.sibling=x,i.child=l,Pa(null,l),l=i.child,x=n.child.memoizedState,x===null?x=rd(a):(f=x.cachePool,f!==null?(C=ut._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=uy(),x={baseLanes:x.baseLanes|a,cachePool:f}),l.memoizedState=x,l.childLanes=ad(n,y,a),i.memoizedState=sd,Pa(n.child,l)):(Ni(i),a=n.child,n=a.sibling,a=Xn(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(y=i.deletions,y===null?(i.deletions=[n],i.flags|=16):y.push(n)),i.child=a,i.memoizedState=null,a)}function od(n,i){return i=Gl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Gl(n,i){return n=en(22,n,null,i),n.lanes=0,n}function ld(n,i,a){return xs(i,n.child,null,a),n=od(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function wv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),wf(n.return,i,a)}function cd(n,i,a,l,f,d){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f,y.treeForkCount=d)}function Tv(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=lt.current,x=(y&2)!==0;if(x?(y=y&1|2,i.flags|=128):y&=1,H(lt,y),At(n,i,l,a),l=Ne?Ea:0,!x&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wv(n,a,i);else if(n.tag===19)wv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Dl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),cd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Dl(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}cd(i,!0,a,null,d,l);break;case"together":cd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ni(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Oi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(dr(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,a=Xn(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Xn(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function ud(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Tl(n)))}function VC(n,i,a){switch(i.tag){case 3:Ue(i,i.stateNode.containerInfo),Ci(i,ut,n.memoizedState.cache),ps();break;case 27:case 5:yi(i);break;case 4:Ue(i,i.stateNode.containerInfo);break;case 10:Ci(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Lf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ni(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Sv(n,i,a):(Ni(i),n=ni(n,i,a),n!==null?n.sibling:null);Ni(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(dr(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Tv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),H(lt,lt.current),l)break;return null;case 22:return i.lanes=0,gv(n,i,a,i.pendingProps);case 24:Ci(i,ut,n.memoizedState.cache)}return ni(n,i,a)}function Cv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)dt=!0;else{if(!ud(n,a)&&(i.flags&128)===0)return dt=!1,VC(n,i,a);dt=(n.flags&131072)!==0}else dt=!1,Ne&&(i.flags&1048576)!==0&&iy(i,Ea,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(n=_s(i.elementType),i.type=n,typeof n=="function")pf(n)?(l=ws(n,l),i.tag=1,i=bv(null,i,n,l,a)):(i.tag=0,i=id(null,i,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===k){i.tag=11,i=hv(null,i,n,l,a);break e}else if(f===z){i.tag=14,i=mv(null,i,n,l,a);break e}}throw i=Re(n)||n,Error(r(306,i,""))}}return i;case 0:return id(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ws(l,i.pendingProps),bv(n,i,l,f,a);case 3:e:{if(Ue(i,i.stateNode.containerInfo),n===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Rf(n,i),ka(i,l,null,a);var y=i.memoizedState;if(l=y.cache,Ci(i,ut,l),l!==d.cache&&Tf(i,[ut],a,!0),Oa(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=xv(n,i,l,a);break e}else if(l!==f){f=hn(Error(r(424)),i),Aa(f),i=xv(n,i,l,a);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Je=vn(n.firstChild),Ct=i,Ne=!0,wi=null,gn=!0,a=gy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ps(),l===f){i=ni(n,i,a);break e}At(n,i,l,a)}i=i.child}return i;case 26:return Hl(n,i),n===null?(a=B0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ne||(a=i.type,n=i.pendingProps,l=ac(ie.current).createElement(a),l[Tt]=i,l[Ut]=n,Mt(l,a,n),bt(l),i.stateNode=l):i.memoizedState=B0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return yi(i),n===null&&Ne&&(l=i.stateNode=O0(i.type,i.pendingProps,ie.current),Ct=i,gn=!0,f=Je,zi(i.type)?(Hd=f,Je=vn(l.firstChild)):Je=f),At(n,i,i.pendingProps.children,a),Hl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ne&&((f=l=Je)&&(l=gE(l,i.type,i.pendingProps,gn),l!==null?(i.stateNode=l,Ct=i,Je=vn(l.firstChild),gn=!1,f=!0):f=!1),f||Ti(i)),yi(i),f=i.type,d=i.pendingProps,y=n!==null?n.memoizedProps:null,l=d.children,zd(f,d)?l=null:y!==null&&zd(f,y)&&(i.flags|=32),i.memoizedState!==null&&(f=jf(n,i,IC,null,null,a),eo._currentValue=f),Hl(n,i),At(n,i,l,a),i.child;case 6:return n===null&&Ne&&((n=a=Je)&&(a=yE(a,i.pendingProps,gn),a!==null?(i.stateNode=a,Ct=i,Je=null,n=!0):n=!1),n||Ti(i)),null;case 13:return Sv(n,i,a);case 4:return Ue(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=xs(i,null,l,a):At(n,i,l,a),i.child;case 11:return hv(n,i,i.type,i.pendingProps,a);case 7:return At(n,i,i.pendingProps,a),i.child;case 8:return At(n,i,i.pendingProps.children,a),i.child;case 12:return At(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ci(i,i.type,l.value),At(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ys(i),f=Et(f),l=l(f),i.flags|=1,At(n,i,l,a),i.child;case 14:return mv(n,i,i.type,i.pendingProps,a);case 15:return pv(n,i,i.type,i.pendingProps,a);case 19:return Tv(n,i,a);case 31:return PC(n,i,a);case 22:return gv(n,i,a,i.pendingProps);case 24:return ys(i),l=Et(ut),n===null?(f=Af(),f===null&&(f=Ye,d=Cf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Nf(i),Ci(i,ut,f)):((n.lanes&a)!==0&&(Rf(n,i),ka(i,null,null,a),Oa()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ci(i,ut,l)):(l=d.cache,Ci(i,ut,l),l!==f.cache&&Tf(i,[ut],a,!0))),At(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ii(n){n.flags|=4}function fd(n,i,a,l,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Jv())n.flags|=8192;else throw bs=Ml,Mf}else n.flags&=-16777217}function Ev(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!U0(i))if(Jv())n.flags|=8192;else throw bs=Ml,Mf}function Wl(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?rg():536870912,n.lanes|=i,Tr|=i)}function Va(n,i){if(!Ne)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function $e(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function UC(n,i,a){var l=i.pendingProps;switch(_f(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(i),null;case 1:return $e(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$n(ut),ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fr(i)?ii(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xf())),$e(i),null;case 26:var f=i.type,d=i.memoizedState;return n===null?(ii(i),d!==null?($e(i),Ev(i,d)):($e(i),fd(i,f,null,l,a))):d?d!==n.memoizedState?(ii(i),$e(i),Ev(i,d)):($e(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&ii(i),$e(i),fd(i,f,n,l,a)),null;case 27:if(Fn(i),a=ie.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ii(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return $e(i),null}n=Z.current,fr(i)?ry(i):(n=O0(f,l,a),i.stateNode=n,ii(i))}return $e(i),null;case 5:if(Fn(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ii(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return $e(i),null}if(d=Z.current,fr(i))ry(i);else{var y=ac(ie.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[Tt]=i,d[Ut]=l;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;e:switch(Mt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ii(i)}}return $e(i),fd(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&ii(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(n=ie.current,fr(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=Ct,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Tt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||S0(n.nodeValue,a)),n||Ti(i,!0)}else n=ac(n).createTextNode(l),n[Tt]=i,i.stateNode=n}return $e(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(l=fr(i),a!==null){if(n===null){if(!l)throw Error(r(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Tt]=i}else ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$e(i),n=!1}else a=xf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(nn(i),i):(nn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return $e(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=fr(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Tt]=i}else ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$e(i),f=!1}else f=xf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(nn(i),i):(nn(i),null)}return nn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),Wl(i,i.updateQueue),$e(i),null);case 4:return ye(),n===null&&Od(i.stateNode.containerInfo),$e(i),null;case 10:return $n(i.type),$e(i),null;case 19:if(O(lt),l=i.memoizedState,l===null)return $e(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Va(l,!1);else{if(rt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Dl(n),d!==null){for(i.flags|=128,Va(l,!1),n=d.updateQueue,i.updateQueue=n,Wl(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)ey(a,n),a=a.sibling;return H(lt,lt.current&1|2),Ne&&Zn(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&Xt()>Xl&&(i.flags|=128,f=!0,Va(l,!1),i.lanes=4194304)}else{if(!f)if(n=Dl(d),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Wl(i,n),Va(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ne)return $e(i),null}else 2*Xt()-l.renderingStartTime>Xl&&a!==536870912&&(i.flags|=128,f=!0,Va(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(n=l.last,n!==null?n.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Xt(),n.sibling=null,a=lt.current,H(lt,f?a&1|2:a&1),Ne&&Zn(i,l.treeForkCount),n):($e(i),null);case 22:case 23:return nn(i),kf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&($e(i),i.subtreeFlags&6&&(i.flags|=8192)):$e(i),a=i.updateQueue,a!==null&&Wl(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&O(vs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$n(ut),$e(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function qC(n,i){switch(_f(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return $n(ut),ye(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Fn(i),null;case 31:if(i.memoizedState!==null){if(nn(i),i.alternate===null)throw Error(r(340));ps()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(nn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ps()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return O(lt),null;case 4:return ye(),null;case 10:return $n(i.type),null;case 22:case 23:return nn(i),kf(),n!==null&&O(vs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return $n(ut),null;case 25:return null;default:return null}}function Av(n,i){switch(_f(i),i.tag){case 3:$n(ut),ye();break;case 26:case 27:case 5:Fn(i);break;case 4:ye();break;case 31:i.memoizedState!==null&&nn(i);break;case 13:nn(i);break;case 19:O(lt);break;case 10:$n(i.type);break;case 22:case 23:nn(i),kf(),n!==null&&O(vs);break;case 24:$n(ut)}}function Ua(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==f)}}catch(x){Ve(i,i.return,x)}}function Ii(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var y=l.inst,x=y.destroy;if(x!==void 0){y.destroy=void 0,f=i;var C=a,j=x;try{j()}catch(F){Ve(f,C,F)}}}l=l.next}while(l!==d)}}catch(F){Ve(i,i.return,F)}}function Mv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{vy(i,a)}catch(l){Ve(n,n.return,l)}}}function Nv(n,i,a){a.props=ws(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ve(n,i,l)}}function qa(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ve(n,i,f)}}function Pn(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ve(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ve(n,i,f)}else a.current=null}function Rv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ve(n,n.return,f)}}function dd(n,i,a){try{var l=n.stateNode;uE(l,n.type,a,i),l[Ut]=i}catch(f){Ve(n,n.return,f)}}function Iv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zi(n.type)||n.tag===4}function hd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Iv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function md(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&zi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(md(n,i,a),n=n.sibling;n!==null;)md(n,i,a),n=n.sibling}function Fl(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&zi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Fl(n,i,a),n=n.sibling;n!==null;)Fl(n,i,a),n=n.sibling}function Dv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Mt(i,l,a),i[Tt]=n,i[Ut]=a}catch(d){Ve(n,n.return,d)}}var si=!1,ht=!1,pd=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,xt=null;function HC(n,i){if(n=n.containerInfo,Bd=hc,n=Wg(n),lf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,x=-1,C=-1,j=0,F=0,X=n,P=null;t:for(;;){for(var U;X!==a||f!==0&&X.nodeType!==3||(x=y+f),X!==d||l!==0&&X.nodeType!==3||(C=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(U=X.firstChild)!==null;)P=X,X=U;for(;;){if(X===n)break t;if(P===a&&++j===f&&(x=y),P===d&&++F===l&&(C=y),(U=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=U}a=x===-1||C===-1?null:{start:x,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:n,selectionRange:a},hc=!1,xt=i;xt!==null;)if(i=xt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,xt=n;else for(;xt!==null;){switch(i=xt,d=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var se=ws(a.type,f);n=l.getSnapshotBeforeUpdate(se,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(de){Ve(a,a.return,de)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Vd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Vd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,xt=n;break}xt=i.return}}function kv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ai(n,a),l&4&&Ua(5,a);break;case 1:if(ai(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(y){Ve(a,a.return,y)}else{var f=ws(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(y){Ve(a,a.return,y)}}l&64&&Mv(a),l&512&&qa(a,a.return);break;case 3:if(ai(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{vy(n,i)}catch(y){Ve(a,a.return,y)}}break;case 27:i===null&&l&4&&Dv(a);case 26:case 5:ai(n,a),i===null&&l&4&&Rv(a),l&512&&qa(a,a.return);break;case 12:ai(n,a);break;case 31:ai(n,a),l&4&&jv(n,a);break;case 13:ai(n,a),l&4&&zv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=JC.bind(null,a),vE(n,a))));break;case 22:if(l=a.memoizedState!==null||si,!l){i=i!==null&&i.memoizedState!==null||ht,f=si;var d=ht;si=l,(ht=i)&&!d?oi(n,a,(a.subtreeFlags&8772)!==0):ai(n,a),si=f,ht=d}break;case 30:break;default:ai(n,a)}}function Lv(n){var i=n.alternate;i!==null&&(n.alternate=null,Lv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Gu(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var et=null,Ht=!1;function ri(n,i,a){for(a=a.child;a!==null;)Bv(n,i,a),a=a.sibling}function Bv(n,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(da,a)}catch{}switch(a.tag){case 26:ht||Pn(a,i),ri(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||Pn(a,i);var l=et,f=Ht;zi(a.type)&&(et=a.stateNode,Ht=!1),ri(n,i,a),Za(a.stateNode),et=l,Ht=f;break;case 5:ht||Pn(a,i);case 6:if(l=et,f=Ht,et=null,ri(n,i,a),et=l,Ht=f,et!==null)if(Ht)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(a.stateNode)}catch(d){Ve(a,i,d)}else try{et.removeChild(a.stateNode)}catch(d){Ve(a,i,d)}break;case 18:et!==null&&(Ht?(n=et,M0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Dr(n)):M0(et,a.stateNode));break;case 4:l=et,f=Ht,et=a.stateNode.containerInfo,Ht=!0,ri(n,i,a),et=l,Ht=f;break;case 0:case 11:case 14:case 15:Ii(2,a,i),ht||Ii(4,a,i),ri(n,i,a);break;case 1:ht||(Pn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Nv(a,i,l)),ri(n,i,a);break;case 21:ri(n,i,a);break;case 22:ht=(l=ht)||a.memoizedState!==null,ri(n,i,a),ht=l;break;default:ri(n,i,a)}}function jv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Dr(n)}catch(a){Ve(i,i.return,a)}}}function zv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Dr(n)}catch(a){Ve(i,i.return,a)}}function GC(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Ov),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Ov),i;default:throw Error(r(435,n.tag))}}function Yl(n,i){var a=GC(n);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=$C.bind(null,n,l);l.then(f,f)}})}function Gt(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,y=i,x=y;e:for(;x!==null;){switch(x.tag){case 27:if(zi(x.type)){et=x.stateNode,Ht=!1;break e}break;case 5:et=x.stateNode,Ht=!1;break e;case 3:case 4:et=x.stateNode.containerInfo,Ht=!0;break e}x=x.return}if(et===null)throw Error(r(160));Bv(d,y,f),et=null,Ht=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Pv(i,n),i=i.sibling}var Tn=null;function Pv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gt(i,n),Wt(n),l&4&&(Ii(3,n,n.return),Ua(3,n),Ii(5,n,n.return));break;case 1:Gt(i,n),Wt(n),l&512&&(ht||a===null||Pn(a,a.return)),l&64&&si&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Tn;if(Gt(i,n),Wt(n),l&512&&(ht||a===null||Pn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[pa]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Mt(d,l,a),d[Tt]=n,bt(d),l=d;break e;case"link":var y=P0("link","href",f).get(l+(a.href||""));if(y){for(var x=0;x<y.length;x++)if(d=y[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(x,1);break t}}d=f.createElement(l),Mt(d,l,a),f.head.appendChild(d);break;case"meta":if(y=P0("meta","content",f).get(l+(a.content||""))){for(x=0;x<y.length;x++)if(d=y[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(x,1);break t}}d=f.createElement(l),Mt(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[Tt]=n,bt(d),l=d}n.stateNode=l}else V0(f,n.type,n.stateNode);else n.stateNode=z0(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?V0(f,n.type,n.stateNode):z0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&dd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Gt(i,n),Wt(n),l&512&&(ht||a===null||Pn(a,a.return)),a!==null&&l&4&&dd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Gt(i,n),Wt(n),l&512&&(ht||a===null||Pn(a,a.return)),n.flags&32){f=n.stateNode;try{tr(f,"")}catch(se){Ve(n,n.return,se)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,dd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(pd=!0);break;case 6:if(Gt(i,n),Wt(n),l&4){if(n.stateNode===null)throw Error(r(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(se){Ve(n,n.return,se)}}break;case 3:if(cc=null,f=Tn,Tn=oc(i.containerInfo),Gt(i,n),Tn=f,Wt(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dr(i.containerInfo)}catch(se){Ve(n,n.return,se)}pd&&(pd=!1,Vv(n));break;case 4:l=Tn,Tn=oc(n.stateNode.containerInfo),Gt(i,n),Wt(n),Tn=l;break;case 12:Gt(i,n),Wt(n);break;case 31:Gt(i,n),Wt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yl(n,l)));break;case 13:Gt(i,n),Wt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kl=Xt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yl(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=si,F=ht;if(si=j||f,ht=F||C,Gt(i,n),ht=F,si=j,Wt(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||C||si||ht||Ts(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{x=C.stateNode;var X=C.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;x.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(se){Ve(C,C.return,se)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(se){Ve(C,C.return,se)}}}else if(i.tag===18){if(a===null){C=i;try{var U=C.stateNode;f?N0(U,!0):N0(C.stateNode,!1)}catch(se){Ve(C,C.return,se)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yl(n,a))));break;case 19:Gt(i,n),Wt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Yl(n,l)));break;case 30:break;case 21:break;default:Gt(i,n),Wt(n)}}function Wt(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Iv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=hd(n);Fl(n,d,f);break;case 5:var y=a.stateNode;a.flags&32&&(tr(y,""),a.flags&=-33);var x=hd(n);Fl(n,x,y);break;case 3:case 4:var C=a.stateNode.containerInfo,j=hd(n);md(n,j,C);break;default:throw Error(r(161))}}catch(F){Ve(n,n.return,F)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Vv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Vv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ai(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)kv(n,i.alternate,i),i=i.sibling}function Ts(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),Ts(i);break;case 1:Pn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Nv(i,i.return,a),Ts(i);break;case 27:Za(i.stateNode);case 26:case 5:Pn(i,i.return),Ts(i);break;case 22:i.memoizedState===null&&Ts(i);break;case 30:Ts(i);break;default:Ts(i)}n=n.sibling}}function oi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:oi(f,d,a),Ua(4,d);break;case 1:if(oi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Ve(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var x=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)yy(C[f],x)}catch(j){Ve(l,l.return,j)}}a&&y&64&&Mv(d),qa(d,d.return);break;case 27:Dv(d);case 26:case 5:oi(f,d,a),a&&l===null&&y&4&&Rv(d),qa(d,d.return);break;case 12:oi(f,d,a);break;case 31:oi(f,d,a),a&&y&4&&jv(f,d);break;case 13:oi(f,d,a),a&&y&4&&zv(f,d);break;case 22:d.memoizedState===null&&oi(f,d,a),qa(d,d.return);break;case 30:break;default:oi(f,d,a)}i=i.sibling}}function gd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Ma(a))}function yd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ma(n))}function Cn(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uv(n,i,a,l),i=i.sibling}function Uv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Cn(n,i,a,l),f&2048&&Ua(9,i);break;case 1:Cn(n,i,a,l);break;case 3:Cn(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ma(n)));break;case 12:if(f&2048){Cn(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,y=d.id,x=d.onPostCommit;typeof x=="function"&&x(y,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Ve(i,i.return,C)}}else Cn(n,i,a,l);break;case 31:Cn(n,i,a,l);break;case 13:Cn(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?Cn(n,i,a,l):Ha(n,i):d._visibility&2?Cn(n,i,a,l):(d._visibility|=2,xr(n,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&gd(y,i);break;case 24:Cn(n,i,a,l),f&2048&&yd(i.alternate,i);break;default:Cn(n,i,a,l)}}function xr(n,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=n,y=i,x=a,C=l,j=y.flags;switch(y.tag){case 0:case 11:case 15:xr(d,y,x,C,f),Ua(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?xr(d,y,x,C,f):Ha(d,y):(F._visibility|=2,xr(d,y,x,C,f)),f&&j&2048&&gd(y.alternate,y);break;case 24:xr(d,y,x,C,f),f&&j&2048&&yd(y.alternate,y);break;default:xr(d,y,x,C,f)}i=i.sibling}}function Ha(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Ha(a,l),f&2048&&gd(l.alternate,l);break;case 24:Ha(a,l),f&2048&&yd(l.alternate,l);break;default:Ha(a,l)}i=i.sibling}}var Ga=8192;function Sr(n,i,a){if(n.subtreeFlags&Ga)for(n=n.child;n!==null;)qv(n,i,a),n=n.sibling}function qv(n,i,a){switch(n.tag){case 26:Sr(n,i,a),n.flags&Ga&&n.memoizedState!==null&&RE(a,Tn,n.memoizedState,n.memoizedProps);break;case 5:Sr(n,i,a);break;case 3:case 4:var l=Tn;Tn=oc(n.stateNode.containerInfo),Sr(n,i,a),Tn=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Ga,Ga=16777216,Sr(n,i,a),Ga=l):Sr(n,i,a));break;default:Sr(n,i,a)}}function Hv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Wa(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,Wv(l,n)}Hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gv(n),n=n.sibling}function Gv(n){switch(n.tag){case 0:case 11:case 15:Wa(n),n.flags&2048&&Ii(9,n,n.return);break;case 3:Wa(n);break;case 12:Wa(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Ql(n)):Wa(n);break;default:Wa(n)}}function Ql(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,Wv(l,n)}Hv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),Ql(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ql(i));break;default:Ql(i)}n=n.sibling}}function Wv(n,i){for(;xt!==null;){var a=xt;switch(a.tag){case 0:case 11:case 15:Ii(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ma(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xt=l;else e:for(a=n;xt!==null;){l=xt;var f=l.sibling,d=l.return;if(Lv(l),l===a){xt=null;break e}if(f!==null){f.return=d,xt=f;break e}xt=d}}}var WC={getCacheForType:function(n){var i=Et(ut),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return Et(ut).controller.signal}},FC=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ye=null,we=null,Ae=0,Pe=0,sn=null,Di=!1,wr=!1,vd=!1,li=0,rt=0,Oi=0,Cs=0,_d=0,rn=0,Tr=0,Fa=null,Ft=null,bd=!1,Kl=0,Fv=0,Xl=1/0,Zl=null,ki=null,gt=0,Li=null,Cr=null,ci=0,xd=0,Sd=null,Yv=null,Ya=0,wd=null;function an(){return(Be&2)!==0&&Ae!==0?Ae&-Ae:V.T!==null?Nd():cg()}function Qv(){if(rn===0)if((Ae&536870912)===0||Ne){var n=rl;rl<<=1,(rl&3932160)===0&&(rl=262144),rn=n}else rn=536870912;return n=tn.current,n!==null&&(n.flags|=32),rn}function Yt(n,i,a){(n===Ye&&(Pe===2||Pe===9)||n.cancelPendingCommit!==null)&&(Er(n,0),Bi(n,Ae,rn,!1)),ma(n,a),((Be&2)===0||n!==Ye)&&(n===Ye&&((Be&2)===0&&(Cs|=a),rt===4&&Bi(n,Ae,rn,!1)),Vn(n))}function Kv(n,i,a){if((Be&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&n.expiredLanes)===0||ha(n,i),f=l?KC(n,i):Cd(n,i,!0),d=l;do{if(f===0){wr&&!l&&Bi(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!YC(a)){f=Cd(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var x=n;f=Fa;var C=x.current.memoizedState.isDehydrated;if(C&&(Er(x,y).flags|=256),y=Cd(x,y,!1),y!==2){if(vd&&!C){x.errorRecoveryDisabledLanes|=d,Cs|=d,f=4;break e}d=Ft,Ft=f,d!==null&&(Ft===null?Ft=d:Ft.push.apply(Ft,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){Er(n,0),Bi(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Bi(l,i,rn,!Di);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Kl+300-Xt(),10<f)){if(Bi(l,i,rn,!Di),ol(l,0,!0)!==0)break e;ci=i,l.timeoutHandle=E0(Xv.bind(null,l,a,Ft,Zl,bd,i,rn,Cs,Tr,Di,d,"Throttled",-0,0),f);break e}Xv(l,a,Ft,Zl,bd,i,rn,Cs,Tr,Di,d,null,-0,0)}}break}while(!0);Vn(n)}function Xv(n,i,a,l,f,d,y,x,C,j,F,X,P,U){if(n.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},qv(i,d,X);var se=(d&62914560)===d?Kl-Xt():(d&4194048)===d?Fv-Xt():0;if(se=IE(X,se),se!==null){ci=d,n.cancelPendingCommit=se(s0.bind(null,n,i,d,a,l,f,y,x,C,F,X,null,P,U)),Bi(n,d,y,!j);return}}s0(n,i,d,a,l,f,y,x,C)}function YC(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!$t(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(n,i,a,l){i&=~_d,i&=~Cs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-Jt(f),y=1<<d;l[d]=-1,f&=~y}a!==0&&ag(n,a,i)}function Jl(){return(Be&6)===0?(Qa(0),!1):!0}function Td(){if(we!==null){if(Pe===0)var n=we.return;else n=we,Jn=gs=null,Vf(n),gr=null,Ra=0,n=we;for(;n!==null;)Av(n.alternate,n),n=n.return;we=null}}function Er(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,hE(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),ci=0,Td(),Ye=n,we=a=Xn(n.current,null),Ae=i,Pe=0,sn=null,Di=!1,wr=ha(n,i),vd=!1,Tr=rn=_d=Cs=Oi=rt=0,Ft=Fa=null,bd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Jt(l),d=1<<f;i|=n[f],l&=~d}return li=i,_l(),a}function Zv(n,i){ve=null,V.H=za,i===pr||i===Al?(i=hy(),Pe=3):i===Mf?(i=hy(),Pe=4):Pe=i===nd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,sn=i,we===null&&(rt=1,Ul(n,hn(i,n.current)))}function Jv(){var n=tn.current;return n===null?!0:(Ae&4194048)===Ae?yn===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?n===yn:!1}function $v(){var n=V.H;return V.H=za,n===null?za:n}function e0(){var n=V.A;return V.A=WC,n}function $l(){rt=4,Di||(Ae&4194048)!==Ae&&tn.current!==null||(wr=!0),(Oi&134217727)===0&&(Cs&134217727)===0||Ye===null||Bi(Ye,Ae,rn,!1)}function Cd(n,i,a){var l=Be;Be|=2;var f=$v(),d=e0();(Ye!==n||Ae!==i)&&(Zl=null,Er(n,i)),i=!1;var y=rt;e:do try{if(Pe!==0&&we!==null){var x=we,C=sn;switch(Pe){case 8:Td(),y=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(i=!0);var j=Pe;if(Pe=0,sn=null,Ar(n,x,C,j),a&&wr){y=0;break e}break;default:j=Pe,Pe=0,sn=null,Ar(n,x,C,j)}}QC(),y=rt;break}catch(F){Zv(n,F)}while(!0);return i&&n.shellSuspendCounter++,Jn=gs=null,Be=l,V.H=f,V.A=d,we===null&&(Ye=null,Ae=0,_l()),y}function QC(){for(;we!==null;)t0(we)}function KC(n,i){var a=Be;Be|=2;var l=$v(),f=e0();Ye!==n||Ae!==i?(Zl=null,Xl=Xt()+500,Er(n,i)):wr=ha(n,i);e:do try{if(Pe!==0&&we!==null){i=we;var d=sn;t:switch(Pe){case 1:Pe=0,sn=null,Ar(n,i,d,1);break;case 2:case 9:if(fy(d)){Pe=0,sn=null,n0(i);break}i=function(){Pe!==2&&Pe!==9||Ye!==n||(Pe=7),Vn(n)},d.then(i,i);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:fy(d)?(Pe=0,sn=null,n0(i)):(Pe=0,sn=null,Ar(n,i,d,7));break;case 5:var y=null;switch(we.tag){case 26:y=we.memoizedState;case 5:case 27:var x=we;if(y?U0(y):x.stateNode.complete){Pe=0,sn=null;var C=x.sibling;if(C!==null)we=C;else{var j=x.return;j!==null?(we=j,ec(j)):we=null}break t}}Pe=0,sn=null,Ar(n,i,d,5);break;case 6:Pe=0,sn=null,Ar(n,i,d,6);break;case 8:Td(),rt=6;break e;default:throw Error(r(462))}}XC();break}catch(F){Zv(n,F)}while(!0);return Jn=gs=null,V.H=l,V.A=f,Be=a,we!==null?0:(Ye=null,Ae=0,_l(),rt)}function XC(){for(;we!==null&&!_T();)t0(we)}function t0(n){var i=Cv(n.alternate,n,li);n.memoizedProps=n.pendingProps,i===null?ec(n):we=i}function n0(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=_v(a,i,i.pendingProps,i.type,void 0,Ae);break;case 11:i=_v(a,i,i.pendingProps,i.type.render,i.ref,Ae);break;case 5:Vf(i);default:Av(a,i),i=we=ey(i,li),i=Cv(a,i,li)}n.memoizedProps=n.pendingProps,i===null?ec(n):we=i}function Ar(n,i,a,l){Jn=gs=null,Vf(i),gr=null,Ra=0;var f=i.return;try{if(zC(n,f,i,a,Ae)){rt=1,Ul(n,hn(a,n.current)),we=null;return}}catch(d){if(f!==null)throw we=f,d;rt=1,Ul(n,hn(a,n.current)),we=null;return}i.flags&32768?(Ne||l===1?n=!0:wr||(Ae&536870912)!==0?n=!1:(Di=n=!0,(l===2||l===9||l===3||l===6)&&(l=tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),i0(i,n)):ec(i)}function ec(n){var i=n;do{if((i.flags&32768)!==0){i0(i,Di);return}n=i.return;var a=UC(i.alternate,i,li);if(a!==null){we=a;return}if(i=i.sibling,i!==null){we=i;return}we=i=n}while(i!==null);rt===0&&(rt=5)}function i0(n,i){do{var a=qC(n.alternate,n);if(a!==null){a.flags&=32767,we=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){we=n;return}we=n=a}while(n!==null);rt=6,we=null}function s0(n,i,a,l,f,d,y,x,C){n.cancelPendingCommit=null;do tc();while(gt!==0);if((Be&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=hf,NT(n,a,d,y,x,C),n===Ye&&(we=Ye=null,Ae=0),Cr=i,Li=n,ci=a,xd=d,Sd=f,Yv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,eE(il,function(){return c0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=V.T,V.T=null,f=K.p,K.p=2,y=Be,Be|=4;try{HC(n,i,a)}finally{Be=y,K.p=f,V.T=l}}gt=1,r0(),a0(),o0()}}function r0(){if(gt===1){gt=0;var n=Li,i=Cr,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var l=K.p;K.p=2;var f=Be;Be|=4;try{Pv(i,n);var d=jd,y=Wg(n.containerInfo),x=d.focusedElem,C=d.selectionRange;if(y!==x&&x&&x.ownerDocument&&Gg(x.ownerDocument.documentElement,x)){if(C!==null&&lf(x)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in x)x.selectionStart=j,x.selectionEnd=Math.min(F,x.value.length);else{var X=x.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var U=P.getSelection(),se=x.textContent.length,de=Math.min(C.start,se),Ge=C.end===void 0?de:Math.min(C.end,se);!U.extend&&de>Ge&&(y=Ge,Ge=de,de=y);var I=Hg(x,de),E=Hg(x,Ge);if(I&&E&&(U.rangeCount!==1||U.anchorNode!==I.node||U.anchorOffset!==I.offset||U.focusNode!==E.node||U.focusOffset!==E.offset)){var B=X.createRange();B.setStart(I.node,I.offset),U.removeAllRanges(),de>Ge?(U.addRange(B),U.extend(E.node,E.offset)):(B.setEnd(E.node,E.offset),U.addRange(B))}}}}for(X=[],U=x;U=U.parentNode;)U.nodeType===1&&X.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<X.length;x++){var Y=X[x];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}hc=!!Bd,jd=Bd=null}finally{Be=f,K.p=l,V.T=a}}n.current=i,gt=2}}function a0(){if(gt===2){gt=0;var n=Li,i=Cr,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var l=K.p;K.p=2;var f=Be;Be|=4;try{kv(n,i.alternate,i)}finally{Be=f,K.p=l,V.T=a}}gt=3}}function o0(){if(gt===4||gt===3){gt=0,bT();var n=Li,i=Cr,a=ci,l=Yv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gt=5:(gt=0,Cr=Li=null,l0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ki=null),qu(a),i=i.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(da,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=V.T,f=K.p,K.p=2,V.T=null;try{for(var d=n.onRecoverableError,y=0;y<l.length;y++){var x=l[y];d(x.value,{componentStack:x.stack})}}finally{V.T=i,K.p=f}}(ci&3)!==0&&tc(),Vn(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===wd?Ya++:(Ya=0,wd=n):Ya=0,Qa(0)}}function l0(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ma(i)))}function tc(){return r0(),a0(),o0(),c0()}function c0(){if(gt!==5)return!1;var n=Li,i=xd;xd=0;var a=qu(ci),l=V.T,f=K.p;try{K.p=32>a?32:a,V.T=null,a=Sd,Sd=null;var d=Li,y=ci;if(gt=0,Cr=Li=null,ci=0,(Be&6)!==0)throw Error(r(331));var x=Be;if(Be|=4,Gv(d.current),Uv(d,d.current,y,a),Be=x,Qa(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(da,d)}catch{}return!0}finally{K.p=f,V.T=l,l0(n,i)}}function u0(n,i,a){i=hn(a,i),i=td(n.stateNode,i,2),n=Mi(n,i,2),n!==null&&(ma(n,2),Vn(n))}function Ve(n,i,a){if(n.tag===3)u0(n,n,a);else for(;i!==null;){if(i.tag===3){u0(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ki===null||!ki.has(l))){n=hn(a,n),a=fv(2),l=Mi(i,a,2),l!==null&&(dv(a,l,i,n),ma(l,2),Vn(l));break}}i=i.return}}function Ed(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new FC;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(vd=!0,f.add(a),n=ZC.bind(null,n,i,a),i.then(n,n))}function ZC(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ye===n&&(Ae&a)===a&&(rt===4||rt===3&&(Ae&62914560)===Ae&&300>Xt()-Kl?(Be&2)===0&&Er(n,0):_d|=a,Tr===Ae&&(Tr=0)),Vn(n)}function f0(n,i){i===0&&(i=rg()),n=hs(n,i),n!==null&&(ma(n,i),Vn(n))}function JC(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),f0(n,a)}function $C(n,i){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),f0(n,a)}function eE(n,i){return zu(n,i)}var nc=null,Mr=null,Ad=!1,ic=!1,Md=!1,ji=0;function Vn(n){n!==Mr&&n.next===null&&(Mr===null?nc=Mr=n:Mr=Mr.next=n),ic=!0,Ad||(Ad=!0,nE())}function Qa(n,i){if(!Md&&ic){Md=!0;do for(var a=!1,l=nc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-Jt(42|n)+1)-1,d&=f&~(y&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,p0(l,d))}else d=Ae,d=ol(l,l===Ye?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ha(l,d)||(a=!0,p0(l,d));l=l.next}while(a);Md=!1}}function tE(){d0()}function d0(){ic=Ad=!1;var n=0;ji!==0&&dE()&&(n=ji);for(var i=Xt(),a=null,l=nc;l!==null;){var f=l.next,d=h0(l,i);d===0?(l.next=null,a===null?nc=f:a.next=f,f===null&&(Mr=a)):(a=l,(n!==0||(d&3)!==0)&&(ic=!0)),l=f}gt!==0&&gt!==5||Qa(n),ji!==0&&(ji=0)}function h0(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var y=31-Jt(d),x=1<<y,C=f[y];C===-1?((x&a)===0||(x&l)!==0)&&(f[y]=MT(x,i)):C<=i&&(n.expiredLanes|=x),d&=~x}if(i=Ye,a=Ae,a=ol(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Pe===2||Pe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Pu(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ha(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Pu(l),qu(a)){case 2:case 8:a=ig;break;case 32:a=il;break;case 268435456:a=sg;break;default:a=il}return l=m0.bind(null,n),a=zu(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Pu(l),n.callbackPriority=2,n.callbackNode=null,2}function m0(n,i){if(gt!==0&&gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(tc()&&n.callbackNode!==a)return null;var l=Ae;return l=ol(n,n===Ye?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Kv(n,l,i),h0(n,Xt()),n.callbackNode!=null&&n.callbackNode===a?m0.bind(null,n):null)}function p0(n,i){if(tc())return null;Kv(n,i,!0)}function nE(){mE(function(){(Be&6)!==0?zu(ng,tE):d0()})}function Nd(){if(ji===0){var n=hr;n===0&&(n=sl,sl<<=1,(sl&261888)===0&&(sl=256)),ji=n}return ji}function g0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fl(""+n)}function y0(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function iE(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=g0((f[Ut]||null).action),y=l.submitter;y&&(i=(i=y[Ut]||null)?g0(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var x=new pl("action","action",null,l,f);n.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ji!==0){var C=y?y0(f,y):new FormData(f);Kf(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(x.preventDefault(),C=y?y0(f,y):new FormData(f),Kf(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Rd=0;Rd<df.length;Rd++){var Id=df[Rd],sE=Id.toLowerCase(),rE=Id[0].toUpperCase()+Id.slice(1);wn(sE,"on"+rE)}wn(Qg,"onAnimationEnd"),wn(Kg,"onAnimationIteration"),wn(Xg,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(xC,"onTransitionRun"),wn(SC,"onTransitionStart"),wn(wC,"onTransitionCancel"),wn(Zg,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ka));function v0(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var x=l[y],C=x.instance,j=x.currentTarget;if(x=x.listener,C!==d&&f.isPropagationStopped())break e;d=x,f.currentTarget=j;try{d(f)}catch(F){vl(F)}f.currentTarget=null,d=C}else for(y=0;y<l.length;y++){if(x=l[y],C=x.instance,j=x.currentTarget,x=x.listener,C!==d&&f.isPropagationStopped())break e;d=x,f.currentTarget=j;try{d(f)}catch(F){vl(F)}f.currentTarget=null,d=C}}}}function Te(n,i){var a=i[Hu];a===void 0&&(a=i[Hu]=new Set);var l=n+"__bubble";a.has(l)||(_0(i,n,2,!1),a.add(l))}function Dd(n,i,a){var l=0;i&&(l|=4),_0(a,n,l,i)}var sc="_reactListening"+Math.random().toString(36).slice(2);function Od(n){if(!n[sc]){n[sc]=!0,dg.forEach(function(a){a!=="selectionchange"&&(aE.has(a)||Dd(a,!1,n),Dd(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[sc]||(i[sc]=!0,Dd("selectionchange",!1,i))}}function _0(n,i,a,l){switch(Q0(i)){case 2:var f=kE;break;case 8:f=LE;break;default:f=Qd}a=f.bind(null,i,a,n),f=void 0,!Ju||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function kd(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var x=l.stateNode.containerInfo;if(x===f)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;x!==null;){if(y=Xs(x),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=d=y;continue e}x=x.parentNode}}l=l.return}Tg(function(){var j=d,F=Xu(a),X=[];e:{var P=Jg.get(n);if(P!==void 0){var U=pl,se=n;switch(n){case"keypress":if(hl(a)===0)break e;case"keydown":case"keyup":U=$T;break;case"focusin":se="focus",U=nf;break;case"focusout":se="blur",U=nf;break;case"beforeblur":case"afterblur":U=nf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=UT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=nC;break;case Qg:case Kg:case Xg:U=GT;break;case Zg:U=sC;break;case"scroll":case"scrollend":U=PT;break;case"wheel":U=aC;break;case"copy":case"cut":case"paste":U=FT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ng;break;case"toggle":case"beforetoggle":U=lC}var de=(i&4)!==0,Ge=!de&&(n==="scroll"||n==="scrollend"),I=de?P!==null?P+"Capture":null:P;de=[];for(var E=j,B;E!==null;){var Y=E;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||I===null||(Y=ya(E,I),Y!=null&&de.push(Xa(E,Y,B))),Ge)break;E=E.return}0<de.length&&(P=new U(P,se,null,a,F),X.push({event:P,listeners:de}))}}if((i&7)===0){e:{if(P=n==="mouseover"||n==="pointerover",U=n==="mouseout"||n==="pointerout",P&&a!==Ku&&(se=a.relatedTarget||a.fromElement)&&(Xs(se)||se[Ks]))break e;if((U||P)&&(P=F.window===F?F:(P=F.ownerDocument)?P.defaultView||P.parentWindow:window,U?(se=a.relatedTarget||a.toElement,U=j,se=se?Xs(se):null,se!==null&&(Ge=c(se),de=se.tag,se!==Ge||de!==5&&de!==27&&de!==6)&&(se=null)):(U=null,se=j),U!==se)){if(de=Ag,Y="onMouseLeave",I="onMouseEnter",E="mouse",(n==="pointerout"||n==="pointerover")&&(de=Ng,Y="onPointerLeave",I="onPointerEnter",E="pointer"),Ge=U==null?P:ga(U),B=se==null?P:ga(se),P=new de(Y,E+"leave",U,a,F),P.target=Ge,P.relatedTarget=B,Y=null,Xs(F)===j&&(de=new de(I,E+"enter",se,a,F),de.target=B,de.relatedTarget=Ge,Y=de),Ge=Y,U&&se)t:{for(de=oE,I=U,E=se,B=0,Y=I;Y;Y=de(Y))B++;Y=0;for(var ue=E;ue;ue=de(ue))Y++;for(;0<B-Y;)I=de(I),B--;for(;0<Y-B;)E=de(E),Y--;for(;B--;){if(I===E||E!==null&&I===E.alternate){de=I;break t}I=de(I),E=de(E)}de=null}else de=null;U!==null&&b0(X,P,U,de,!1),se!==null&&Ge!==null&&b0(X,Ge,se,de,!0)}}e:{if(P=j?ga(j):window,U=P.nodeName&&P.nodeName.toLowerCase(),U==="select"||U==="input"&&P.type==="file")var Oe=jg;else if(Lg(P))if(zg)Oe=vC;else{Oe=gC;var le=pC}else U=P.nodeName,!U||U.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?j&&Qu(j.elementType)&&(Oe=jg):Oe=yC;if(Oe&&(Oe=Oe(n,j))){Bg(X,Oe,a,F);break e}le&&le(n,P,j),n==="focusout"&&j&&P.type==="number"&&j.memoizedProps.value!=null&&Yu(P,"number",P.value)}switch(le=j?ga(j):window,n){case"focusin":(Lg(le)||le.contentEditable==="true")&&(rr=le,cf=j,Ca=null);break;case"focusout":Ca=cf=rr=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,Fg(X,a,F);break;case"selectionchange":if(bC)break;case"keydown":case"keyup":Fg(X,a,F)}var _e;if(rf)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else sr?Og(n,a)&&(Me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Rg&&a.locale!=="ko"&&(sr||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&sr&&(_e=Cg()):(xi=F,$u="value"in xi?xi.value:xi.textContent,sr=!0)),le=rc(j,Me),0<le.length&&(Me=new Mg(Me,n,null,a,F),X.push({event:Me,listeners:le}),_e?Me.data=_e:(_e=kg(a),_e!==null&&(Me.data=_e)))),(_e=uC?fC(n,a):dC(n,a))&&(Me=rc(j,"onBeforeInput"),0<Me.length&&(le=new Mg("onBeforeInput","beforeinput",null,a,F),X.push({event:le,listeners:Me}),le.data=_e)),iE(X,n,j,a,F)}v0(X,i)})}function Xa(n,i,a){return{instance:n,listener:i,currentTarget:a}}function rc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ya(n,a),f!=null&&l.unshift(Xa(n,f,d)),f=ya(n,i),f!=null&&l.push(Xa(n,f,d))),n.tag===3)return l;n=n.return}return[]}function oE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function b0(n,i,a,l,f){for(var d=i._reactName,y=[];a!==null&&a!==l;){var x=a,C=x.alternate,j=x.stateNode;if(x=x.tag,C!==null&&C===l)break;x!==5&&x!==26&&x!==27||j===null||(C=j,f?(j=ya(a,d),j!=null&&y.unshift(Xa(a,j,C))):f||(j=ya(a,d),j!=null&&y.push(Xa(a,j,C)))),a=a.return}y.length!==0&&n.push({event:i,listeners:y})}var lE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function x0(n){return(typeof n=="string"?n:""+n).replace(lE,`
`).replace(cE,"")}function S0(n,i){return i=x0(i),x0(n)===i}function He(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||tr(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&tr(n,""+l);break;case"className":cl(n,"class",l);break;case"tabIndex":cl(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cl(n,a,l);break;case"style":Sg(n,l,d);break;case"data":if(i!=="object"){cl(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=fl(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&He(n,i,"name",f.name,f,null),He(n,i,"formEncType",f.formEncType,f,null),He(n,i,"formMethod",f.formMethod,f,null),He(n,i,"formTarget",f.formTarget,f,null)):(He(n,i,"encType",f.encType,f,null),He(n,i,"method",f.method,f,null),He(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=fl(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Qn);break;case"onScroll":l!=null&&Te("scroll",n);break;case"onScrollEnd":l!=null&&Te("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=fl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Te("beforetoggle",n),Te("toggle",n),ll(n,"popover",l);break;case"xlinkActuate":Yn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ll(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jT.get(a)||a,ll(n,a,l))}}function Ld(n,i,a,l,f,d){switch(a){case"style":Sg(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof l=="string"?tr(n,l):(typeof l=="number"||typeof l=="bigint")&&tr(n,""+l);break;case"onScroll":l!=null&&Te("scroll",n);break;case"onScrollEnd":l!=null&&Te("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):ll(n,a,l)}}}function Mt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",n),Te("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:He(n,i,d,y,a,null)}}f&&He(n,i,"srcSet",a.srcSet,a,null),l&&He(n,i,"src",a.src,a,null);return;case"input":Te("invalid",n);var x=d=y=f=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":f=F;break;case"type":y=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":d=F;break;case"defaultValue":x=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:He(n,i,l,F,a,null)}}vg(n,d,x,C,j,y,f,!1);return;case"select":Te("invalid",n),l=y=d=null;for(f in a)if(a.hasOwnProperty(f)&&(x=a[f],x!=null))switch(f){case"value":d=x;break;case"defaultValue":y=x;break;case"multiple":l=x;default:He(n,i,f,x,a,null)}i=d,a=y,n.multiple=!!l,i!=null?er(n,!!l,i,!1):a!=null&&er(n,!!l,a,!0);return;case"textarea":Te("invalid",n),d=f=l=null;for(y in a)if(a.hasOwnProperty(y)&&(x=a[y],x!=null))switch(y){case"value":l=x;break;case"defaultValue":f=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:He(n,i,y,x,a,null)}bg(n,l,f,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":He(n,i,C,l,a,null));return;case"dialog":Te("beforetoggle",n),Te("toggle",n),Te("cancel",n),Te("close",n);break;case"iframe":case"object":Te("load",n);break;case"video":case"audio":for(l=0;l<Ka.length;l++)Te(Ka[l],n);break;case"image":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"embed":case"source":case"link":Te("error",n),Te("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:He(n,i,j,l,a,null)}return;default:if(Qu(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Ld(n,i,F,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&He(n,i,x,l,a,null))}function uE(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,x=null,C=null,j=null,F=null;for(U in a){var X=a[U];if(a.hasOwnProperty(U)&&X!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(U)||He(n,i,U,null,l,X)}}for(var P in l){var U=l[P];if(X=a[P],l.hasOwnProperty(P)&&(U!=null||X!=null))switch(P){case"type":d=U;break;case"name":f=U;break;case"checked":j=U;break;case"defaultChecked":F=U;break;case"value":y=U;break;case"defaultValue":x=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,i));break;default:U!==X&&He(n,i,P,U,l,X)}}Fu(n,y,x,C,j,F,d,f);return;case"select":U=y=x=P=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":U=C;default:l.hasOwnProperty(d)||He(n,i,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":P=d;break;case"defaultValue":x=d;break;case"multiple":y=d;default:d!==C&&He(n,i,f,d,l,C)}i=x,a=y,l=U,P!=null?er(n,!!a,P,!1):!!l!=!!a&&(i!=null?er(n,!!a,i,!0):er(n,!!a,a?[]:"",!1));return;case"textarea":U=P=null;for(x in a)if(f=a[x],a.hasOwnProperty(x)&&f!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:He(n,i,x,null,l,f)}for(y in l)if(f=l[y],d=a[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":P=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&He(n,i,y,f,l,d)}_g(n,P,U);return;case"option":for(var se in a)P=a[se],a.hasOwnProperty(se)&&P!=null&&!l.hasOwnProperty(se)&&(se==="selected"?n.selected=!1:He(n,i,se,null,l,P));for(C in l)P=l[C],U=a[C],l.hasOwnProperty(C)&&P!==U&&(P!=null||U!=null)&&(C==="selected"?n.selected=P&&typeof P!="function"&&typeof P!="symbol":He(n,i,C,P,l,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)P=a[de],a.hasOwnProperty(de)&&P!=null&&!l.hasOwnProperty(de)&&He(n,i,de,null,l,P);for(j in l)if(P=l[j],U=a[j],l.hasOwnProperty(j)&&P!==U&&(P!=null||U!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,i));break;default:He(n,i,j,P,l,U)}return;default:if(Qu(i)){for(var Ge in a)P=a[Ge],a.hasOwnProperty(Ge)&&P!==void 0&&!l.hasOwnProperty(Ge)&&Ld(n,i,Ge,void 0,l,P);for(F in l)P=l[F],U=a[F],!l.hasOwnProperty(F)||P===U||P===void 0&&U===void 0||Ld(n,i,F,P,l,U);return}}for(var I in a)P=a[I],a.hasOwnProperty(I)&&P!=null&&!l.hasOwnProperty(I)&&He(n,i,I,null,l,P);for(X in l)P=l[X],U=a[X],!l.hasOwnProperty(X)||P===U||P==null&&U==null||He(n,i,X,P,l,U)}function w0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,y=f.initiatorType,x=f.duration;if(d&&x&&w0(y)){for(y=0,x=f.responseEnd,l+=1;l<a.length;l++){var C=a[l],j=C.startTime;if(j>x)break;var F=C.transferSize,X=C.initiatorType;F&&w0(X)&&(C=C.responseEnd,y+=F*(C<x?1:(x-j)/(C-j)))}if(--l,i+=8*(d+y)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Bd=null,jd=null;function ac(n){return n.nodeType===9?n:n.ownerDocument}function T0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function zd(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pd=null;function dE(){var n=window.event;return n&&n.type==="popstate"?n===Pd?!1:(Pd=n,!0):(Pd=null,!1)}var E0=typeof setTimeout=="function"?setTimeout:void 0,hE=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(n){return A0.resolve(null).then(n).catch(pE)}:E0;function pE(n){setTimeout(function(){throw n})}function zi(n){return n==="head"}function M0(n,i){var a=i,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Dr(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Za(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Za(a);for(var d=a.firstChild;d;){var y=d.nextSibling,x=d.nodeName;d[pa]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&Za(n.ownerDocument.body);a=f}while(a);Dr(i)}function N0(n,i){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Vd(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),Gu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function gE(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[pa])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=vn(n.nextSibling),n===null)break}return null}function yE(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=vn(n.nextSibling),n===null))return null;return n}function R0(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=vn(n.nextSibling),n===null))return null;return n}function Ud(n){return n.data==="$?"||n.data==="$~"}function qd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function vE(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function vn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Hd=null;function I0(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return vn(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function D0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function O0(n,i,a){switch(i=ac(a),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Za(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Gu(n)}var _n=new Map,k0=new Set;function oc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ui=K.d;K.d={f:_E,r:bE,D:xE,C:SE,L:wE,m:TE,X:EE,S:CE,M:AE};function _E(){var n=ui.f(),i=Jl();return n||i}function bE(n){var i=Zs(n);i!==null&&i.tag===5&&i.type==="form"?Zy(i):ui.r(n)}var Nr=typeof document>"u"?null:document;function L0(n,i,a){var l=Nr;if(l&&typeof i=="string"&&i){var f=fn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),k0.has(f)||(k0.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Mt(i,"link",n),bt(i),l.head.appendChild(i)))}}function xE(n){ui.D(n),L0("dns-prefetch",n,null)}function SE(n,i){ui.C(n,i),L0("preconnect",n,i)}function wE(n,i,a){ui.L(n,i,a);var l=Nr;if(l&&n&&i){var f='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(n)+'"]';var d=f;switch(i){case"style":d=Rr(n);break;case"script":d=Ir(n)}_n.has(d)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),_n.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ja(d))||i==="script"&&l.querySelector($a(d))||(i=l.createElement("link"),Mt(i,"link",n),bt(i),l.head.appendChild(i)))}}function TE(n,i){ui.m(n,i);var a=Nr;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ir(n)}if(!_n.has(d)&&(n=v({rel:"modulepreload",href:n},i),_n.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($a(d)))return}l=a.createElement("link"),Mt(l,"link",n),bt(l),a.head.appendChild(l)}}}function CE(n,i,a){ui.S(n,i,a);var l=Nr;if(l&&n){var f=Js(l).hoistableStyles,d=Rr(n);i=i||"default";var y=f.get(d);if(!y){var x={loading:0,preload:null};if(y=l.querySelector(Ja(d)))x.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=_n.get(d))&&Gd(n,a);var C=y=l.createElement("link");bt(C),Mt(C,"link",n),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){x.loading|=1}),C.addEventListener("error",function(){x.loading|=2}),x.loading|=4,lc(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:x},f.set(d,y)}}}function EE(n,i){ui.X(n,i);var a=Nr;if(a&&n){var l=Js(a).hoistableScripts,f=Ir(n),d=l.get(f);d||(d=a.querySelector($a(f)),d||(n=v({src:n,async:!0},i),(i=_n.get(f))&&Wd(n,i),d=a.createElement("script"),bt(d),Mt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function AE(n,i){ui.M(n,i);var a=Nr;if(a&&n){var l=Js(a).hoistableScripts,f=Ir(n),d=l.get(f);d||(d=a.querySelector($a(f)),d||(n=v({src:n,async:!0,type:"module"},i),(i=_n.get(f))&&Wd(n,i),d=a.createElement("script"),bt(d),Mt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function B0(n,i,a,l){var f=(f=ie.current)?oc(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Rr(a.href),a=Js(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Rr(a.href);var d=Js(f).hoistableStyles,y=d.get(n);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,y),(d=f.querySelector(Ja(n)))&&!d._p&&(y.instance=d,y.state.loading=5),_n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},_n.set(n,a),d||ME(f,n,a,y.state))),i&&l===null)throw Error(r(528,""));return y}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ir(a),a=Js(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Rr(n){return'href="'+fn(n)+'"'}function Ja(n){return'link[rel="stylesheet"]['+n+"]"}function j0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function ME(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Mt(i,"link",a),bt(i),n.head.appendChild(i))}function Ir(n){return'[src="'+fn(n)+'"]'}function $a(n){return"script[async]"+n}function z0(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),bt(l),Mt(l,"style",f),lc(l,a.precedence,n),i.instance=l;case"stylesheet":f=Rr(a.href);var d=n.querySelector(Ja(f));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=j0(a),(f=_n.get(f))&&Gd(l,f),d=(n.ownerDocument||n).createElement("link"),bt(d);var y=d;return y._p=new Promise(function(x,C){y.onload=x,y.onerror=C}),Mt(d,"link",l),i.state.loading|=4,lc(d,a.precedence,n),i.instance=d;case"script":return d=Ir(a.src),(f=n.querySelector($a(d)))?(i.instance=f,bt(f),f):(l=a,(f=_n.get(d))&&(l=v({},a),Wd(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),bt(f),Mt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lc(l,a.precedence,n));return i.instance}function lc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var x=l[y];if(x.dataset.precedence===i)d=x;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Gd(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Wd(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var cc=null;function P0(n,i,a){if(cc===null){var l=new Map,f=cc=new Map;f.set(a,l)}else f=cc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[pa]||d[Tt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=n+y;var x=l.get(y);x?x.push(d):l.set(y,[d])}}return l}function V0(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function NE(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function RE(n,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Rr(l.href),d=i.querySelector(Ja(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=uc.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=j0(l),(f=_n.get(f))&&Gd(l,f),d=d.createElement("link"),bt(d);var y=d;y._p=new Promise(function(x,C){y.onload=x,y.onerror=C}),Mt(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=uc.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var Fd=0;function IE(n,i){return n.stylesheets&&n.count===0&&dc(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&dc(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+i);0<n.imgBytes&&Fd===0&&(Fd=62500*fE());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&dc(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Fd?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var fc=null;function dc(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,fc=new Map,i.forEach(DE,n),fc=null,uc.call(n))}function DE(n,i){if(!(i.state.loading&4)){var a=fc.get(n);if(a)var l=a.get(null);else{a=new Map,fc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}f=i.instance,y=f.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,f),a.set(y,f),this.count++,l=uc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var eo={$$typeof:q,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function OE(n,i,a,l,f,d,y,x,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vu(0),this.hiddenUpdates=Vu(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function q0(n,i,a,l,f,d,y,x,C,j,F,X){return n=new OE(n,i,a,y,C,j,F,X,x),i=1,d===!0&&(i|=24),d=en(3,null,null,i),n.current=d,d.stateNode=n,i=Cf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Nf(d),n}function H0(n){return n?(n=lr,n):lr}function G0(n,i,a,l,f,d){f=H0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ai(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mi(n,l,i),a!==null&&(Yt(a,n,i),Da(a,n,i))}function W0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Yd(n,i){W0(n,i),(n=n.alternate)&&W0(n,i)}function F0(n){if(n.tag===13||n.tag===31){var i=hs(n,67108864);i!==null&&Yt(i,n,67108864),Yd(n,67108864)}}function Y0(n){if(n.tag===13||n.tag===31){var i=an();i=Uu(i);var a=hs(n,i);a!==null&&Yt(a,n,i),Yd(n,i)}}var hc=!0;function kE(n,i,a,l){var f=V.T;V.T=null;var d=K.p;try{K.p=2,Qd(n,i,a,l)}finally{K.p=d,V.T=f}}function LE(n,i,a,l){var f=V.T;V.T=null;var d=K.p;try{K.p=8,Qd(n,i,a,l)}finally{K.p=d,V.T=f}}function Qd(n,i,a,l){if(hc){var f=Kd(l);if(f===null)kd(n,i,l,mc,a),K0(n,l);else if(jE(f,n,i,a,l))l.stopPropagation();else if(K0(n,l),i&4&&-1<BE.indexOf(n)){for(;f!==null;){var d=Zs(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ls(d.pendingLanes);if(y!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;y;){var C=1<<31-Jt(y);x.entanglements[1]|=C,y&=~C}Vn(d),(Be&6)===0&&(Xl=Xt()+500,Qa(0))}}break;case 31:case 13:x=hs(d,2),x!==null&&Yt(x,d,2),Jl(),Yd(d,2)}if(d=Kd(l),d===null&&kd(n,i,l,mc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else kd(n,i,l,null,a)}}function Kd(n){return n=Xu(n),Xd(n)}var mc=null;function Xd(n){if(mc=null,n=Xs(n),n!==null){var i=c(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===31){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return mc=n,null}function Q0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xT()){case ng:return 2;case ig:return 8;case il:case ST:return 32;case sg:return 268435456;default:return 32}default:return 32}}var Zd=!1,Pi=null,Vi=null,Ui=null,to=new Map,no=new Map,qi=[],BE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K0(n,i){switch(n){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":to.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(i.pointerId)}}function io(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Zs(i),i!==null&&F0(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function jE(n,i,a,l,f){switch(i){case"focusin":return Pi=io(Pi,n,i,a,l,f),!0;case"dragenter":return Vi=io(Vi,n,i,a,l,f),!0;case"mouseover":return Ui=io(Ui,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return to.set(d,io(to.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,no.set(d,io(no.get(d)||null,n,i,a,l,f)),!0}return!1}function X0(n){var i=Xs(n.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,ug(n.priority,function(){Y0(a)});return}}else if(i===31){if(i=h(a),i!==null){n.blockedOn=i,ug(n.priority,function(){Y0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Kd(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Ku=l,a.target.dispatchEvent(l),Ku=null}else return i=Zs(a),i!==null&&F0(i),n.blockedOn=a,!1;i.shift()}return!0}function Z0(n,i,a){pc(n)&&a.delete(i)}function zE(){Zd=!1,Pi!==null&&pc(Pi)&&(Pi=null),Vi!==null&&pc(Vi)&&(Vi=null),Ui!==null&&pc(Ui)&&(Ui=null),to.forEach(Z0),no.forEach(Z0)}function gc(n,i){n.blockedOn===i&&(n.blockedOn=null,Zd||(Zd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zE)))}var yc=null;function J0(n){yc!==n&&(yc=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yc===n&&(yc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Xd(l||a)===null)continue;break}var d=Zs(a);d!==null&&(n.splice(i,3),i-=3,Kf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Dr(n){function i(C){return gc(C,n)}Pi!==null&&gc(Pi,n),Vi!==null&&gc(Vi,n),Ui!==null&&gc(Ui,n),to.forEach(i),no.forEach(i);for(var a=0;a<qi.length;a++){var l=qi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<qi.length&&(a=qi[0],a.blockedOn===null);)X0(a),a.blockedOn===null&&qi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],y=f[Ut]||null;if(typeof d=="function")y||J0(a);else if(y){var x=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[Ut]||null)x=y.formAction;else if(Xd(f)!==null)continue}else x=y.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),J0(a)}}}function $0(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Jd(n){this._internalRoot=n}vc.prototype.render=Jd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=an();G0(a,l,n,i,null,null)},vc.prototype.unmount=Jd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;G0(n.current,2,null,n,null,null),Jl(),i[Ks]=null}};function vc(n){this._internalRoot=n}vc.prototype.unstable_scheduleHydration=function(n){if(n){var i=cg();n={blockedOn:null,target:n,priority:i};for(var a=0;a<qi.length&&i!==0&&i<qi[a].priority;a++);qi.splice(a,0,n),a===0&&X0(n)}};var e_=e.version;if(e_!=="19.2.4")throw Error(r(527,e_,"19.2.4"));K.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var PE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{da=_c.inject(PE),Zt=_c}catch{}}return ro.createRoot=function(n,i){if(!o(n))throw Error(r(299));var a=!1,l="",f=ov,d=lv,y=cv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=q0(n,1,!1,null,null,a,l,null,f,d,y,$0),n[Ks]=i.current,Od(n),new Jd(i)},ro.hydrateRoot=function(n,i,a){if(!o(n))throw Error(r(299));var l=!1,f="",d=ov,y=lv,x=cv,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=q0(n,1,!0,i,a??null,l,f,C,d,y,x,$0),i.context=H0(null),a=i.current,l=an(),l=Uu(l),f=Ai(l),f.callback=null,Mi(a,f,l),a=l,i.current.lanes=a,ma(i,a),Vn(i),n[Ks]=i.current,Od(n),new vc(i)},ro.version="19.2.4",ro}var u_;function KE(){if(u_)return th.exports;u_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),th.exports=QE(),th.exports}var XE=KE();const Ki=[0,1,2,3,4,5,6,7,15,23,31,39,47,55,63,62,61,60,59,58,57,56,48,40,32,24,16,8,9,10,11,12,13,14,22,30,38,46,54,53,52,51,50,49,41,33,25,17],Mn=Ki.length-1,Nn=["film","science","general","history"],k1={film:"Film & TV",science:"Science & Technology",general:"General Knowledge",history:"History & Arts"},Dn={1:"#ef4444",2:"#3b82f6",3:"#eab308",4:"#f715e8"},ZE=["#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6","#8b5cf6","#ec4899","#f43f5e","#14b8a6","#a855f7","#84cc16"],JE={film:"text-cat-film",science:"text-cat-science",general:"text-cat-general",history:"text-cat-history"},$E={film:"bg-cat-film",science:"bg-cat-science",general:"bg-cat-general",history:"bg-cat-history"},mo=new Set([10,20,30,40]),rh=30,Vh=new Set([5,15,25,35,45]),ah=30,ao=500,Gi="notculture_roomCode",Wi="notculture_playerId",Or="notculture_playerName",Es="notculture_teamId",As="notculture_teamName",jr=8,eA=jr*jr,L1={questionsLoaded:!1,questions:[],players:[{id:1,name:"Player 1",position:0,color:Dn[1]},{id:2,name:"Player 2",position:0,color:Dn[2]}],localPlayers:[],maxPlayers:4,minPlayers:1,currentPlayerIndex:0,activeQuestion:null,pendingMove:0,pendingCategory:null,isTurnLocked:!1,usedQuestionIds:new Set,debugMode:!1,gameMode:"local",showWinModal:!1,showQuestionModal:!1,showCultureModal:!1,showNotModal:!1,showEditor:!1,showSettings:!1,showWelcome:!0,answerResult:null,cultureTimerStartedAt:null,cultureScore:null,notTimerStartedAt:null,notScore:null,currentNotCard:null,isTeamMode:!1,currentAnswererId:null,currentDescriberId:null,activeTeamId:null,cultureQuestionIndex:null};function f_(t){const e=[...t];for(let s=e.length-1;s>0;s--){const r=Math.floor(Math.random()*(s+1));[e[s],e[r]]=[e[r],e[s]]}return e}function tA(t,e){switch(e.type){case"ADD_PLAYER":{if(t.players.length>=t.maxPlayers)return t;const s=t.players.length+1;return{...t,players:[...t.players,{id:s,name:`Player ${s}`,position:0,color:Dn[s]}]}}case"REMOVE_PLAYER":{if(t.players.length<=t.minPlayers)return t;const s=t.players.slice(0,-1);return{...t,players:s,currentPlayerIndex:t.currentPlayerIndex>=s.length?0:t.currentPlayerIndex}}case"RENAME_PLAYER":return{...t,players:t.players.map(s=>s.id===e.playerId?{...s,name:e.name}:s)};case"ADVANCE_TURN":return{...t,currentPlayerIndex:(t.currentPlayerIndex+1)%t.players.length};case"LOCK_TURN":return{...t,isTurnLocked:!0};case"UNLOCK_TURN":return{...t,isTurnLocked:!1,activeQuestion:null,pendingMove:0,pendingCategory:null};case"SET_ACTIVE_QUESTION":return{...t,activeQuestion:e.question,pendingMove:e.roll,showQuestionModal:!0};case"CLEAR_QUESTION":return{...t,activeQuestion:null,pendingMove:0,showQuestionModal:!1,answerResult:null};case"SET_ANSWER_RESULT":return{...t,answerResult:e.result};case"MOVE_PLAYER":return{...t,players:t.players.map(s=>{if(s.id!==e.playerId)return s;const r=Math.min(s.position+e.steps,Mn);return{...s,position:r}})};case"SET_PLAYER_POSITION":return{...t,players:t.players.map(s=>s.id===e.playerId?{...s,position:e.position}:s)};case"MARK_QUESTION_USED":{const s=new Set(t.usedQuestionIds);return s.add(e.questionId),{...t,usedQuestionIds:s}}case"CLEAR_USED_QUESTIONS":{const s=new Set(t.usedQuestionIds);return e.questionIds.forEach(r=>s.delete(r)),{...t,usedQuestionIds:s}}case"SET_PLAYER_COLOR":return{...t,players:t.players.map(s=>s.id===e.playerId?{...s,color:e.color}:s)};case"TOGGLE_DEBUG":return{...t,debugMode:!t.debugMode};case"SET_GAME_MODE":{const s={activeQuestion:null,pendingMove:0,pendingCategory:null,isTurnLocked:!1,answerResult:null,showWinModal:!1,showQuestionModal:!1,showCultureModal:!1,showNotModal:!1,cultureTimerStartedAt:null,cultureScore:null,notTimerStartedAt:null,notScore:null,currentNotCard:null};if(e.mode==="online")return{...t,...s,gameMode:"online",localPlayers:t.players,players:[]};const r=[{id:1,name:"Player 1",position:0,color:Dn[1]},{id:2,name:"Player 2",position:0,color:Dn[2]}],o=t.localPlayers.length>0?t.localPlayers:t.players.length>0?t.players:r;return{...t,...s,gameMode:"local",players:o,localPlayers:[],currentPlayerIndex:Math.min(t.currentPlayerIndex,o.length-1)}}case"RESET_GAME":return{...t,questions:f_([...t.questions]),players:t.players.map(s=>({...s,position:0})),localPlayers:[],currentPlayerIndex:0,activeQuestion:null,pendingMove:0,pendingCategory:null,isTurnLocked:!1,usedQuestionIds:new Set,showWinModal:!1,showQuestionModal:!1,showCultureModal:!1,showNotModal:!1,cultureTimerStartedAt:null,cultureScore:null,notTimerStartedAt:null,notScore:null,currentNotCard:null,currentAnswererId:null,currentDescriberId:null};case"SET_QUESTIONS":return{...t,questions:f_(e.questions),questionsLoaded:!0};case"SHOW_WIN_MODAL":return{...t,showWinModal:e.show};case"SHOW_QUESTION_MODAL":return{...t,showQuestionModal:e.show};case"SHOW_CULTURE_MODAL":return e.show?{...t,showCultureModal:!0}:{...t,showCultureModal:!1,cultureTimerStartedAt:null,cultureScore:null,cultureQuestionIndex:null};case"SET_CULTURE_TIMER_START":return{...t,cultureTimerStartedAt:e.startedAt};case"SET_CULTURE_SCORE":return{...t,cultureScore:e.score};case"SHOW_NOT_MODAL":return e.show?{...t,showNotModal:!0}:{...t,showNotModal:!1,notTimerStartedAt:null,notScore:null,currentNotCard:null};case"SET_NOT_TIMER_START":return{...t,notTimerStartedAt:e.startedAt};case"SET_NOT_SCORE":return{...t,notScore:e.score};case"SET_NOT_CARD":return{...t,currentNotCard:e.card};case"SHOW_EDITOR":return{...t,showEditor:e.show};case"SHOW_SETTINGS":return{...t,showSettings:e.show};case"DISMISS_WELCOME":return{...t,showWelcome:!1};case"SET_TEAM_MODE":return{...t,isTeamMode:e.value};case"SET_ANSWERER_IDS":return{...t,currentAnswererId:e.answererId,currentDescriberId:e.describerId};case"SET_ACTIVE_TEAM":return{...t,activeTeamId:e.teamId};case"SET_CULTURE_QUESTION_INDEX":return{...t,cultureQuestionIndex:e.index};case"SET_PENDING_CATEGORY":return{...t,pendingCategory:e.category};case"SYNC_ONLINE_STATE":{const s=e.currentPlayerIndex!==t.currentPlayerIndex;return{...t,players:e.players.map(r=>{const o=t.players.find(c=>c.id===r.id);return o&&r.position<o.position?{...r,position:o.position}:r}),currentPlayerIndex:e.currentPlayerIndex,isTurnLocked:s?!1:t.isTurnLocked}}default:return t}}const B1=A.createContext(L1),j1=A.createContext(()=>{});function nA({children:t}){const[e,s]=A.useReducer(tA,L1);return b.jsx(B1.Provider,{value:e,children:b.jsx(j1.Provider,{value:s,children:t})})}function Dt(){return A.useContext(B1)}function ln(){return A.useContext(j1)}const z1={roomCode:null,playerId:null,playerName:null,teamId:null,teamName:null},P1=A.createContext({identity:z1,setIdentity:()=>{}});function iA({children:t}){const[e,s]=A.useState(z1);return b.jsx(P1.Provider,{value:{identity:e,setIdentity:s},children:t})}function qs(){return A.useContext(P1)}function sA(){const t=Dt(),e=ln();return{getQuestion:A.useCallback((r,o)=>{const c=t.questions.filter(p=>p.category===r&&p.difficulty===o);if(c.length===0)return null;const u=c.filter(p=>!t.usedQuestionIds.has(p.id));let h=u;u.length===0&&(e({type:"CLEAR_USED_QUESTIONS",questionIds:c.map(p=>p.id)}),h=c);const m=h[0];return e({type:"MARK_QUESTION_USED",questionId:m.id}),m},[t.questions,t.usedQuestionIds,e])}}const V1=A.createContext(null),oh="notculture-sound";function rA({children:t}){const[e,s]=A.useState(()=>{try{const h=localStorage.getItem(oh);if(h)return JSON.parse(h).volume??.8}catch{}return .8}),[r,o]=A.useState(()=>{try{const h=localStorage.getItem(oh);if(h)return JSON.parse(h).muted??!1}catch{}return!1});A.useEffect(()=>{try{localStorage.setItem(oh,JSON.stringify({volume:e,muted:r}))}catch{}},[e,r]);const c=h=>s(Math.max(0,Math.min(1,h))),u=h=>o(h);return b.jsx(V1.Provider,{value:{volume:e,muted:r,setVolume:c,setMuted:u},children:t})}function U1(){const t=A.useContext(V1);if(!t)throw new Error("useSoundSettings must be used within SoundProvider");return t}const bc="/notculture-board-game/",xc={dice:`${bc}assets/sounds/dice.mp3`,move:`${bc}assets/sounds/move.mp3`,correct:`${bc}assets/sounds/correct.mp3`,wrong:`${bc}assets/sounds/wrong.mp3`},aA={dice:1,move:1,correct:1,wrong:.6};function Sc(t){const e=new Audio(t);return e.preload="auto",e.load(),e}function Ho(){const{volume:t,muted:e}=U1(),s=A.useRef(null),r=A.useRef(null),o=A.useRef(t),c=A.useRef(e);A.useEffect(()=>{o.current=t,c.current=e},[t,e]),s.current||(s.current={dice:Sc(xc.dice),move:Sc(xc.move),correct:Sc(xc.correct),wrong:Sc(xc.wrong)});const u=A.useCallback(m=>{if(c.current)return;const p=s.current?.[m];p&&(p.currentTime=0,p.volume=o.current*aA[m],p.play().catch(()=>{}))},[]),h=A.useCallback(()=>{if(!c.current)try{if(!r.current){const q=window.AudioContext??window.webkitAudioContext;r.current=new q}const m=r.current,p=m.currentTime,g=o.current,v=m.createOscillator(),_=m.createGain();v.connect(_),_.connect(m.destination),v.type="triangle",v.frequency.setValueAtTime(550,p),v.frequency.exponentialRampToValueAtTime(120,p+.04),_.gain.setValueAtTime(.45*g,p),_.gain.exponentialRampToValueAtTime(.001,p+.04),v.start(p),v.stop(p+.04);const S=Math.ceil(m.sampleRate*.018),T=m.createBuffer(1,S,m.sampleRate),M=T.getChannelData(0);for(let q=0;q<S;q++)M[q]=Math.random()*2-1;const R=m.createBufferSource();R.buffer=T;const D=m.createBiquadFilter();D.type="bandpass",D.frequency.value=1800,D.Q.value=2;const G=m.createGain();R.connect(D),D.connect(G),G.connect(m.destination),G.gain.setValueAtTime(.18*g,p),G.gain.exponentialRampToValueAtTime(.001,p+.018),R.start(p),R.stop(p+.018)}catch{}},[]);return{playSound:u,playTick:h}}const lh=[{id:"not-001",answers:["Umbrella","Astronaut","Birthday cake","Traffic light","Earthquake","Penguin"]},{id:"not-002",answers:["Eiffel Tower","Sneezing","Submarine","Rainbow","Dentist","Scissors"]},{id:"not-003",answers:["Escalator","Flamingo","Telescope","Firefighter","Sandcastle","Compass"]},{id:"not-004",answers:["Magnifying glass","Airport","Chameleon","Juggling","Quicksand","Lighthouse"]},{id:"not-005",answers:["Octopus","Museum","Alarm clock","Tightrope walker","Volcano","Vacuum cleaner"]},{id:"not-006",answers:["Giraffe","Desert island","Tornado","Magician","Parachute","Ladder"]},{id:"not-007",answers:["Binoculars","Skydiving","Igloo","Surgeon","Avalanche","Sunglasses"]},{id:"not-008",answers:["Thermometer","Librarian","Treehouse","Surfing","Waterfall","Narwhal"]},{id:"not-009",answers:["Pilot","Knitting","Pyramid","Sloth","Boomerang","Fog"]},{id:"not-010",answers:["Clown","Kite","Jungle","Swimming","Platypus","Candle"]},{id:"not-011",answers:["Lifeguard","Roller skates","Yoga","Football stadium","Meerkat","Mirror"]},{id:"not-012",answers:["Archaeologist","Fishing","Hot air balloon","Capybara","Lawnmower","Thunderstorm"]},{id:"not-013",answers:["Beekeeper","Cycling","Ski slope","Axolotl","Suitcase","Eclipse"]},{id:"not-014",answers:["Mountaineer","Boxing","Northern lights","Pangolin","Backpack","Tsunami"]},{id:"not-015",answers:["Referee","Photography","Underwater cave","Rock climbing","Pillow","Torch"]},{id:"not-016",answers:["Chef","Hiking","Bucket","Dancing","Kangaroo","Glacier"]},{id:"not-017",answers:["Whispering","Trampoline","Crocodile","Scarecrow","Diving board","Hammock"]},{id:"not-018",answers:["Jellyfish","Windmill","Paintbrush","Seesaw","Cactus","Stethoscope"]},{id:"not-019",answers:["Wheelbarrow","Cathedral","Puppet","Accordion","Sundial","Kayak"]},{id:"not-020",answers:["Tractor","Snowglobe","Fencing","Beehive","Porcupine","Periscope"]},{id:"not-021",answers:["Abacus","Archery","Castle","Gondola","Anvil","Skipping rope"]},{id:"not-022",answers:["Typewriter","Pole vault","Moat","Hang glider","Lantern","Hopscotch"]},{id:"not-023",answers:["Gramophone","Hurdles","Drawbridge","Blimp","Slingshot","Pedalo"]},{id:"not-024",answers:["Hourglass","Javelin","Trebuchet","Hovercraft","Catapult","Wrestling"]},{id:"not-025",answers:["Rickshaw","Paraglider","Snowmobile","Bellows","Guillotine","Pogo stick"]},{id:"not-026",answers:["Trapeze","Unicycle","Megaphone","Portcullis","Spinning top","Maze"]},{id:"not-027",answers:["Tobogganing","Bagpipes","Stilts","Treadmill","Catamaran","Mudslide"]},{id:"not-028",answers:["Hot spring","Gyroscope","Kaleidoscope","Croquet","Warthog","Paddleboat"]},{id:"not-029",answers:["Mirage","Somersaulting","Mongoose","Glowworm","Paddling pool","Bellboy"]},{id:"not-030",answers:["Sombrero","Didgeridoo","Cartwheel","Iguana","Quicklime","Lasso"]}],Uh=JSON.parse(`[{"id":"culture-001","question":"Name the Top 10 highest-grossing films starring Christian Bale","answers":["The Dark Knight Rises","The Dark Knight","Thor: Love and Thunder","Batman Begins","American Hustle","Ford v Ferrari","The Big Short","The Fighter","Vice","Exodus: Gods and Kings"]},{"id":"culture-002","question":"Name the Top 10 best-selling video game franchises of all time","answers":["Mario","Tetris","Call of Duty","Pokmon","FIFA / EA Sports FC","Grand Theft Auto","Minecraft","The Sims","Madden NFL","Need for Speed"]},{"id":"culture-003","question":"Name the Top 10 most-streamed artists on Spotify of all time (as of 2023)","answers":["Ed Sheeran","Drake","The Weeknd","Bad Bunny","Taylor Swift","Justin Bieber","Ariana Grande","Rihanna","Eminem","BTS"]},{"id":"culture-004","question":"Name the Top 10 highest-grossing movie franchises of all time","answers":["Marvel Cinematic Universe","Star Wars","Harry Potter / Wizarding World","James Bond","The Lord of the Rings / The Hobbit","X-Men","Fast & Furious","Transformers","Batman","Spider-Man"]},{"id":"culture-005","question":"Name the Top 10 most-watched TV shows on Netflix of all time (as of 2025)","answers":["Squid Game (Season 1)","Wednesday","Stranger Things (Season 4)","The Night Agent","Ginny & Georgia (Season 2)","The Glory","Outer Banks (Season 3)","Squid Game (Season 2)","You (Season 4)","Bridgerton (Season 3)"]},{"id":"culture-006","question":"Name the Top 10 best-selling albums of all time","answers":["Thriller  Michael Jackson","Back in Black  AC/DC","The Dark Side of the Moon  Pink Floyd","Bat Out of Hell  Meat Loaf","Their Greatest Hits  Eagles","Rumours  Fleetwood Mac","Come On Over  Shania Twain","Led Zeppelin IV  Led Zeppelin","The Bodyguard  Soundtrack","Falling into You  Celine Dion"]},{"id":"culture-007","question":"Name the Top 10 highest-paid athletes in the world in 2024","answers":["Cristiano Ronaldo","Jon Rahm","Lionel Messi","LeBron James","Lamar Jackson","Giannis Antetokounmpo","Canelo lvarez","Stephen Curry","Roger Federer","Novak Djokovic"]},{"id":"culture-008","question":"Name the Top 10 most-followed accounts on Instagram (as of 2023)","answers":["Instagram","Cristiano Ronaldo","Lionel Messi","Selena Gomez","Kylie Jenner","Dwayne Johnson","Ariana Grande","Kim Kardashian","Beyonc","Khlo Kardashian"]},{"id":"culture-009","question":"Name the Top 10 highest-rated IMDb TV shows of all time (as of 2023)","answers":["Breaking Bad","Planet Earth II","Band of Brothers","Chernobyl","Our Planet","Game of Thrones (Season 4)","The Wire","Avatar: The Last Airbender","The Sopranos","Sherlock"]},{"id":"culture-010","question":"Name the Top 10 best-selling books of all time","answers":["Don Quixote","A Tale of Two Cities","The Lord of the Rings","The Little Prince","Harry Potter and the Philosopher's Stone","And Then There Were None","Dream of the Red Chamber","The Hobbit","She: A History of Adventure","The Lion, the Witch and the Wardrobe"]},{"id":"culture-011","question":"Name the Top 10 highest-grossing films of all time","answers":["Avatar (2009)","Avengers: Endgame","Avatar: The Way of Water","Titanic","Star Wars: The Force Awakens","Avengers: Infinity War","Spider-Man: No Way Home","Inside Out 2","Jurassic World","The Lion King (2019)"]},{"id":"culture-012","question":"Name the Top 10 most-streamed songs on Spotify of all time (as of 2023)","answers":["Blinding Lights  The Weeknd","Shape of You  Ed Sheeran","Someone You Loved  Lewis Capaldi","Dance Monkey  Tones and I","Sunflower  Post Malone & Swae Lee","One Dance  Drake","Stay  The Kid LAROI & Justin Bieber","Believer  Imagine Dragons","Rockstar  Post Malone ft. 21 Savage","Closer  The Chainsmokers ft. Halsey"]},{"id":"culture-013","question":"Name the Top 10 most-visited countries in the world","answers":["France","Spain","United States","Turkey","Italy","Mexico","United Kingdom","Germany","Greece","Austria"]},{"id":"culture-014","question":"Name the Top 10 largest countries in the world by area","answers":["Russia","Canada","United States","China","Brazil","Australia","India","Argentina","Kazakhstan","Algeria"]},{"id":"culture-015","question":"Name the Top 10 highest-rated films on IMDb of all time","answers":["The Shawshank Redemption","The Godfather","The Dark Knight","The Godfather Part II","12 Angry Men","Schindler's List","The Lord of the Rings: The Return of the King","Pulp Fiction","The Lord of the Rings: The Two Towers","The Good, the Bad and the Ugly"]},{"id":"culture-016","question":"Name the Top 10 best-selling music artists of all time","answers":["The Beatles","Elvis Presley","Michael Jackson","Madonna","Elton John","Led Zeppelin","Pink Floyd","Celine Dion","AC/DC","Whitney Houston"]},{"id":"culture-017","question":"Name the Top 10 most-watched YouTube videos of all time (as of 2023)","answers":["Baby Shark Dance  Pinkfong","Despacito  Luis Fonsi","Johny Johny Yes Papa  LooLoo Kids","Shape of You  Ed Sheeran","See You Again  Wiz Khalifa","Phonics Song with Two Ants  ChuChu TV","Uptown Funk  Mark Ronson","Gangnam Style  PSY","Bath Song  Cocomelon","Learning Colors  Miroshka TV"]},{"id":"culture-018","question":"Name the Top 10 richest people in the world (Forbes, 2024)","answers":["Elon Musk","Jeff Bezos","Mark Zuckerberg","Larry Ellison","Bill Gates","Warren Buffett","Larry Page","Sergey Brin","Steve Ballmer","Jensen Huang"]},{"id":"culture-019","question":"Name the Top 10 most populous cities in the world","answers":["Tokyo","Delhi","Shanghai","Dhaka","So Paulo","Mexico City","Cairo","Beijing","Mumbai","Kinshasa"]},{"id":"culture-020","question":"Name the Top 10 most popular sports in the world by fan following","answers":["Football / Soccer","Cricket","Basketball","Field Hockey","Tennis","Volleyball","Table Tennis","Baseball","Rugby","Golf"]},{"id":"culture-021","question":"Name the Top 10 highest-grossing animated films of all time","answers":["Inside Out 2","The Lion King (2019)","Frozen II","The Super Mario Bros. Movie","Incredibles 2","Minions","Toy Story 4","Toy Story 3","Finding Dory","Zootopia"]},{"id":"culture-022","question":"Name the 10 most recent Oscar Best Picture winners","answers":["Anora (2025)","Oppenheimer (2024)","Everything Everywhere All at Once (2023)","CODA (2022)","Nomadland (2021)","Parasite (2020)","Green Book (2019)","The Shape of Water (2018)","Moonlight (2017)","Spotlight (2016)"]},{"id":"culture-023","question":"Name the Top 10 best-selling video games of all time","answers":["Minecraft","Grand Theft Auto V","Tetris (Mobile)","Wii Sports","PUBG: Battlegrounds","Mario Kart 8 Deluxe","Red Dead Redemption 2","Terraria","Super Mario Bros (NES)","Animal Crossing: New Horizons"]},{"id":"culture-024","question":"Name the Top 10 most popular dog breeds in the US (AKC 2023)","answers":["French Bulldog","Labrador Retriever","Golden Retriever","German Shepherd","Bulldog","Poodle","Beagle","Rottweiler","German Shorthaired Pointer","Dachshund"]},{"id":"culture-025","question":"Name the Top 10 most-downloaded apps of all time","answers":["Facebook","WhatsApp","Instagram","Messenger","TikTok","YouTube","Snapchat","Telegram","Twitter / X","Spotify"]},{"id":"culture-026","question":"Name the Top 10 countries with the most Olympic gold medals of all time","answers":["United States","Soviet Union","Great Britain","China","Germany","France","Australia","Italy","Hungary","Sweden"]},{"id":"culture-027","question":"Name the Top 10 highest-earning musicians of 2023","answers":["Taylor Swift","Bad Bunny","Morgan Wallen","Drake","Elton John","Ed Sheeran","The Weeknd","Beyonc","Coldplay","Bruce Springsteen"]},{"id":"culture-028","question":"Name the Top 10 most-watched Netflix original films of all time","answers":["Glass Onion: A Knives Out Mystery","Red Notice","Don't Look Up","Bird Box","The Gray Man","Extraction","Army of the Dead","Murder Mystery","Extraction 2","The Mother"]},{"id":"culture-029","question":"Name the Top 10 highest-paid actors in Hollywood (2023)","answers":["Tom Cruise","Adam Sandler","Leonardo DiCaprio","Dwayne Johnson","Mark Wahlberg","Ryan Reynolds","Vin Diesel","Brad Pitt","Ben Affleck","Will Smith"]},{"id":"culture-030","question":"Name the Top 10 countries with the most FIFA World Cup appearances","answers":["Brazil","Germany","Italy","Argentina","Mexico","Spain","France","England","Uruguay","Sweden"]}]`),oA=()=>{};var d_={};const q1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const te=function(t,e){if(!t)throw ta(e)},ta=function(t){return new Error("Firebase Database ("+q1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const H1=function(t){const e=[];let s=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},lA=function(t){const e=[];let s=0,r=0;for(;s<t.length;){const o=t[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[s++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[s++],u=t[s++],h=t[s++],m=((o&7)<<18|(c&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const c=t[s++],u=t[s++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},Lm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const c=t[o],u=o+1<t.length,h=u?t[o+1]:0,m=o+2<t.length,p=m?t[o+2]:0,g=c>>2,v=(c&3)<<4|h>>4;let _=(h&15)<<2|p>>6,S=p&63;m||(S=64,u||(_=64)),r.push(s[g],s[v],s[_],s[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const c=s[t.charAt(o++)],h=o<t.length?s[t.charAt(o)]:0;++o;const p=o<t.length?s[t.charAt(o)]:64;++o;const v=o<t.length?s[t.charAt(o)]:64;if(++o,c==null||h==null||p==null||v==null)throw new cA;const _=c<<2|h>>4;if(r.push(_),p!==64){const S=h<<4&240|p>>2;if(r.push(S),v!==64){const T=p<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(t){const e=H1(t);return Lm.encodeByteArray(e,!0)},qc=function(t){return G1(t).replace(/\./g,"")},qh=function(t){try{return Lm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uA(t){return W1(void 0,t)}function W1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!fA(s)||(t[s]=W1(t[s],e[s]));return t}function fA(t){return t!=="__proto__"}function dA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hA=()=>dA().__FIREBASE_DEFAULTS__,mA=()=>{if(typeof process>"u"||typeof d_>"u")return;const t=d_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qh(t[1]);return e&&JSON.parse(e)},F1=()=>{try{return oA()||hA()||mA()||pA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gA=t=>F1()?.emulatorHosts?.[t],yA=t=>{const e=gA(t);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},Y1=()=>F1()?.config;class na{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}function Bm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vA(t){return(await fetch(t,{credentials:"include"})).ok}function _A(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qc(JSON.stringify(s)),qc(JSON.stringify(u)),""].join(".")}const go={};function bA(){const t={prod:[],emulator:[]};for(const e of Object.keys(go))go[e]?t.emulator.push(e):t.prod.push(e);return t}function xA(t){let e=document.getElementById(t),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),s=!0),{created:s,element:e}}let h_=!1;function SA(t,e){if(typeof window>"u"||typeof document>"u"||!Bm(window.location.host)||go[t]===e||go[t]||h_)return;go[t]=e;function s(_){return`__firebase__banner__${_}`}const r="__firebase__banner",c=bA().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{h_=!0,u()},_}function g(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=xA(r),S=s("text"),T=document.getElementById(S)||document.createElement("span"),M=s("learnmore"),R=document.getElementById(M)||document.createElement("a"),D=s("preprendIcon"),G=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const q=_.element;h(q),g(R,M);const k=p();m(G,D),q.append(G,T,R,k),document.body.appendChild(q)}c?(T.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function wA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wA())}function TA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CA(){return q1.NODE_ADMIN===!0}function EA(){try{return typeof indexedDB=="object"}catch{return!1}}function AA(){return new Promise((t,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(s){e(s)}})}const MA="FirebaseError";class Go extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=MA,Object.setPrototypeOf(this,Go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K1.prototype.create)}}class K1{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?NA(c,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Go(o,h,r)}}function NA(t,e){return t.replace(RA,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const RA=/\{\$([^}]+)}/g;function Mo(t){return JSON.parse(t)}function _t(t){return JSON.stringify(t)}const X1=function(t){let e={},s={},r={},o="";try{const c=t.split(".");e=Mo(qh(c[0])||""),s=Mo(qh(c[1])||""),o=c[2],r=s.d||{},delete s.d}catch{}return{header:e,claims:s,data:r,signature:o}},IA=function(t){const e=X1(t),s=e.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},DA=function(t){const e=X1(t).claims;return typeof e=="object"&&e.admin===!0};function Bn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function js(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function m_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hc(t,e,s){const r={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=e.call(s,t[o],o,t));return r}function Gc(t,e){if(t===e)return!0;const s=Object.keys(t),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const c=t[o],u=e[o];if(p_(c)&&p_(u)){if(!Gc(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function p_(t){return t!==null&&typeof t=="object"}function OA(t){const e=[];for(const[s,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class kA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,s){s||(s=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(let v=0;v<16;v++)r[v]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(let v=16;v<80;v++){const _=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],u=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,g;for(let v=0;v<80;v++){v<40?v<20?(p=h^c&(u^h),g=1518500249):(p=c^u^h,g=1859775393):v<60?(p=c&u|h&(c|u),g=2400959708):(p=c^u^h,g=3395469782);const _=(o<<5|o>>>27)+p+m+g+r[v]&4294967295;m=h,h=u,u=(c<<30|c>>>2)&4294967295,c=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,s){if(e==null)return;s===void 0&&(s=e.length);const r=s-this.blockSize;let o=0;const c=this.buf_;let u=this.inbuf_;for(;o<s;){if(u===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<s;)if(c[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(c),u=0;break}}else for(;o<s;)if(c[u]=e[o],++u,++o,u===this.blockSize){this.compress_(c),u=0;break}}this.inbuf_=u,this.total_+=s}digest(){const e=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[o]>>c&255,++r;return e}}function pu(t,e){return`${t} failed: ${e} argument `}const LA=function(t){const e=[];let s=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,te(r<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(r)-56320;o=65536+(c<<10)+u}o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):o<65536?(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},gu=function(t){let e=0;for(let s=0;s<t.length;s++){const r=t.charCodeAt(s);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,s++):e+=3}return e};function Hs(t){return t&&t._delegate?t._delegate:t}class No{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Rs="[DEFAULT]";class BA{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new na;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zA(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[c,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&u.resolve(o)}return o}onInit(e,s){const r=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jA(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(t){return t===Rs?void 0:t}function zA(t){return t.instantiationMode==="EAGER"}class PA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new BA(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const VA={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},UA=Ke.INFO,qA={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},HA=(t,e,...s)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=qA[e];if(o)console[o](`[${r}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Z1{constructor(e){this.name=e,this._logLevel=UA,this._logHandler=HA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const GA=(t,e)=>e.some(s=>t instanceof s);let g_,y_;function WA(){return g_||(g_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J1=new WeakMap,Hh=new WeakMap,$1=new WeakMap,ch=new WeakMap,jm=new WeakMap;function YA(t){const e=new Promise((s,r)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",u)},c=()=>{s(Ji(t.result)),o()},u=()=>{r(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",u)});return e.then(s=>{s instanceof IDBCursor&&J1.set(s,t)}).catch(()=>{}),jm.set(e,t),e}function QA(t){if(Hh.has(t))return;const e=new Promise((s,r)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",u),t.removeEventListener("abort",u)},c=()=>{s(),o()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",u),t.addEventListener("abort",u)});Hh.set(t,e)}let Gh={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return Hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$1.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ji(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KA(t){Gh=t(Gh)}function XA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=t.call(uh(this),e,...s);return $1.set(r,e.sort?e.sort():[e]),Ji(r)}:FA().includes(t)?function(...e){return t.apply(uh(this),e),Ji(J1.get(this))}:function(...e){return Ji(t.apply(uh(this),e))}}function ZA(t){return typeof t=="function"?XA(t):(t instanceof IDBTransaction&&QA(t),GA(t,WA())?new Proxy(t,Gh):t)}function Ji(t){if(t instanceof IDBRequest)return YA(t);if(ch.has(t))return ch.get(t);const e=ZA(t);return e!==t&&(ch.set(t,e),jm.set(e,t)),e}const uh=t=>jm.get(t);function JA(t,e,{blocked:s,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(t,e),h=Ji(u);return r&&u.addEventListener("upgradeneeded",m=>{r(Ji(u.result),m.oldVersion,m.newVersion,Ji(u.transaction),m)}),s&&u.addEventListener("blocked",m=>s(m.oldVersion,m.newVersion,m)),h.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const $A=["get","getKey","getAll","getAllKeys","count"],eM=["put","add","delete","clear"],fh=new Map;function v_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fh.get(e))return fh.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=eM.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||$A.includes(s)))return;const c=async function(u,...h){const m=this.transaction(u,o?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[s](...h),o&&m.done]))[0]};return fh.set(e,c),c}KA(t=>({...t,get:(e,s,r)=>v_(e,s)||t.get(e,s,r),has:(e,s)=>!!v_(e,s)||t.has(e,s)}));class tM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(nM(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function nM(t){return t.getComponent()?.type==="VERSION"}const Wh="@firebase/app",__="0.14.8";const mi=new Z1("@firebase/app"),iM="@firebase/app-compat",sM="@firebase/analytics-compat",rM="@firebase/analytics",aM="@firebase/app-check-compat",oM="@firebase/app-check",lM="@firebase/auth",cM="@firebase/auth-compat",uM="@firebase/database",fM="@firebase/data-connect",dM="@firebase/database-compat",hM="@firebase/functions",mM="@firebase/functions-compat",pM="@firebase/installations",gM="@firebase/installations-compat",yM="@firebase/messaging",vM="@firebase/messaging-compat",_M="@firebase/performance",bM="@firebase/performance-compat",xM="@firebase/remote-config",SM="@firebase/remote-config-compat",wM="@firebase/storage",TM="@firebase/storage-compat",CM="@firebase/firestore",EM="@firebase/ai",AM="@firebase/firestore-compat",MM="firebase",NM="12.9.0";const Fh="[DEFAULT]",RM={[Wh]:"fire-core",[iM]:"fire-core-compat",[rM]:"fire-analytics",[sM]:"fire-analytics-compat",[oM]:"fire-app-check",[aM]:"fire-app-check-compat",[lM]:"fire-auth",[cM]:"fire-auth-compat",[uM]:"fire-rtdb",[fM]:"fire-data-connect",[dM]:"fire-rtdb-compat",[hM]:"fire-fn",[mM]:"fire-fn-compat",[pM]:"fire-iid",[gM]:"fire-iid-compat",[yM]:"fire-fcm",[vM]:"fire-fcm-compat",[_M]:"fire-perf",[bM]:"fire-perf-compat",[xM]:"fire-rc",[SM]:"fire-rc-compat",[wM]:"fire-gcs",[TM]:"fire-gcs-compat",[CM]:"fire-fst",[AM]:"fire-fst-compat",[EM]:"fire-vertex","fire-js":"fire-js",[MM]:"fire-js-all"};const Wc=new Map,IM=new Map,Yh=new Map;function b_(t,e){try{t.container.addComponent(e)}catch(s){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function Fc(t){const e=t.name;if(Yh.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Yh.set(e,t);for(const s of Wc.values())b_(s,t);for(const s of IM.values())b_(s,t);return!0}function DM(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function OM(t){return t==null?!1:t.settings!==void 0}const kM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new K1("app","Firebase",kM);class LM{constructor(e,s,r){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new No("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}const BM=NM;function ex(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const r={name:Fh,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(s||(s=Y1()),!s)throw $i.create("no-options");const c=Wc.get(o);if(c){if(Gc(s,c.options)&&Gc(r,c.config))return c;throw $i.create("duplicate-app",{appName:o})}const u=new PA(o);for(const m of Yh.values())u.addComponent(m);const h=new LM(s,r,u);return Wc.set(o,h),h}function jM(t=Fh){const e=Wc.get(t);if(!e&&t===Fh&&Y1())return ex();if(!e)throw $i.create("no-app",{appName:t});return e}function Gr(t,e,s){let r=RM[t]??t;s&&(r+=`-${s}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(u.join(" "));return}Fc(new No(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const zM="firebase-heartbeat-database",PM=1,Ro="firebase-heartbeat-store";let dh=null;function tx(){return dh||(dh=JA(zM,PM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ro)}catch(s){console.warn(s)}}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),dh}async function VM(t){try{const s=(await tx()).transaction(Ro),r=await s.objectStore(Ro).get(nx(t));return await s.done,r}catch(e){if(e instanceof Go)mi.warn(e.message);else{const s=$i.create("idb-get",{originalErrorMessage:e?.message});mi.warn(s.message)}}}async function x_(t,e){try{const r=(await tx()).transaction(Ro,"readwrite");await r.objectStore(Ro).put(e,nx(t)),await r.done}catch(s){if(s instanceof Go)mi.warn(s.message);else{const r=$i.create("idb-set",{originalErrorMessage:s?.message});mi.warn(r.message)}}}function nx(t){return`${t.name}!${t.options.appId}`}const UM=1024,qM=30;class HM{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new WM(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=S_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>qM){const o=FM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=S_(),{heartbeatsToSend:s,unsentEntries:r}=GM(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mi.warn(e),""}}}function S_(){return new Date().toISOString().substring(0,10)}function GM(t,e=UM){const s=[];let r=t.slice();for(const o of t){const c=s.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),w_(s)>e){c.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),w_(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class WM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EA()?AA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await VM(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function w_(t){return qc(JSON.stringify({version:2,heartbeats:t})).length}function FM(t){if(t.length===0)return-1;let e=0,s=t[0].date;for(let r=1;r<t.length;r++)t[r].date<s&&(s=t[r].date,e=r);return e}function YM(t){Fc(new No("platform-logger",e=>new tM(e),"PRIVATE")),Fc(new No("heartbeat",e=>new HM(e),"PRIVATE")),Gr(Wh,__,t),Gr(Wh,__,"esm2020"),Gr("fire-js","")}YM("");var T_={};const C_="@firebase/database",E_="1.1.0";let ix="";function QM(t){ix=t}class KM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,s){s==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_t(s))}get(e){const s=this.domStorage_.getItem(this.prefixedName_(e));return s==null?null:Mo(s)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class XM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,s){s==null?delete this.cache_[e]:this.cache_[e]=s}get(e){return Bn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const sx=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new KM(e)}}catch{}return new XM},Os=sx("localStorage"),ZM=sx("sessionStorage");const Wr=new Z1("@firebase/database"),rx=(function(){let t=1;return function(){return t++}})(),ax=function(t){const e=LA(t),s=new kA;s.update(e);const r=s.digest();return Lm.encodeByteArray(r)},Wo=function(...t){let e="";for(let s=0;s<t.length;s++){const r=t[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Wo.apply(null,r):typeof r=="object"?e+=_t(r):e+=r,e+=" "}return e};let yo=null,A_=!0;const JM=function(t,e){te(!0,"Can't turn on custom loggers persistently."),Wr.logLevel=Ke.VERBOSE,yo=Wr.log.bind(Wr)},Rt=function(...t){if(A_===!0&&(A_=!1,yo===null&&ZM.get("logging_enabled")===!0&&JM()),yo){const e=Wo.apply(null,t);yo(e)}},Fo=function(t){return function(...e){Rt(t,...e)}},Qh=function(...t){const e="FIREBASE INTERNAL ERROR: "+Wo(...t);Wr.error(e)},pi=function(...t){const e=`FIREBASE FATAL ERROR: ${Wo(...t)}`;throw Wr.error(e),new Error(e)},Vt=function(...t){const e="FIREBASE WARNING: "+Wo(...t);Wr.warn(e)},$M=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},eN=function(t){if(document.readyState==="complete")t();else{let e=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Qr="[MIN_NAME]",zs="[MAX_NAME]",Gs=function(t,e){if(t===e)return 0;if(t===Qr||e===zs)return-1;if(e===Qr||t===zs)return 1;{const s=M_(t),r=M_(e);return s!==null?r!==null?s-r===0?t.length-e.length:s-r:-1:r!==null?1:t<e?-1:1}},tN=function(t,e){return t===e?0:t<e?-1:1},oo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_t(e))},Pm=function(t){if(typeof t!="object"||t===null)return _t(t);const e=[];for(const r in t)e.push(r);e.sort();let s="{";for(let r=0;r<e.length;r++)r!==0&&(s+=","),s+=_t(e[r]),s+=":",s+=Pm(t[e[r]]);return s+="}",s},ox=function(t,e){const s=t.length;if(s<=e)return[t];const r=[];for(let o=0;o<s;o+=e)o+e>s?r.push(t.substring(o,s)):r.push(t.substring(o,o+e));return r};function It(t,e){for(const s in t)t.hasOwnProperty(s)&&e(s,t[s])}const lx=function(t){te(!zm(t),"Invalid JSON number");const e=11,s=52,r=(1<<e-1)-1;let o,c,u,h,m;t===0?(c=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),r),c=h+r,u=Math.round(t*Math.pow(2,s-h)-Math.pow(2,s))):(c=0,u=Math.round(t/Math.pow(2,1-r-s))));const p=[];for(m=s;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(m=e;m;m-=1)p.push(c%2?1:0),c=Math.floor(c/2);p.push(o?1:0),p.reverse();const g=p.join("");let v="";for(m=0;m<64;m+=8){let _=parseInt(g.substr(m,8),2).toString(16);_.length===1&&(_="0"+_),v=v+_}return v.toLowerCase()},nN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},iN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sN(t,e){let s="Unknown Error";t==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?s="Client doesn't have permission to access the desired data.":t==="unavailable"&&(s="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+s);return r.code=t.toUpperCase(),r}const rN=new RegExp("^-?(0*)\\d{1,10}$"),aN=-2147483648,oN=2147483647,M_=function(t){if(rN.test(t)){const e=Number(t);if(e>=aN&&e<=oN)return e}return null},ia=function(t){try{t()}catch(e){setTimeout(()=>{const s=e.stack||"";throw Vt("Exception was thrown by user callback.",s),e},Math.floor(0))}},lN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vo=function(t,e){const s=setTimeout(t,e);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};class cN{constructor(e,s){this.appCheckProvider=s,this.appName=e.name,OM(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uN{constructor(e,s,r){this.appName_=e,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(s=>s&&s.code==="auth/token-not-initialized"?(Rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(s=>s.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(s=>s.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class kc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}kc.OWNER="owner";const Vm="5",cx="v",ux="s",fx="r",dx="f",hx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mx="ls",px="p",Kh="ac",gx="websocket",yx="long_polling";class vx{constructor(e,s,r,o,c=!1,u="",h=!1,m=!1,p=null){this.secure=s,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Os.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Os.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${s}`}}function fN(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function _x(t,e,s){te(typeof e=="string","typeof type must == string"),te(typeof s=="object","typeof params must == object");let r;if(e===gx)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===yx)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fN(t)&&(s.ns=t.namespace);const o=[];return It(s,(c,u)=>{o.push(c+"="+u)}),r+o.join("&")}class dN{constructor(){this.counters_={}}incrementCounter(e,s=1){Bn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=s}get(){return uA(this.counters_)}}const hh={},mh={};function Um(t){const e=t.toString();return hh[e]||(hh[e]=new dN),hh[e]}function hN(t,e){const s=t.toString();return mh[s]||(mh[s]=e()),mh[s]}class mN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,s){this.closeAfterResponse=e,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,s){for(this.pendingResponses[e]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&ia(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const N_="start",pN="close",gN="pLPCommand",yN="pRTLPCB",bx="id",xx="pw",Sx="ser",vN="cb",_N="seg",bN="ts",xN="d",SN="dframe",wx=1870,Tx=30,wN=wx-Tx,TN=25e3,CN=3e4;class zr{constructor(e,s,r,o,c,u,h){this.connId=e,this.repoInfo=s,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fo(e),this.stats_=Um(s),this.urlFn=m=>(this.appCheckToken&&(m[Kh]=this.appCheckToken),_x(s,yx,m))}open(e,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new mN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(CN)),eN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qm((...c)=>{const[u,h,m,p,g]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===N_)this.id=h,this.password=m;else if(u===pN)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...c)=>{const[u,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[N_]="t",r[Sx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[vN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[cx]=Vm,this.transportSessionId&&(r[ux]=this.transportSessionId),this.lastSessionId&&(r[mx]=this.lastSessionId),this.applicationId&&(r[px]=this.applicationId),this.appCheckToken&&(r[Kh]=this.appCheckToken),typeof location<"u"&&location.hostname&&hx.test(location.hostname)&&(r[fx]=dx);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zr.forceAllow_=!0}static forceDisallow(){zr.forceDisallow_=!0}static isAvailable(){return zr.forceAllow_?!0:!zr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nN()&&!iN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const s=_t(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=G1(s),o=ox(r,wN);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[SN]="t",r[bx]=e,r[xx]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const s=_t(e).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class qm{constructor(e,s,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rx(),window[gN+this.uniqueCallbackIdentifier]=e,window[yN+this.uniqueCallbackIdentifier]=s,this.myIFrame=qm.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Rt("frame writing exception"),h.stack&&Rt(h.stack),Rt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Rt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,s){for(this.myID=e,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[bx]=this.myID,e[xx]=this.myPW,e[Sx]=this.currentSerial;let s=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Tx+r.length<=wx;){const u=this.pendingSegs.shift();r=r+"&"+_N+o+"="+u.seg+"&"+bN+o+"="+u.ts+"&"+xN+o+"="+u.d,o++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(e,s,r){this.pendingSegs.push({seg:e,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(r,Math.floor(TN)),c=()=>{clearTimeout(o),r()};this.addTag(e,c)}addTag(e,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{Rt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const EN=16384,AN=45e3;let Yc=null;typeof MozWebSocket<"u"?Yc=MozWebSocket:typeof WebSocket<"u"&&(Yc=WebSocket);class Rn{constructor(e,s,r,o,c,u,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fo(this.connId),this.stats_=Um(s),this.connURL=Rn.connectionURL_(s,u,h,o,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,r,o,c){const u={};return u[cx]=Vm,typeof location<"u"&&location.hostname&&hx.test(location.hostname)&&(u[fx]=dx),s&&(u[ux]=s),r&&(u[mx]=r),o&&(u[Kh]=o),c&&(u[px]=c),_x(e,gx,u)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Os.set("previous_websocket_failure",!0);try{let r;CA(),this.mySock=new Yc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Rn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Yc!==null&&!Rn.forceDisallow_}static previouslyFailed(){return Os.isInMemoryStorage||Os.get("previous_websocket_failure")===!0}markConnectionHealthy(){Os.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=Mo(s);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const s=_t(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=ox(s,EN);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(AN))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rn.responsesRequiredToBeHealthy=2;Rn.healthyTimeout=3e4;class Io{static get ALL_TRANSPORTS(){return[zr,Rn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const s=Rn&&Rn.isAvailable();let r=s&&!Rn.previouslyFailed();if(e.webSocketOnly&&(s||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rn];else{const o=this.transports_=[];for(const c of Io.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Io.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Io.globalTransportInitialized_=!1;const MN=6e4,NN=5e3,RN=10*1024,IN=100*1024,ph="t",R_="d",DN="s",I_="r",ON="e",D_="o",O_="a",k_="n",L_="p",kN="h";class LN{constructor(e,s,r,o,c,u,h,m,p,g){this.id=e,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fo("c:"+this.id+":"),this.transportManager_=new Io(s),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=vo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>IN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>RN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return s=>{e===this.conn_?this.onConnectionLost_(s):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return s=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(s):e===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(e){const s={t:"d",d:e};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ph in e){const s=e[ph];s===O_?this.upgradeIfSecondaryHealthy_():s===I_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===D_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const s=oo("t",e),r=oo("d",e);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:L_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:O_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:k_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const s=oo("t",e),r=oo("d",e);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const s=oo(ph,e);if(R_ in e){const r=e[R_];if(s===kN){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===k_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===DN?this.onConnectionShutdown_(r):s===I_?this.onReset_(r):s===ON?Qh("Server Error: "+r):s===D_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qh("Unknown control packet command: "+s)}}onHandshake_(e){const s=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Vm!==r&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),vo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(MN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,s){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(NN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:L_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Os.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Cx{put(e,s,r,o){}merge(e,s,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,s,r){}onDisconnectMerge(e,s,r){}onDisconnectCancel(e,s){}reportStats(e){}}class Ex{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...s){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,s)}}on(e,s,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:s,context:r});const o=this.getInitialEvent(e);o&&s.apply(r,o)}off(e,s,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===s&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(e){te(this.allowedEvents_.find(s=>s===e),"Unknown event: "+e)}}class Qc extends Ex{static getInstance(){return new Qc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Q1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const B_=32,j_=768;class We{constructor(e,s){if(s===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=s}toString(){let e="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(e+="/"+this.pieces_[s]);return e||"/"}}function Le(){return new We("")}function xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ns(t){return t.pieces_.length-t.pieceNum_}function Xe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new We(t.pieces_,e)}function Hm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function BN(t){let e="";for(let s=t.pieceNum_;s<t.pieces_.length;s++)t.pieces_[s]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[s])));return e||"/"}function Do(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ax(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let s=t.pieceNum_;s<t.pieces_.length-1;s++)e.push(t.pieces_[s]);return new We(e,0)}function ot(t,e){const s=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)s.push(t.pieces_[r]);if(e instanceof We)for(let r=e.pieceNum_;r<e.pieces_.length;r++)s.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&s.push(r[o])}return new We(s,0)}function Ce(t){return t.pieceNum_>=t.pieces_.length}function jt(t,e){const s=xe(t),r=xe(e);if(s===null)return e;if(s===r)return jt(Xe(t),Xe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function jN(t,e){const s=Do(t,0),r=Do(e,0);for(let o=0;o<s.length&&o<r.length;o++){const c=Gs(s[o],r[o]);if(c!==0)return c}return s.length===r.length?0:s.length<r.length?-1:1}function Gm(t,e){if(ns(t)!==ns(e))return!1;for(let s=t.pieceNum_,r=e.pieceNum_;s<=t.pieces_.length;s++,r++)if(t.pieces_[s]!==e.pieces_[r])return!1;return!0}function bn(t,e){let s=t.pieceNum_,r=e.pieceNum_;if(ns(t)>ns(e))return!1;for(;s<t.pieces_.length;){if(t.pieces_[s]!==e.pieces_[r])return!1;++s,++r}return!0}class zN{constructor(e,s){this.errorPrefix_=s,this.parts_=Do(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gu(this.parts_[r]);Mx(this)}}function PN(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=gu(e),Mx(t)}function VN(t){const e=t.parts_.pop();t.byteLength_-=gu(e),t.parts_.length>0&&(t.byteLength_-=1)}function Mx(t){if(t.byteLength_>j_)throw new Error(t.errorPrefix_+"has a key path longer than "+j_+" bytes ("+t.byteLength_+").");if(t.parts_.length>B_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+B_+") or object contains a cycle "+Is(t))}function Is(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}class Wm extends Ex{static getInstance(){return new Wm}constructor(){super(["visible"]);let e,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}const lo=1e3,UN=300*1e3,z_=30*1e3,qN=1.3,HN=3e4,GN="server_kill",P_=3;class hi extends Cx{constructor(e,s,r,o,c,u,h,m){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=hi.nextPersistentConnectionId_++,this.log_=Fo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=lo,this.maxReconnectDelay_=UN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,r){const o=++this.requestNumber_,c={r:o,a:e,b:s};this.log_(_t(c)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const s=new na,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?s.resolve(h):s.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),s.promise}listen(e,s,r,o){this.initConnection_();const c=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+c),this.listens.has(u)||this.listens.set(u,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(u).has(c),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:s,query:e,tag:r};this.listens.get(u).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(e){const s=e.query,r=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},u="q";e.tag&&(c.q=s._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(u,c,h=>{const m=h.d,p=h.s;hi.warnOnListenWarnings_(m,s),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,s){if(e&&typeof e=="object"&&Bn(e,"w")){const r=js(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',c=s._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||DA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=z_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=IA(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,o=>{const c=o.s,u=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,r=e.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(e,s){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,s)}sendUnlisten_(e,s,r,o){this.log_("Unlisten on "+e+" for "+s);const c={p:e},u="n";o&&(c.q=r,c.t=o),this.sendRequest(u,c)}onDisconnectPut(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:r})}onDisconnectMerge(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:r})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,r,o){const c={p:s,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,s,r,o){this.putInternal("p",e,s,r,o)}merge(e,s,r,o){this.putInternal("m",e,s,r,o)}putInternal(e,s,r,o,c){this.initConnection_();const u={p:s,d:r};c!==void 0&&(u.h=c),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,r,c=>{this.log_(s+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+_t(e));const s=e.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),e==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):e==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):e==="c"?this.onListenRevoked_(s.p,s.q):e==="ac"?this.onAuthRevoked_(s.s,s.d):e==="apc"?this.onAppCheckRevoked_(s.s,s.d):e==="sd"?this.onSecurityDebugPacket_(s):Qh("Unrecognized action received from server: "+_t(e)+`
Are you using the latest client?`)}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=lo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>HN&&(this.reconnectDelay_=lo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+hi.nextConnectionId_++,c=this.lastSessionId;let u=!1,h=null;const m=function(){h?h.close():(u=!0,r())},p=function(v){te(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:m,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?Rt("getToken() completed but was canceled"):(Rt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=_&&_.token,h=new LN(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,s,r,S=>{Vt(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(GN)},c))}catch(v){this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&Vt(v),m())}}}interrupt(e){Rt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Rt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],m_(this.interruptReasons_)&&(this.reconnectDelay_=lo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let r;s?r=s.map(c=>Pm(c)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,s){const r=new We(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(s),c.delete(s),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,s){Rt("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=P_&&(this.reconnectDelay_=z_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Rt("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=P_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";e["sdk."+s+"."+ix.replace(/\./g,"-")]=1,Q1()?e["framework.cordova"]=1:TA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qc.getInstance().currentlyOnline();return m_(this.interruptReasons_)&&e}}hi.nextPersistentConnectionId_=0;hi.nextConnectionId_=0;class Se{constructor(e,s){this.name=e,this.node=s}static Wrap(e,s){return new Se(e,s)}}class yu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,s){const r=new Se(Qr,e),o=new Se(Qr,s);return this.compare(r,o)!==0}minPost(){return Se.MIN}}let wc;class Nx extends yu{static get __EMPTY_NODE(){return wc}static set __EMPTY_NODE(e){wc=e}compare(e,s){return Gs(e.name,s.name)}isDefinedOn(e){throw ta("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,s){return!1}minPost(){return Se.MIN}maxPost(){return new Se(zs,wc)}makePost(e,s){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new Se(e,wc)}toString(){return".key"}}const Fr=new Nx;class Tc{constructor(e,s,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=s?r(e.key,s):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(e.key,e.value):s={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class wt{constructor(e,s,r,o,c){this.key=e,this.value=s,this.color=r??wt.RED,this.left=o??Qt.EMPTY_NODE,this.right=c??Qt.EMPTY_NODE}copy(e,s,r,o,c){return new wt(e??this.key,s??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const c=r(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,s,r),null):c===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let r,o;if(r=this,s(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(e,r.key)===0){if(r.right.isEmpty())return Qt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}wt.RED=!0;wt.BLACK=!1;class WN{copy(e,s,r,o,c){return this}insert(e,s,r){return new wt(e,s,null)}remove(e,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qt{constructor(e,s=Qt.EMPTY_NODE){this.comparator_=e,this.root_=s}insert(e,s){return new Qt(this.comparator_,this.root_.insert(e,s,this.comparator_).copy(null,null,wt.BLACK,null,null))}remove(e){return new Qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,wt.BLACK,null,null))}get(e){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(e,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(e){let s,r=this.root_,o=null;for(;!r.isEmpty();)if(s=this.comparator_(e,r.key),s===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,s){return new Tc(this.root_,e,this.comparator_,!1,s)}getReverseIteratorFrom(e,s){return new Tc(this.root_,e,this.comparator_,!0,s)}getReverseIterator(e){return new Tc(this.root_,null,this.comparator_,!0,e)}}Qt.EMPTY_NODE=new WN;function FN(t,e){return Gs(t.name,e.name)}function Fm(t,e){return Gs(t,e)}let Xh;function YN(t){Xh=t}const Rx=function(t){return typeof t=="number"?"number:"+lx(t):"string:"+t},Ix=function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Bn(e,".sv"),"Priority must be a string or number.")}else te(t===Xh||t.isEmpty(),"priority of unexpected type.");te(t===Xh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let V_;class St{static set __childrenNodeConstructor(e){V_=e}static get __childrenNodeConstructor(){return V_}constructor(e,s=St.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ix(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new St(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:St.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ce(e)?this:xe(e)===".priority"?this.priorityNode_:St.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return e===".priority"?this.updatePriority(s):s.isEmpty()&&e!==".priority"?this:St.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const r=xe(e);return r===null?s:s.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||ns(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,St.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xe(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Rx(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",s==="number"?e+=lx(this.value_):e+=this.value_,this.lazyHash_=ax(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===St.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof St.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,r=typeof this.value_,o=St.VALUE_TYPE_ORDER.indexOf(s),c=St.VALUE_TYPE_ORDER.indexOf(r);return te(o>=0,"Unknown leaf type: "+s),te(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}St.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Dx,Ox;function QN(t){Dx=t}function KN(t){Ox=t}class XN extends yu{compare(e,s){const r=e.node.getPriority(),o=s.node.getPriority(),c=r.compareTo(o);return c===0?Gs(e.name,s.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,s){return!e.getPriority().equals(s.getPriority())}minPost(){return Se.MIN}maxPost(){return new Se(zs,new St("[PRIORITY-POST]",Ox))}makePost(e,s){const r=Dx(e);return new Se(s,new St("[PRIORITY-POST]",r))}toString(){return".priority"}}const it=new XN;const ZN=Math.log(2);class JN{constructor(e){const s=c=>parseInt(Math.log(c)/ZN,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=s(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Kc=function(t,e,s,r){t.sort(e);const o=function(m,p){const g=p-m;let v,_;if(g===0)return null;if(g===1)return v=t[m],_=s?s(v):v,new wt(_,v.node,wt.BLACK,null,null);{const S=parseInt(g/2,10)+m,T=o(m,S),M=o(S+1,p);return v=t[S],_=s?s(v):v,new wt(_,v.node,wt.BLACK,T,M)}},c=function(m){let p=null,g=null,v=t.length;const _=function(T,M){const R=v-T,D=v;v-=T;const G=o(R+1,D),q=t[R],k=s?s(q):q;S(new wt(k,q.node,M,null,G))},S=function(T){p?(p.left=T,p=T):(g=T,p=T)};for(let T=0;T<m.count;++T){const M=m.nextBitIsOne(),R=Math.pow(2,m.count-(T+1));M?_(R,wt.BLACK):(_(R,wt.BLACK),_(R,wt.RED))}return g},u=new JN(t.length),h=c(u);return new Qt(r||e,h)};let gh;const kr={};class di{static get Default(){return te(kr&&it,"ChildrenNode.ts has not been loaded"),gh=gh||new di({".priority":kr},{".priority":it}),gh}constructor(e,s){this.indexes_=e,this.indexSet_=s}get(e){const s=js(this.indexes_,e);if(!s)throw new Error("No index defined for "+e);return s instanceof Qt?s:null}hasIndex(e){return Bn(this.indexSet_,e.toString())}addIndex(e,s){te(e!==Fr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=s.getIterator(Se.Wrap);let u=c.getNext();for(;u;)o=o||e.isDefinedOn(u.node),r.push(u),u=c.getNext();let h;o?h=Kc(r,e.getCompare()):h=kr;const m=e.toString(),p={...this.indexSet_};p[m]=e;const g={...this.indexes_};return g[m]=h,new di(g,p)}addToIndexes(e,s){const r=Hc(this.indexes_,(o,c)=>{const u=js(this.indexSet_,c);if(te(u,"Missing index implementation for "+c),o===kr)if(u.isDefinedOn(e.node)){const h=[],m=s.getIterator(Se.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),Kc(h,u.getCompare())}else return kr;else{const h=s.get(e.name);let m=o;return h&&(m=m.remove(new Se(e.name,h))),m.insert(e,e.node)}});return new di(r,this.indexSet_)}removeFromIndexes(e,s){const r=Hc(this.indexes_,o=>{if(o===kr)return o;{const c=s.get(e.name);return c?o.remove(new Se(e.name,c)):o}});return new di(r,this.indexSet_)}}let co;class me{static get EMPTY_NODE(){return co||(co=new me(new Qt(Fm),null,di.Default))}constructor(e,s,r){this.children_=e,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ix(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||co}updatePriority(e){return this.children_.isEmpty()?this:new me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const s=this.children_.get(e);return s===null?co:s}}getChild(e){const s=xe(e);return s===null?this:this.getImmediateChild(s).getChild(Xe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,s){if(te(s,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(s);{const r=new Se(e,s);let o,c;s.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,s),c=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?co:this.priorityNode_;return new me(o,u,c)}}updateChild(e,s){const r=xe(e);if(r===null)return s;{te(xe(e)!==".priority"||ns(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Xe(e),s);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let r=0,o=0,c=!0;if(this.forEachChild(it,(u,h)=>{s[u]=h.val(e),r++,c&&me.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):c=!1}),!e&&c&&o<2*r){const u=[];for(const h in s)u[h]=s[h];return u}else return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Rx(this.getPriority().val())+":"),this.forEachChild(it,(s,r)=>{const o=r.hash();o!==""&&(e+=":"+s+":"+o)}),this.lazyHash_=e===""?"":ax(e)}return this.lazyHash_}getPredecessorChildName(e,s,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new Se(e,s));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Se(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Se(s,this.children_.get(s)):null}forEachChild(e,s){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Se.Wrap);let c=o.peek();for(;c!=null&&s.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Se.Wrap);let c=o.peek();for(;c!=null&&s.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yo?-1:0}withIndex(e){if(e===Fr||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new me(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Fr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(it),o=s.getIterator(it);let c=r.getNext(),u=o.getNext();for(;c&&u;){if(c.name!==u.name||!c.node.equals(u.node))return!1;c=r.getNext(),u=o.getNext()}return c===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Fr?null:this.indexMap_.get(e.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $N extends me{constructor(){super(new Qt(Fm),me.EMPTY_NODE,di.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}}const Yo=new $N;Object.defineProperties(Se,{MIN:{value:new Se(Qr,me.EMPTY_NODE)},MAX:{value:new Se(zs,Yo)}});Nx.__EMPTY_NODE=me.EMPTY_NODE;St.__childrenNodeConstructor=me;YN(Yo);KN(Yo);const eR=!0;function pt(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const s=t;return new St(s,pt(e))}if(!(t instanceof Array)&&eR){const s=[];let r=!1;if(It(t,(u,h)=>{if(u.substring(0,1)!=="."){const m=pt(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),s.push(new Se(u,m)))}}),s.length===0)return me.EMPTY_NODE;const c=Kc(s,FN,u=>u.name,Fm);if(r){const u=Kc(s,it.getCompare());return new me(c,pt(e),new di({".priority":u},{".priority":it}))}else return new me(c,pt(e),di.Default)}else{let s=me.EMPTY_NODE;return It(t,(r,o)=>{if(Bn(t,r)&&r.substring(0,1)!=="."){const c=pt(o);(c.isLeafNode()||!c.isEmpty())&&(s=s.updateImmediateChild(r,c))}}),s.updatePriority(pt(e))}}QN(pt);class tR extends yu{constructor(e){super(),this.indexPath_=e,te(!Ce(e)&&xe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,s){const r=this.extractChild(e.node),o=this.extractChild(s.node),c=r.compareTo(o);return c===0?Gs(e.name,s.name):c}makePost(e,s){const r=pt(e),o=me.EMPTY_NODE.updateChild(this.indexPath_,r);return new Se(s,o)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,Yo);return new Se(zs,e)}toString(){return Do(this.indexPath_,0).join("/")}}class nR extends yu{compare(e,s){const r=e.node.compareTo(s.node);return r===0?Gs(e.name,s.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,s){return!e.equals(s)}minPost(){return Se.MIN}maxPost(){return Se.MAX}makePost(e,s){const r=pt(e);return new Se(s,r)}toString(){return".value"}}const iR=new nR;function kx(t){return{type:"value",snapshotNode:t}}function Kr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Oo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ko(t,e,s){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:s}}function sR(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}class Ym{constructor(e){this.index_=e}updateChild(e,s,r,o,c,u){te(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(s);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(u!=null&&(r.isEmpty()?e.hasChild(s)?u.trackChildChange(Oo(s,h)):te(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(Kr(s,r)):u.trackChildChange(ko(s,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(e,s,r){return r!=null&&(e.isLeafNode()||e.forEachChild(it,(o,c)=>{s.hasChild(o)||r.trackChildChange(Oo(o,c))}),s.isLeafNode()||s.forEachChild(it,(o,c)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(c)||r.trackChildChange(ko(o,c,u))}else r.trackChildChange(Kr(o,c))})),s.withIndex(this.index_)}updatePriority(e,s){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Lo{constructor(e){this.indexedFilter_=new Ym(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Lo.getStartPost_(e),this.endPost_=Lo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return s&&r}updateChild(e,s,r,o,c,u){return this.matches(new Se(s,r))||(r=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,s,r,o,c,u)}updateFullNode(e,s,r){s.isLeafNode()&&(s=me.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(me.EMPTY_NODE);const c=this;return s.forEachChild(it,(u,h)=>{c.matches(new Se(u,h))||(o=o.updateImmediateChild(u,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const s=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),s)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const s=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),s)}else return e.getIndex().maxPost()}}class rR{constructor(e){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Lo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,s,r,o,c,u){return this.rangedFilter_.matches(new Se(s,r))||(r=me.EMPTY_NODE),e.getImmediateChild(s).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,s,r,o,c,u):this.fullLimitUpdateChild_(e,s,r,c,u)}updateFullNode(e,s,r){let o;if(s.isLeafNode()||s.isEmpty())o=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=me.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;c.hasNext()&&u<this.limit_;){const h=c.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(me.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let u=0;for(;c.hasNext();){const h=c.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:o=o.updateImmediateChild(h.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,s,r,o,c){let u;if(this.reverse_){const v=this.index_.getCompare();u=(_,S)=>v(S,_)}else u=this.index_.getCompare();const h=e;te(h.numChildren()===this.limit_,"");const m=new Se(s,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),g=this.rangedFilter_.matches(m);if(h.hasChild(s)){const v=h.getImmediateChild(s);let _=o.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===s||h.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const S=_==null?1:u(_,m);if(g&&!r.isEmpty()&&S>=0)return c?.trackChildChange(ko(s,r,v)),h.updateImmediateChild(s,r);{c?.trackChildChange(Oo(s,v));const M=h.updateImmediateChild(s,me.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(c?.trackChildChange(Kr(_.name,_.node)),M.updateImmediateChild(_.name,_.node)):M}}else return r.isEmpty()?e:g&&u(p,m)>=0?(c!=null&&(c.trackChildChange(Oo(p.name,p.node)),c.trackChildChange(Kr(s,r))),h.updateImmediateChild(s,r).updateImmediateChild(p.name,me.EMPTY_NODE)):e}}class Qm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=it}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qr}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===it}copy(){const e=new Qm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aR(t){return t.loadsAllData()?new Ym(t.getIndex()):t.hasLimit()?new rR(t):new Lo(t)}function U_(t){const e={};if(t.isDefault())return e;let s;if(t.index_===it?s="$priority":t.index_===iR?s="$value":t.index_===Fr?s="$key":(te(t.index_ instanceof tR,"Unrecognized index type!"),s=t.index_.toString()),e.orderBy=_t(s),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=_t(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+_t(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=_t(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+_t(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function q_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let s=t.viewFrom_;s===""&&(t.isViewFromLeft()?s="l":s="r"),e.vf=s}return t.index_!==it&&(e.i=t.index_.toString()),e}class Xc extends Cx{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,s){return s!==void 0?"tag$"+s:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,s,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Fo("p:rest:"),this.listens_={}}listen(e,s,r,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const u=Xc.getListenId_(e,r),h={};this.listens_[u]=h;const m=U_(e._queryParams);this.restRequest_(c+".json",m,(p,g)=>{let v=g;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(c,v,!1,r),js(this.listens_,u)===h){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",o(_,null)}})}unlisten(e,s){const r=Xc.getListenId_(e,s);delete this.listens_[r]}get(e){const s=U_(e._queryParams),r=e._path.toString(),o=new na;return this.restRequest_(r+".json",s,(c,u)=>{let h=u;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(s.auth=o.accessToken),c&&c.token&&(s.ac=c.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+OA(s);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=Mo(h.responseText)}catch{Vt("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,m)}else h.status!==401&&h.status!==404&&Vt("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}class oR{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,s){this.rootNode_=this.rootNode_.updateChild(e,s)}}function Zc(){return{value:null,children:new Map}}function Lx(t,e,s){if(Ce(e))t.value=s,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,s);else{const r=xe(e);t.children.has(r)||t.children.set(r,Zc());const o=t.children.get(r);e=Xe(e),Lx(o,e,s)}}function Zh(t,e,s){t.value!==null?s(e,t.value):lR(t,(r,o)=>{const c=new We(e.toString()+"/"+r);Zh(o,c,s)})}function lR(t,e){t.children.forEach((s,r)=>{e(r,s)})}class cR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),s={...e};return this.last_&&It(this.last_,(r,o)=>{s[r]=s[r]-o}),this.last_=e,s}}const H_=10*1e3,uR=30*1e3,fR=300*1e3;class dR{constructor(e,s){this.server_=s,this.statsToReport_={},this.statsListener_=new cR(e);const r=H_+(uR-H_)*Math.random();vo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),s={};let r=!1;It(e,(o,c)=>{c>0&&Bn(this.statsToReport_,o)&&(s[o]=c,r=!0)}),r&&this.server_.reportStats(s),vo(this.reportStats_.bind(this),Math.floor(Math.random()*2*fR))}}var In;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(In||(In={}));function Km(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Zm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Jc{constructor(e,s,r){this.path=e,this.affectedTree=s,this.revert=r,this.type=In.ACK_USER_WRITE,this.source=Km()}operationForChild(e){if(Ce(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new We(e));return new Jc(Le(),s,this.revert)}}else return te(xe(this.path)===e,"operationForChild called for unrelated child."),new Jc(Xe(this.path),this.affectedTree,this.revert)}}class Bo{constructor(e,s){this.source=e,this.path=s,this.type=In.LISTEN_COMPLETE}operationForChild(e){return Ce(this.path)?new Bo(this.source,Le()):new Bo(this.source,Xe(this.path))}}class Ps{constructor(e,s,r){this.source=e,this.path=s,this.snap=r,this.type=In.OVERWRITE}operationForChild(e){return Ce(this.path)?new Ps(this.source,Le(),this.snap.getImmediateChild(e)):new Ps(this.source,Xe(this.path),this.snap)}}class Xr{constructor(e,s,r){this.source=e,this.path=s,this.children=r,this.type=In.MERGE}operationForChild(e){if(Ce(this.path)){const s=this.children.subtree(new We(e));return s.isEmpty()?null:s.value?new Ps(this.source,Le(),s.value):new Xr(this.source,Le(),s)}else return te(xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Xr(this.source,Xe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class is{constructor(e,s,r){this.node_=e,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const s=xe(e);return this.isCompleteForChild(s)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class hR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function mR(t,e,s,r){const o=[],c=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&c.push(sR(u.childName,u.snapshotNode))}),uo(t,o,"child_removed",e,r,s),uo(t,o,"child_added",e,r,s),uo(t,o,"child_moved",c,r,s),uo(t,o,"child_changed",e,r,s),uo(t,o,"value",e,r,s),o}function uo(t,e,s,r,o,c){const u=r.filter(h=>h.type===s);u.sort((h,m)=>gR(t,h,m)),u.forEach(h=>{const m=pR(t,h,c);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,t.query_))})})}function pR(t,e,s){return e.type==="value"||e.type==="child_removed"||(e.prevName=s.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function gR(t,e,s){if(e.childName==null||s.childName==null)throw ta("Should only compare child_ events.");const r=new Se(e.childName,e.snapshotNode),o=new Se(s.childName,s.snapshotNode);return t.index_.compare(r,o)}function vu(t,e){return{eventCache:t,serverCache:e}}function _o(t,e,s,r){return vu(new is(e,s,r),t.serverCache)}function Bx(t,e,s,r){return vu(t.eventCache,new is(e,s,r))}function $c(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Vs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let yh;const yR=()=>(yh||(yh=new Qt(tN)),yh);class Qe{static fromObject(e){let s=new Qe(null);return It(e,(r,o)=>{s=s.set(new We(r),o)}),s}constructor(e,s=yR()){this.value=e,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,s){if(this.value!=null&&s(this.value))return{path:Le(),value:this.value};if(Ce(e))return null;{const r=xe(e),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Xe(e),s);return c!=null?{path:ot(new We(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ce(e))return this;{const s=xe(e),r=this.children.get(s);return r!==null?r.subtree(Xe(e)):new Qe(null)}}set(e,s){if(Ce(e))return new Qe(s,this.children);{const r=xe(e),c=(this.children.get(r)||new Qe(null)).set(Xe(e),s),u=this.children.insert(r,c);return new Qe(this.value,u)}}remove(e){if(Ce(e))return this.children.isEmpty()?new Qe(null):new Qe(null,this.children);{const s=xe(e),r=this.children.get(s);if(r){const o=r.remove(Xe(e));let c;return o.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,o),this.value===null&&c.isEmpty()?new Qe(null):new Qe(this.value,c)}else return this}}get(e){if(Ce(e))return this.value;{const s=xe(e),r=this.children.get(s);return r?r.get(Xe(e)):null}}setTree(e,s){if(Ce(e))return s;{const r=xe(e),c=(this.children.get(r)||new Qe(null)).setTree(Xe(e),s);let u;return c.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,c),new Qe(this.value,u)}}fold(e){return this.fold_(Le(),e)}fold_(e,s){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(ot(e,o),s)}),s(e,this.value,r)}findOnPath(e,s){return this.findOnPath_(e,Le(),s)}findOnPath_(e,s,r){const o=this.value?r(s,this.value):!1;if(o)return o;if(Ce(e))return null;{const c=xe(e),u=this.children.get(c);return u?u.findOnPath_(Xe(e),ot(s,c),r):null}}foreachOnPath(e,s){return this.foreachOnPath_(e,Le(),s)}foreachOnPath_(e,s,r){if(Ce(e))return this;{this.value&&r(s,this.value);const o=xe(e),c=this.children.get(o);return c?c.foreachOnPath_(Xe(e),ot(s,o),r):new Qe(null)}}foreach(e){this.foreach_(Le(),e)}foreach_(e,s){this.children.inorderTraversal((r,o)=>{o.foreach_(ot(e,r),s)}),this.value&&s(e,this.value)}foreachChild(e){this.children.inorderTraversal((s,r)=>{r.value&&e(s,r.value)})}}class On{constructor(e){this.writeTree_=e}static empty(){return new On(new Qe(null))}}function bo(t,e,s){if(Ce(e))return new On(new Qe(s));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let c=r.value;const u=jt(o,e);return c=c.updateChild(u,s),new On(t.writeTree_.set(o,c))}else{const o=new Qe(s),c=t.writeTree_.setTree(e,o);return new On(c)}}}function Jh(t,e,s){let r=t;return It(s,(o,c)=>{r=bo(r,ot(e,o),c)}),r}function G_(t,e){if(Ce(e))return On.empty();{const s=t.writeTree_.setTree(e,new Qe(null));return new On(s)}}function $h(t,e){return Ws(t,e)!=null}function Ws(t,e){const s=t.writeTree_.findRootMostValueAndPath(e);return s!=null?t.writeTree_.get(s.path).getChild(jt(s.path,e)):null}function W_(t){const e=[],s=t.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(it,(r,o)=>{e.push(new Se(r,o))}):t.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new Se(r,o.value))}),e}function es(t,e){if(Ce(e))return t;{const s=Ws(t,e);return s!=null?new On(new Qe(s)):new On(t.writeTree_.subtree(e))}}function em(t){return t.writeTree_.isEmpty()}function Zr(t,e){return jx(Le(),t.writeTree_,e)}function jx(t,e,s){if(e.value!=null)return s.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(te(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):s=jx(ot(t,o),c,s)}),!s.getChild(t).isEmpty()&&r!==null&&(s=s.updateChild(ot(t,".priority"),r)),s}}function _u(t,e){return Ux(e,t)}function vR(t,e,s,r,o){te(r>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:s,writeId:r,visible:o}),o&&(t.visibleWrites=bo(t.visibleWrites,e,s)),t.lastWriteId=r}function _R(t,e,s,r){te(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:s,writeId:r,visible:!0}),t.visibleWrites=Jh(t.visibleWrites,e,s),t.lastWriteId=r}function bR(t,e){for(let s=0;s<t.allWrites.length;s++){const r=t.allWrites[s];if(r.writeId===e)return r}return null}function xR(t,e){const s=t.allWrites.findIndex(h=>h.writeId===e);te(s>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[s];t.allWrites.splice(s,1);let o=r.visible,c=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const h=t.allWrites[u];h.visible&&(u>=s&&SR(h,r.path)?o=!1:bn(r.path,h.path)&&(c=!0)),u--}if(o){if(c)return wR(t),!0;if(r.snap)t.visibleWrites=G_(t.visibleWrites,r.path);else{const h=r.children;It(h,m=>{t.visibleWrites=G_(t.visibleWrites,ot(r.path,m))})}return!0}else return!1}function SR(t,e){if(t.snap)return bn(t.path,e);for(const s in t.children)if(t.children.hasOwnProperty(s)&&bn(ot(t.path,s),e))return!0;return!1}function wR(t){t.visibleWrites=zx(t.allWrites,TR,Le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function TR(t){return t.visible}function zx(t,e,s){let r=On.empty();for(let o=0;o<t.length;++o){const c=t[o];if(e(c)){const u=c.path;let h;if(c.snap)bn(s,u)?(h=jt(s,u),r=bo(r,h,c.snap)):bn(u,s)&&(h=jt(u,s),r=bo(r,Le(),c.snap.getChild(h)));else if(c.children){if(bn(s,u))h=jt(s,u),r=Jh(r,h,c.children);else if(bn(u,s))if(h=jt(u,s),Ce(h))r=Jh(r,Le(),c.children);else{const m=js(c.children,xe(h));if(m){const p=m.getChild(Xe(h));r=bo(r,Le(),p)}}}else throw ta("WriteRecord should have .snap or .children")}}return r}function Px(t,e,s,r,o){if(!r&&!o){const c=Ws(t.visibleWrites,e);if(c!=null)return c;{const u=es(t.visibleWrites,e);if(em(u))return s;if(s==null&&!$h(u,Le()))return null;{const h=s||me.EMPTY_NODE;return Zr(u,h)}}}else{const c=es(t.visibleWrites,e);if(!o&&em(c))return s;if(!o&&s==null&&!$h(c,Le()))return null;{const u=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(bn(p.path,e)||bn(e,p.path))},h=zx(t.allWrites,u,e),m=s||me.EMPTY_NODE;return Zr(h,m)}}}function CR(t,e,s){let r=me.EMPTY_NODE;const o=Ws(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(it,(c,u)=>{r=r.updateImmediateChild(c,u)}),r;if(s){const c=es(t.visibleWrites,e);return s.forEachChild(it,(u,h)=>{const m=Zr(es(c,new We(u)),h);r=r.updateImmediateChild(u,m)}),W_(c).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}else{const c=es(t.visibleWrites,e);return W_(c).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}}function ER(t,e,s,r,o){te(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=ot(e,s);if($h(t.visibleWrites,c))return null;{const u=es(t.visibleWrites,c);return em(u)?o.getChild(s):Zr(u,o.getChild(s))}}function AR(t,e,s,r){const o=ot(e,s),c=Ws(t.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(s)){const u=es(t.visibleWrites,o);return Zr(u,r.getNode().getImmediateChild(s))}else return null}function MR(t,e){return Ws(t.visibleWrites,e)}function NR(t,e,s,r,o,c,u){let h;const m=es(t.visibleWrites,e),p=Ws(m,Le());if(p!=null)h=p;else if(s!=null)h=Zr(m,s);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const g=[],v=u.getCompare(),_=c?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let S=_.getNext();for(;S&&g.length<o;)v(S,r)!==0&&g.push(S),S=_.getNext();return g}else return[]}function RR(){return{visibleWrites:On.empty(),allWrites:[],lastWriteId:-1}}function eu(t,e,s,r){return Px(t.writeTree,t.treePath,e,s,r)}function Jm(t,e){return CR(t.writeTree,t.treePath,e)}function F_(t,e,s,r){return ER(t.writeTree,t.treePath,e,s,r)}function tu(t,e){return MR(t.writeTree,ot(t.treePath,e))}function IR(t,e,s,r,o,c){return NR(t.writeTree,t.treePath,e,s,r,o,c)}function $m(t,e,s){return AR(t.writeTree,t.treePath,e,s)}function Vx(t,e){return Ux(ot(t.treePath,e),t.writeTree)}function Ux(t,e){return{treePath:t,writeTree:e}}class DR{constructor(){this.changeMap=new Map}trackChildChange(e){const s=e.type,r=e.childName;te(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(s==="child_added"&&c==="child_removed")this.changeMap.set(r,ko(r,e.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&c==="child_changed")this.changeMap.set(r,Oo(r,o.oldSnap));else if(s==="child_changed"&&c==="child_added")this.changeMap.set(r,Kr(r,e.snapshotNode));else if(s==="child_changed"&&c==="child_changed")this.changeMap.set(r,ko(r,e.snapshotNode,o.oldSnap));else throw ta("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class OR{getCompleteChild(e){return null}getChildAfterChild(e,s,r){return null}}const qx=new OR;class ep{constructor(e,s,r=null){this.writes_=e,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(e){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(e))return s.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new is(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $m(this.writes_,e,r)}}getChildAfterChild(e,s,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Vs(this.viewCache_),c=IR(this.writes_,o,s,1,r,e);return c.length===0?null:c[0]}}function kR(t){return{filter:t}}function LR(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function BR(t,e,s,r,o){const c=new DR;let u,h;if(s.type===In.OVERWRITE){const p=s;p.source.fromUser?u=tm(t,e,p.path,p.snap,r,o,c):(te(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!Ce(p.path),u=nu(t,e,p.path,p.snap,r,o,h,c))}else if(s.type===In.MERGE){const p=s;p.source.fromUser?u=zR(t,e,p.path,p.children,r,o,c):(te(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),u=nm(t,e,p.path,p.children,r,o,h,c))}else if(s.type===In.ACK_USER_WRITE){const p=s;p.revert?u=UR(t,e,p.path,r,o,c):u=PR(t,e,p.path,p.affectedTree,r,o,c)}else if(s.type===In.LISTEN_COMPLETE)u=VR(t,e,s.path,r,c);else throw ta("Unknown operation type: "+s.type);const m=c.getChanges();return jR(e,u,m),{viewCache:u,changes:m}}function jR(t,e,s){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=$c(t);(s.length>0||!t.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&s.push(kx($c(e)))}}function Hx(t,e,s,r,o,c){const u=e.eventCache;if(tu(r,s)!=null)return e;{let h,m;if(Ce(s))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=Vs(e),g=p instanceof me?p:me.EMPTY_NODE,v=Jm(r,g);h=t.filter.updateFullNode(e.eventCache.getNode(),v,c)}else{const p=eu(r,Vs(e));h=t.filter.updateFullNode(e.eventCache.getNode(),p,c)}else{const p=xe(s);if(p===".priority"){te(ns(s)===1,"Can't have a priority with additional path components");const g=u.getNode();m=e.serverCache.getNode();const v=F_(r,s,g,m);v!=null?h=t.filter.updatePriority(g,v):h=u.getNode()}else{const g=Xe(s);let v;if(u.isCompleteForChild(p)){m=e.serverCache.getNode();const _=F_(r,s,u.getNode(),m);_!=null?v=u.getNode().getImmediateChild(p).updateChild(g,_):v=u.getNode().getImmediateChild(p)}else v=$m(r,p,e.serverCache);v!=null?h=t.filter.updateChild(u.getNode(),p,v,g,o,c):h=u.getNode()}}return _o(e,h,u.isFullyInitialized()||Ce(s),t.filter.filtersNodes())}}function nu(t,e,s,r,o,c,u,h){const m=e.serverCache;let p;const g=u?t.filter:t.filter.getIndexedFilter();if(Ce(s))p=g.updateFullNode(m.getNode(),r,null);else if(g.filtersNodes()&&!m.isFiltered()){const S=m.getNode().updateChild(s,r);p=g.updateFullNode(m.getNode(),S,null)}else{const S=xe(s);if(!m.isCompleteForPath(s)&&ns(s)>1)return e;const T=Xe(s),R=m.getNode().getImmediateChild(S).updateChild(T,r);S===".priority"?p=g.updatePriority(m.getNode(),R):p=g.updateChild(m.getNode(),S,R,T,qx,null)}const v=Bx(e,p,m.isFullyInitialized()||Ce(s),g.filtersNodes()),_=new ep(o,v,c);return Hx(t,v,s,o,_,h)}function tm(t,e,s,r,o,c,u){const h=e.eventCache;let m,p;const g=new ep(o,e,c);if(Ce(s))p=t.filter.updateFullNode(e.eventCache.getNode(),r,u),m=_o(e,p,!0,t.filter.filtersNodes());else{const v=xe(s);if(v===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),r),m=_o(e,p,h.isFullyInitialized(),h.isFiltered());else{const _=Xe(s),S=h.getNode().getImmediateChild(v);let T;if(Ce(_))T=r;else{const M=g.getCompleteChild(v);M!=null?Hm(_)===".priority"&&M.getChild(Ax(_)).isEmpty()?T=M:T=M.updateChild(_,r):T=me.EMPTY_NODE}if(S.equals(T))m=e;else{const M=t.filter.updateChild(h.getNode(),v,T,_,g,u);m=_o(e,M,h.isFullyInitialized(),t.filter.filtersNodes())}}}return m}function Y_(t,e){return t.eventCache.isCompleteForChild(e)}function zR(t,e,s,r,o,c,u){let h=e;return r.foreach((m,p)=>{const g=ot(s,m);Y_(e,xe(g))&&(h=tm(t,h,g,p,o,c,u))}),r.foreach((m,p)=>{const g=ot(s,m);Y_(e,xe(g))||(h=tm(t,h,g,p,o,c,u))}),h}function Q_(t,e,s){return s.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function nm(t,e,s,r,o,c,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;Ce(s)?p=r:p=new Qe(null).setTree(s,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((v,_)=>{if(g.hasChild(v)){const S=e.serverCache.getNode().getImmediateChild(v),T=Q_(t,S,_);m=nu(t,m,new We(v),T,o,c,u,h)}}),p.children.inorderTraversal((v,_)=>{const S=!e.serverCache.isCompleteForChild(v)&&_.value===null;if(!g.hasChild(v)&&!S){const T=e.serverCache.getNode().getImmediateChild(v),M=Q_(t,T,_);m=nu(t,m,new We(v),M,o,c,u,h)}}),m}function PR(t,e,s,r,o,c,u){if(tu(o,s)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(Ce(s)&&m.isFullyInitialized()||m.isCompleteForPath(s))return nu(t,e,s,m.getNode().getChild(s),o,c,h,u);if(Ce(s)){let p=new Qe(null);return m.getNode().forEachChild(Fr,(g,v)=>{p=p.set(new We(g),v)}),nm(t,e,s,p,o,c,h,u)}else return e}else{let p=new Qe(null);return r.foreach((g,v)=>{const _=ot(s,g);m.isCompleteForPath(_)&&(p=p.set(g,m.getNode().getChild(_)))}),nm(t,e,s,p,o,c,h,u)}}function VR(t,e,s,r,o){const c=e.serverCache,u=Bx(e,c.getNode(),c.isFullyInitialized()||Ce(s),c.isFiltered());return Hx(t,u,s,r,qx,o)}function UR(t,e,s,r,o,c){let u;if(tu(r,s)!=null)return e;{const h=new ep(r,e,o),m=e.eventCache.getNode();let p;if(Ce(s)||xe(s)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=eu(r,Vs(e));else{const v=e.serverCache.getNode();te(v instanceof me,"serverChildren would be complete if leaf node"),g=Jm(r,v)}g=g,p=t.filter.updateFullNode(m,g,c)}else{const g=xe(s);let v=$m(r,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=m.getImmediateChild(g)),v!=null?p=t.filter.updateChild(m,g,v,Xe(s),h,c):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(m,g,me.EMPTY_NODE,Xe(s),h,c):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=eu(r,Vs(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,c)))}return u=e.serverCache.isFullyInitialized()||tu(r,Le())!=null,_o(e,p,u,t.filter.filtersNodes())}}class qR{constructor(e,s){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Ym(r.getIndex()),c=aR(r);this.processor_=kR(c);const u=s.serverCache,h=s.eventCache,m=o.updateFullNode(me.EMPTY_NODE,u.getNode(),null),p=c.updateFullNode(me.EMPTY_NODE,h.getNode(),null),g=new is(m,u.isFullyInitialized(),o.filtersNodes()),v=new is(p,h.isFullyInitialized(),c.filtersNodes());this.viewCache_=vu(v,g),this.eventGenerator_=new hR(this.query_)}get query(){return this.query_}}function HR(t){return t.viewCache_.serverCache.getNode()}function GR(t){return $c(t.viewCache_)}function WR(t,e){const s=Vs(t.viewCache_);return s&&(t.query._queryParams.loadsAllData()||!Ce(e)&&!s.getImmediateChild(xe(e)).isEmpty())?s.getChild(e):null}function K_(t){return t.eventRegistrations_.length===0}function FR(t,e){t.eventRegistrations_.push(e)}function X_(t,e,s){const r=[];if(s){te(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(c=>{const u=c.createCancelEvent(s,o);u&&r.push(u)})}if(e){let o=[];for(let c=0;c<t.eventRegistrations_.length;++c){const u=t.eventRegistrations_[c];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(c+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function Z_(t,e,s,r){e.type===In.MERGE&&e.source.queryId!==null&&(te(Vs(t.viewCache_),"We should always have a full cache before handling merges"),te($c(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,c=BR(t.processor_,o,e,s,r);return LR(t.processor_,c.viewCache),te(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,Gx(t,c.changes,c.viewCache.eventCache.getNode(),null)}function YR(t,e){const s=t.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(it,(c,u)=>{r.push(Kr(c,u))}),s.isFullyInitialized()&&r.push(kx(s.getNode())),Gx(t,r,s.getNode(),e)}function Gx(t,e,s,r){const o=r?[r]:t.eventRegistrations_;return mR(t.eventGenerator_,e,s,o)}let iu;class Wx{constructor(){this.views=new Map}}function QR(t){te(!iu,"__referenceConstructor has already been defined"),iu=t}function KR(){return te(iu,"Reference.ts has not been loaded"),iu}function XR(t){return t.views.size===0}function tp(t,e,s,r){const o=e.source.queryId;if(o!==null){const c=t.views.get(o);return te(c!=null,"SyncTree gave us an op for an invalid query."),Z_(c,e,s,r)}else{let c=[];for(const u of t.views.values())c=c.concat(Z_(u,e,s,r));return c}}function Fx(t,e,s,r,o){const c=e._queryIdentifier,u=t.views.get(c);if(!u){let h=eu(s,o?r:null),m=!1;h?m=!0:r instanceof me?(h=Jm(s,r),m=!1):(h=me.EMPTY_NODE,m=!1);const p=vu(new is(h,m,!1),new is(r,o,!1));return new qR(e,p)}return u}function ZR(t,e,s,r,o,c){const u=Fx(t,e,r,o,c);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),FR(u,s),YR(u,s)}function JR(t,e,s,r){const o=e._queryIdentifier,c=[];let u=[];const h=ss(t);if(o==="default")for(const[m,p]of t.views.entries())u=u.concat(X_(p,s,r)),K_(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query));else{const m=t.views.get(o);m&&(u=u.concat(X_(m,s,r)),K_(m)&&(t.views.delete(o),m.query._queryParams.loadsAllData()||c.push(m.query)))}return h&&!ss(t)&&c.push(new(KR())(e._repo,e._path)),{removed:c,events:u}}function Yx(t){const e=[];for(const s of t.views.values())s.query._queryParams.loadsAllData()||e.push(s);return e}function ts(t,e){let s=null;for(const r of t.views.values())s=s||WR(r,e);return s}function Qx(t,e){if(e._queryParams.loadsAllData())return bu(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Kx(t,e){return Qx(t,e)!=null}function ss(t){return bu(t)!=null}function bu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let su;function $R(t){te(!su,"__referenceConstructor has already been defined"),su=t}function e2(){return te(su,"Reference.ts has not been loaded"),su}let t2=1;class J_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qe(null),this.pendingWriteTree_=RR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function np(t,e,s,r,o){return vR(t.pendingWriteTree_,e,s,r,o),o?sa(t,new Ps(Km(),e,s)):[]}function n2(t,e,s,r){_R(t.pendingWriteTree_,e,s,r);const o=Qe.fromObject(s);return sa(t,new Xr(Km(),e,o))}function Xi(t,e,s=!1){const r=bR(t.pendingWriteTree_,e);if(xR(t.pendingWriteTree_,e)){let c=new Qe(null);return r.snap!=null?c=c.set(Le(),!0):It(r.children,u=>{c=c.set(new We(u),!0)}),sa(t,new Jc(r.path,c,s))}else return[]}function Qo(t,e,s){return sa(t,new Ps(Xm(),e,s))}function i2(t,e,s){const r=Qe.fromObject(s);return sa(t,new Xr(Xm(),e,r))}function s2(t,e){return sa(t,new Bo(Xm(),e))}function r2(t,e,s){const r=ip(t,s);if(r){const o=sp(r),c=o.path,u=o.queryId,h=jt(c,e),m=new Bo(Zm(u),h);return rp(t,c,m)}else return[]}function ru(t,e,s,r,o=!1){const c=e._path,u=t.syncPointTree_.get(c);let h=[];if(u&&(e._queryIdentifier==="default"||Kx(u,e))){const m=JR(u,e,s,r);XR(u)&&(t.syncPointTree_=t.syncPointTree_.remove(c));const p=m.removed;if(h=m.events,!o){const g=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(c,(_,S)=>ss(S));if(g&&!v){const _=t.syncPointTree_.subtree(c);if(!_.isEmpty()){const S=l2(_);for(let T=0;T<S.length;++T){const M=S[T],R=M.query,D=$x(t,M);t.listenProvider_.startListening(xo(R),jo(t,R),D.hashFn,D.onComplete)}}}!v&&p.length>0&&!r&&(g?t.listenProvider_.stopListening(xo(e),null):p.forEach(_=>{const S=t.queryToTagMap.get(Su(_));t.listenProvider_.stopListening(xo(_),S)}))}c2(t,p)}return h}function Xx(t,e,s,r){const o=ip(t,r);if(o!=null){const c=sp(o),u=c.path,h=c.queryId,m=jt(u,e),p=new Ps(Zm(h),m,s);return rp(t,u,p)}else return[]}function a2(t,e,s,r){const o=ip(t,r);if(o){const c=sp(o),u=c.path,h=c.queryId,m=jt(u,e),p=Qe.fromObject(s),g=new Xr(Zm(h),m,p);return rp(t,u,g)}else return[]}function im(t,e,s,r=!1){const o=e._path;let c=null,u=!1;t.syncPointTree_.foreachOnPath(o,(_,S)=>{const T=jt(_,o);c=c||ts(S,T),u=u||ss(S)});let h=t.syncPointTree_.get(o);h?(u=u||ss(h),c=c||ts(h,Le())):(h=new Wx,t.syncPointTree_=t.syncPointTree_.set(o,h));let m;c!=null?m=!0:(m=!1,c=me.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((S,T)=>{const M=ts(T,Le());M&&(c=c.updateImmediateChild(S,M))}));const p=Kx(h,e);if(!p&&!e._queryParams.loadsAllData()){const _=Su(e);te(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const S=u2();t.queryToTagMap.set(_,S),t.tagToQueryMap.set(S,_)}const g=_u(t.pendingWriteTree_,o);let v=ZR(h,e,s,g,c,m);if(!p&&!u&&!r){const _=Qx(h,e);v=v.concat(f2(t,e,_))}return v}function xu(t,e,s){const o=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(e,(u,h)=>{const m=jt(u,e),p=ts(h,m);if(p)return p});return Px(o,e,c,s,!0)}function o2(t,e){const s=e._path;let r=null;t.syncPointTree_.foreachOnPath(s,(p,g)=>{const v=jt(p,s);r=r||ts(g,v)});let o=t.syncPointTree_.get(s);o?r=r||ts(o,Le()):(o=new Wx,t.syncPointTree_=t.syncPointTree_.set(s,o));const c=r!=null,u=c?new is(r,!0,!1):null,h=_u(t.pendingWriteTree_,e._path),m=Fx(o,e,h,c?u.getNode():me.EMPTY_NODE,c);return GR(m)}function sa(t,e){return Zx(e,t.syncPointTree_,null,_u(t.pendingWriteTree_,Le()))}function Zx(t,e,s,r){if(Ce(t.path))return Jx(t,e,s,r);{const o=e.get(Le());s==null&&o!=null&&(s=ts(o,Le()));let c=[];const u=xe(t.path),h=t.operationForChild(u),m=e.children.get(u);if(m&&h){const p=s?s.getImmediateChild(u):null,g=Vx(r,u);c=c.concat(Zx(h,m,p,g))}return o&&(c=c.concat(tp(o,t,r,s))),c}}function Jx(t,e,s,r){const o=e.get(Le());s==null&&o!=null&&(s=ts(o,Le()));let c=[];return e.children.inorderTraversal((u,h)=>{const m=s?s.getImmediateChild(u):null,p=Vx(r,u),g=t.operationForChild(u);g&&(c=c.concat(Jx(g,h,m,p)))}),o&&(c=c.concat(tp(o,t,r,s))),c}function $x(t,e){const s=e.query,r=jo(t,s);return{hashFn:()=>(HR(e)||me.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?r2(t,s._path,r):s2(t,s._path);{const c=sN(o,s);return ru(t,s,null,c)}}}}function jo(t,e){const s=Su(e);return t.queryToTagMap.get(s)}function Su(t){return t._path.toString()+"$"+t._queryIdentifier}function ip(t,e){return t.tagToQueryMap.get(e)}function sp(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new We(t.substr(0,e))}}function rp(t,e,s){const r=t.syncPointTree_.get(e);te(r,"Missing sync point for query tag that we're tracking");const o=_u(t.pendingWriteTree_,e);return tp(r,s,o,null)}function l2(t){return t.fold((e,s,r)=>{if(s&&ss(s))return[bu(s)];{let o=[];return s&&(o=Yx(s)),It(r,(c,u)=>{o=o.concat(u)}),o}})}function xo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(e2())(t._repo,t._path):t}function c2(t,e){for(let s=0;s<e.length;++s){const r=e[s];if(!r._queryParams.loadsAllData()){const o=Su(r),c=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(c)}}}function u2(){return t2++}function f2(t,e,s){const r=e._path,o=jo(t,e),c=$x(t,s),u=t.listenProvider_.startListening(xo(e),o,c.hashFn,c.onComplete),h=t.syncPointTree_.subtree(r);if(o)te(!ss(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,g,v)=>{if(!Ce(p)&&g&&ss(g))return[bu(g).query];{let _=[];return g&&(_=_.concat(Yx(g).map(S=>S.query))),It(v,(S,T)=>{_=_.concat(T)}),_}});for(let p=0;p<m.length;++p){const g=m[p];t.listenProvider_.stopListening(xo(g),jo(t,g))}}return u}class ap{constructor(e){this.node_=e}getImmediateChild(e){const s=this.node_.getImmediateChild(e);return new ap(s)}node(){return this.node_}}class op{constructor(e,s){this.syncTree_=e,this.path_=s}getImmediateChild(e){const s=ot(this.path_,e);return new op(this.syncTree_,s)}node(){return xu(this.syncTree_,this.path_)}}const d2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$_=function(t,e,s){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return h2(t[".sv"],e,s);if(typeof t[".sv"]=="object")return m2(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},h2=function(t,e,s){if(t==="timestamp")return s.timestamp;te(!1,"Unexpected server value: "+t)},m2=function(t,e,s){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const o=e.node();if(te(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const u=o.getValue();return typeof u!="number"?r:u+r},eS=function(t,e,s,r){return cp(e,new op(s,t),r)},lp=function(t,e,s){return cp(t,new ap(e),s)};function cp(t,e,s){const r=t.getPriority().val(),o=$_(r,e.getImmediateChild(".priority"),s);let c;if(t.isLeafNode()){const u=t,h=$_(u.getValue(),e,s);return h!==u.getValue()||o!==u.getPriority().val()?new St(h,pt(o)):t}else{const u=t;return c=u,o!==u.getPriority().val()&&(c=c.updatePriority(new St(o))),u.forEachChild(it,(h,m)=>{const p=cp(m,e.getImmediateChild(h),s);p!==m&&(c=c.updateImmediateChild(h,p))}),c}}class up{constructor(e="",s=null,r={children:{},childCount:0}){this.name=e,this.parent=s,this.node=r}}function wu(t,e){let s=e instanceof We?e:new We(e),r=t,o=xe(s);for(;o!==null;){const c=js(r.node.children,o)||{children:{},childCount:0};r=new up(o,r,c),s=Xe(s),o=xe(s)}return r}function Fs(t){return t.node.value}function fp(t,e){t.node.value=e,sm(t)}function tS(t){return t.node.childCount>0}function p2(t){return Fs(t)===void 0&&!tS(t)}function Tu(t,e){It(t.node.children,(s,r)=>{e(new up(s,t,r))})}function nS(t,e,s,r){s&&e(t),Tu(t,o=>{nS(o,e,!0)})}function g2(t,e,s){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ko(t){return new We(t.parent===null?t.name:Ko(t.parent)+"/"+t.name)}function sm(t){t.parent!==null&&y2(t.parent,t.name,t)}function y2(t,e,s){const r=p2(s),o=Bn(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,sm(t)):!r&&!o&&(t.node.children[e]=s.node,t.node.childCount++,sm(t))}const v2=/[\[\].#$\/\u0000-\u001F\u007F]/,_2=/[\[\].#$\u0000-\u001F\u007F]/,vh=10*1024*1024,dp=function(t){return typeof t=="string"&&t.length!==0&&!v2.test(t)},iS=function(t){return typeof t=="string"&&t.length!==0&&!_2.test(t)},b2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iS(t)},sS=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!zm(t)||t&&typeof t=="object"&&Bn(t,".sv")},x2=function(t,e,s,r){Xo(pu(t,"value"),e,s)},Xo=function(t,e,s){const r=s instanceof We?new zN(s,t):s;if(e===void 0)throw new Error(t+"contains undefined "+Is(r));if(typeof e=="function")throw new Error(t+"contains a function "+Is(r)+" with contents = "+e.toString());if(zm(e))throw new Error(t+"contains "+e.toString()+" "+Is(r));if(typeof e=="string"&&e.length>vh/3&&gu(e)>vh)throw new Error(t+"contains a string greater than "+vh+" utf8 bytes "+Is(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(It(e,(u,h)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(c=!0,!dp(u)))throw new Error(t+" contains an invalid key ("+u+") "+Is(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);PN(r,u),Xo(t,h,r),VN(r)}),o&&c)throw new Error(t+' contains ".value" child '+Is(r)+" in addition to actual children.")}},S2=function(t,e){let s,r;for(s=0;s<e.length;s++){r=e[s];const c=Do(r);for(let u=0;u<c.length;u++)if(!(c[u]===".priority"&&u===c.length-1)){if(!dp(c[u]))throw new Error(t+"contains an invalid key ("+c[u]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(jN);let o=null;for(s=0;s<e.length;s++){if(r=e[s],o!==null&&bn(o,r))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},w2=function(t,e,s,r){const o=pu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const c=[];It(e,(u,h)=>{const m=new We(u);if(Xo(o,h,ot(s,m)),Hm(m)===".priority"&&!sS(h))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),S2(o,c)},rS=function(t,e,s,r){if(!iS(s))throw new Error(pu(t,e)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},T2=function(t,e,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),rS(t,e,s)},aS=function(t,e){if(xe(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},C2=function(t,e){const s=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!dp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!b2(s))throw new Error(pu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class E2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cu(t,e){let s=null;for(let r=0;r<e.length;r++){const o=e[r],c=o.getPath();s!==null&&!Gm(c,s.path)&&(t.eventLists_.push(s),s=null),s===null&&(s={events:[],path:c}),s.events.push(o)}s&&t.eventLists_.push(s)}function oS(t,e,s){Cu(t,s),lS(t,r=>Gm(r,e))}function on(t,e,s){Cu(t,s),lS(t,r=>bn(r,e)||bn(e,r))}function lS(t,e){t.recursionDepth_++;let s=!0;for(let r=0;r<t.eventLists_.length;r++){const o=t.eventLists_[r];if(o){const c=o.path;e(c)?(A2(t.eventLists_[r]),t.eventLists_[r]=null):s=!1}}s&&(t.eventLists_=[]),t.recursionDepth_--}function A2(t){for(let e=0;e<t.events.length;e++){const s=t.events[e];if(s!==null){t.events[e]=null;const r=s.getEventRunner();yo&&Rt("event: "+s.toString()),ia(r)}}}const M2="repo_interrupt",N2=25;class R2{constructor(e,s,r,o){this.repoInfo_=e,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new E2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zc(),this.transactionQueueTree_=new up,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function I2(t,e,s){if(t.stats_=Um(t.repoInfo_),t.forceRestClient_||lN())t.server_=new Xc(t.repoInfo_,(r,o,c,u)=>{eb(t,r,o,c,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tb(t,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_t(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new hi(t.repoInfo_,e,(r,o,c,u)=>{eb(t,r,o,c,u)},r=>{tb(t,r)},r=>{O2(t,r)},t.authTokenProvider_,t.appCheckProvider_,s),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=hN(t.repoInfo_,()=>new dR(t.stats_,t.server_)),t.infoData_=new oR,t.infoSyncTree_=new J_({startListening:(r,o,c,u)=>{let h=[];const m=t.infoData_.getNode(r._path);return m.isEmpty()||(h=Qo(t.infoSyncTree_,r._path,m),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),hp(t,"connected",!1),t.serverSyncTree_=new J_({startListening:(r,o,c,u)=>(t.server_.listen(r,c,o,(h,m)=>{const p=u(h,m);on(t.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{t.server_.unlisten(r,o)}})}function D2(t){const s=t.infoData_.getNode(new We(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function Zo(t){return d2({timestamp:D2(t)})}function eb(t,e,s,r,o){t.dataUpdateCount++;const c=new We(e);s=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,s):s;let u=[];if(o)if(r){const m=Hc(s,p=>pt(p));u=a2(t.serverSyncTree_,c,m,o)}else{const m=pt(s);u=Xx(t.serverSyncTree_,c,m,o)}else if(r){const m=Hc(s,p=>pt(p));u=i2(t.serverSyncTree_,c,m)}else{const m=pt(s);u=Qo(t.serverSyncTree_,c,m)}let h=c;u.length>0&&(h=Jr(t,c)),on(t.eventQueue_,h,u)}function tb(t,e){hp(t,"connected",e),e===!1&&j2(t)}function O2(t,e){It(e,(s,r)=>{hp(t,s,r)})}function hp(t,e,s){const r=new We("/.info/"+e),o=pt(s);t.infoData_.updateSnapshot(r,o);const c=Qo(t.infoSyncTree_,r,o);on(t.eventQueue_,r,c)}function Eu(t){return t.nextWriteId_++}function k2(t,e,s){const r=o2(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(o=>{const c=pt(o).withIndex(e._queryParams.getIndex());im(t.serverSyncTree_,e,s,!0);let u;if(e._queryParams.loadsAllData())u=Qo(t.serverSyncTree_,e._path,c);else{const h=jo(t.serverSyncTree_,e);u=Xx(t.serverSyncTree_,e._path,c,h)}return on(t.eventQueue_,e._path,u),ru(t.serverSyncTree_,e,s,null,!0),c},o=>(ra(t,"get for query "+_t(e)+" failed: "+o),Promise.reject(new Error(o))))}function L2(t,e,s,r,o){ra(t,"set",{path:e.toString(),value:s,priority:r});const c=Zo(t),u=pt(s,r),h=xu(t.serverSyncTree_,e),m=lp(u,h,c),p=Eu(t),g=np(t.serverSyncTree_,e,m,p,!0);Cu(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(_,S)=>{const T=_==="ok";T||Vt("set at "+e+" failed: "+_);const M=Xi(t.serverSyncTree_,p,!T);on(t.eventQueue_,e,M),rm(t,o,_,S)});const v=pp(t,e);Jr(t,v),on(t.eventQueue_,v,[])}function B2(t,e,s,r){ra(t,"update",{path:e.toString(),value:s});let o=!0;const c=Zo(t),u={};if(It(s,(h,m)=>{o=!1,u[h]=eS(ot(e,h),pt(m),t.serverSyncTree_,c)}),o)Rt("update() called with empty data.  Don't do anything."),rm(t,r,"ok",void 0);else{const h=Eu(t),m=n2(t.serverSyncTree_,e,u,h);Cu(t.eventQueue_,m),t.server_.merge(e.toString(),s,(p,g)=>{const v=p==="ok";v||Vt("update at "+e+" failed: "+p);const _=Xi(t.serverSyncTree_,h,!v),S=_.length>0?Jr(t,e):e;on(t.eventQueue_,S,_),rm(t,r,p,g)}),It(s,p=>{const g=pp(t,ot(e,p));Jr(t,g)}),on(t.eventQueue_,e,[])}}function j2(t){ra(t,"onDisconnectEvents");const e=Zo(t),s=Zc();Zh(t.onDisconnect_,Le(),(o,c)=>{const u=eS(o,c,t.serverSyncTree_,e);Lx(s,o,u)});let r=[];Zh(s,Le(),(o,c)=>{r=r.concat(Qo(t.serverSyncTree_,o,c));const u=pp(t,o);Jr(t,u)}),t.onDisconnect_=Zc(),on(t.eventQueue_,Le(),r)}function z2(t,e,s){let r;xe(e._path)===".info"?r=im(t.infoSyncTree_,e,s):r=im(t.serverSyncTree_,e,s),oS(t.eventQueue_,e._path,r)}function P2(t,e,s){let r;xe(e._path)===".info"?r=ru(t.infoSyncTree_,e,s):r=ru(t.serverSyncTree_,e,s),oS(t.eventQueue_,e._path,r)}function V2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(M2)}function ra(t,...e){let s="";t.persistentConnection_&&(s=t.persistentConnection_.id+":"),Rt(s,...e)}function rm(t,e,s,r){e&&ia(()=>{if(s==="ok")e(null);else{const o=(s||"error").toUpperCase();let c=o;r&&(c+=": "+r);const u=new Error(c);u.code=o,e(u)}})}function U2(t,e,s,r,o,c){ra(t,"transaction on "+e);const u={path:e,update:s,onComplete:r,status:null,order:rx(),applyLocally:c,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=mp(t,e,void 0);u.currentInputSnapshot=h;const m=u.update(h.val());if(m===void 0)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Xo("transaction failed: Data returned ",m,u.path),u.status=0;const p=wu(t.transactionQueueTree_,e),g=Fs(p)||[];g.push(u),fp(p,g);let v;typeof m=="object"&&m!==null&&Bn(m,".priority")?(v=js(m,".priority"),te(sS(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):v=(xu(t.serverSyncTree_,e)||me.EMPTY_NODE).getPriority().val();const _=Zo(t),S=pt(m,v),T=lp(S,h,_);u.currentOutputSnapshotRaw=S,u.currentOutputSnapshotResolved=T,u.currentWriteId=Eu(t);const M=np(t.serverSyncTree_,e,T,u.currentWriteId,u.applyLocally);on(t.eventQueue_,e,M),Au(t,t.transactionQueueTree_)}}function mp(t,e,s){return xu(t.serverSyncTree_,e,s)||me.EMPTY_NODE}function Au(t,e=t.transactionQueueTree_){if(e||Mu(t,e),Fs(e)){const s=uS(t,e);te(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&q2(t,Ko(e),s)}else tS(e)&&Tu(e,s=>{Au(t,s)})}function q2(t,e,s){const r=s.map(p=>p.currentWriteId),o=mp(t,e,r);let c=o;const u=o.hash();for(let p=0;p<s.length;p++){const g=s[p];te(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=jt(e,g.path);c=c.updateChild(v,g.currentOutputSnapshotRaw)}const h=c.val(!0),m=e;t.server_.put(m.toString(),h,p=>{ra(t,"transaction put response",{path:m.toString(),status:p});let g=[];if(p==="ok"){const v=[];for(let _=0;_<s.length;_++)s[_].status=2,g=g.concat(Xi(t.serverSyncTree_,s[_].currentWriteId)),s[_].onComplete&&v.push(()=>s[_].onComplete(null,!0,s[_].currentOutputSnapshotResolved)),s[_].unwatcher();Mu(t,wu(t.transactionQueueTree_,e)),Au(t,t.transactionQueueTree_),on(t.eventQueue_,e,g);for(let _=0;_<v.length;_++)ia(v[_])}else{if(p==="datastale")for(let v=0;v<s.length;v++)s[v].status===3?s[v].status=4:s[v].status=0;else{Vt("transaction at "+m.toString()+" failed: "+p);for(let v=0;v<s.length;v++)s[v].status=4,s[v].abortReason=p}Jr(t,e)}},u)}function Jr(t,e){const s=cS(t,e),r=Ko(s),o=uS(t,s);return H2(t,o,r),r}function H2(t,e,s){if(e.length===0)return;const r=[];let o=[];const u=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=jt(s,m.path);let g=!1,v;if(te(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)g=!0,v=m.abortReason,o=o.concat(Xi(t.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=N2)g=!0,v="maxretry",o=o.concat(Xi(t.serverSyncTree_,m.currentWriteId,!0));else{const _=mp(t,m.path,u);m.currentInputSnapshot=_;const S=e[h].update(_.val());if(S!==void 0){Xo("transaction failed: Data returned ",S,m.path);let T=pt(S);typeof S=="object"&&S!=null&&Bn(S,".priority")||(T=T.updatePriority(_.getPriority()));const R=m.currentWriteId,D=Zo(t),G=lp(T,_,D);m.currentOutputSnapshotRaw=T,m.currentOutputSnapshotResolved=G,m.currentWriteId=Eu(t),u.splice(u.indexOf(R),1),o=o.concat(np(t.serverSyncTree_,m.path,G,m.currentWriteId,m.applyLocally)),o=o.concat(Xi(t.serverSyncTree_,R,!0))}else g=!0,v="nodata",o=o.concat(Xi(t.serverSyncTree_,m.currentWriteId,!0))}on(t.eventQueue_,s,o),o=[],g&&(e[h].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(v==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(v),!1,null))))}Mu(t,t.transactionQueueTree_);for(let h=0;h<r.length;h++)ia(r[h]);Au(t,t.transactionQueueTree_)}function cS(t,e){let s,r=t.transactionQueueTree_;for(s=xe(e);s!==null&&Fs(r)===void 0;)r=wu(r,s),e=Xe(e),s=xe(e);return r}function uS(t,e){const s=[];return fS(t,e,s),s.sort((r,o)=>r.order-o.order),s}function fS(t,e,s){const r=Fs(e);if(r)for(let o=0;o<r.length;o++)s.push(r[o]);Tu(e,o=>{fS(t,o,s)})}function Mu(t,e){const s=Fs(e);if(s){let r=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[r]=s[o],r++);s.length=r,fp(e,s.length>0?s:void 0)}Tu(e,r=>{Mu(t,r)})}function pp(t,e){const s=Ko(cS(t,e)),r=wu(t.transactionQueueTree_,e);return g2(r,o=>{_h(t,o)}),_h(t,r),nS(r,o=>{_h(t,o)}),s}function _h(t,e){const s=Fs(e);if(s){const r=[];let o=[],c=-1;for(let u=0;u<s.length;u++)s[u].status===3||(s[u].status===1?(te(c===u-1,"All SENT items should be at beginning of queue."),c=u,s[u].status=3,s[u].abortReason="set"):(te(s[u].status===0,"Unexpected transaction status in abort"),s[u].unwatcher(),o=o.concat(Xi(t.serverSyncTree_,s[u].currentWriteId,!0)),s[u].onComplete&&r.push(s[u].onComplete.bind(null,new Error("set"),!1,null))));c===-1?fp(e,void 0):s.length=c+1,on(t.eventQueue_,Ko(e),o);for(let u=0;u<r.length;u++)ia(r[u])}}function G2(t){let e="";const s=t.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let o=s[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function W2(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const s of t.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vt(`Invalid query segment '${s}' in query '${t}'`)}return e}const nb=function(t,e){const s=F2(t),r=s.namespace;s.domain==="firebase.com"&&pi(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||$M();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new vx(s.host,s.secure,r,o,e,"",r!==s.subdomain),path:new We(s.pathString)}},F2=function(t){let e="",s="",r="",o="",c="",u=!0,h="https",m=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(h=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(o=G2(t.substring(g,v)));const _=W2(t.substring(Math.min(t.length,v)));p=e.indexOf(":"),p>=0?(u=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const S=e.slice(0,p);if(S.toLowerCase()==="localhost")s="localhost";else if(S.split(".").length<=2)s=S;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),s=e.substring(T+1),c=r}"ns"in _&&(c=_.ns)}return{host:e,port:m,domain:s,subdomain:r,secure:u,scheme:h,pathString:o,namespace:c}};class Y2{constructor(e,s,r,o){this.eventType=e,this.eventRegistration=s,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_t(this.snapshot.exportVal())}}class Q2{constructor(e,s,r){this.eventRegistration=e,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class dS{constructor(e,s){this.snapshotCallback=e,this.cancelCallback=s}onValue(e,s){this.snapshotCallback.call(null,e,s)}onCancel(e){return te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class gp{constructor(e,s,r,o){this._repo=e,this._path=s,this._queryParams=r,this._orderByCalled=o}get key(){return Ce(this._path)?null:Hm(this._path)}get ref(){return new Wn(this._repo,this._path)}get _queryIdentifier(){const e=q_(this._queryParams),s=Pm(e);return s==="{}"?"default":s}get _queryObject(){return q_(this._queryParams)}isEqual(e){if(e=Hs(e),!(e instanceof gp))return!1;const s=this._repo===e._repo,r=Gm(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return s&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+BN(this._path)}}class Wn extends gp{constructor(e,s){super(e,s,new Qm,!1)}get parent(){const e=Ax(this._path);return e===null?null:new Wn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class $r{constructor(e,s,r){this._node=e,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const s=new We(e),r=am(this.ref,e);return new $r(this._node.getChild(s),r,it)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new $r(o,am(this.ref,r),it)))}hasChild(e){const s=new We(e);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ie(t,e){return t=Hs(t),t._checkNotDeleted("ref"),e!==void 0?am(t._root,e):t._root}function am(t,e){return t=Hs(t),xe(t._path)===null?T2("child","path",e):rS("child","path",e),new Wn(t._repo,ot(t._path,e))}function aa(t,e){t=Hs(t),aS("set",t._path),x2("set",e,t._path);const s=new na;return L2(t._repo,t._path,e,null,s.wrapCallback(()=>{})),s.promise}function tt(t,e){w2("update",e,t._path);const s=new na;return B2(t._repo,t._path,e,s.wrapCallback(()=>{})),s.promise}function Kt(t){t=Hs(t);const e=new dS(()=>{}),s=new Nu(e);return k2(t._repo,t,s).then(r=>new $r(r,new Wn(t._repo,t._path),t._queryParams.getIndex()))}class Nu{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,s){const r=s._queryParams.getIndex();return new Y2("value",this,new $r(e.snapshotNode,new Wn(s._repo,s._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,s){return this.callbackContext.hasCancelCallback?new Q2(this,e,s):null}matches(e){return e instanceof Nu?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function K2(t,e,s,r,o){const c=new dS(s,void 0),u=new Nu(c);return z2(t._repo,t,u),()=>P2(t._repo,t,u)}function yp(t,e,s,r){return K2(t,"value",e)}QR(Wn);$R(Wn);const X2="FIREBASE_DATABASE_EMULATOR_HOST",om={};let Z2=!1;function J2(t,e,s,r){const o=e.lastIndexOf(":"),c=e.substring(0,o),u=Bm(c);t.repoInfo_=new vx(e,u,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(t.authTokenProvider_=r)}function $2(t,e,s,r,o){let c=r||t.options.databaseURL;c===void 0&&(t.options.projectId||pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rt("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=nb(c,o),h=u.repoInfo,m;typeof process<"u"&&T_&&(m=T_[X2]),m?(c=`http://${m}?ns=${h.namespace}`,u=nb(c,o),h=u.repoInfo):u.repoInfo.secure;const p=new uN(t.name,t.options,e);C2("Invalid Firebase Database URL",u),Ce(u.path)||pi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=tI(h,t,p,new cN(t,s));return new nI(g,t)}function eI(t,e){const s=om[e];(!s||s[t.key]!==t)&&pi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),V2(t),delete s[t.key]}function tI(t,e,s,r){let o=om[e.name];o||(o={},om[e.name]=o);let c=o[t.toURLString()];return c&&pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new R2(t,Z2,s,r),o[t.toURLString()]=c,c}class nI{constructor(e,s){this._repoInternal=e,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(I2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wn(this._repo,Le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pi("Cannot call "+e+" on a deleted database.")}}function iI(t=jM(),e){const s=DM(t,"database").getImmediate({identifier:e});if(!s._instanceStarted){const r=yA("database");r&&sI(s,...r)}return s}function sI(t,e,s,r={}){t=Hs(t),t._checkNotDeleted("useEmulator");const o=`${e}:${s}`,c=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Gc(r,c.repoInfo_.emulatorOptions))return;pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new kc(kc.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:_A(r.mockUserToken,t.app.options.projectId);u=new kc(h)}Bm(e)&&(vA(e),SA("Database",!0)),J2(c,o,r,u)}function rI(t){QM(BM),Fc(new No("database",(e,{instanceIdentifier:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return $2(r,o,c,s)},"PUBLIC").setMultipleInstances(!0)),Gr(C_,E_,t),Gr(C_,E_,"esm2020")}class aI{constructor(e,s){this.committed=e,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Jo(t,e,s){if(t=Hs(t),aS("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=!0,o=new na,c=(h,m,p)=>{let g=null;h?o.reject(h):(g=new $r(p,new Wn(t._repo,t._path),it),o.resolve(new aI(m,g)))},u=yp(t,()=>{});return U2(t._repo,t._path,e,c,u,r),o.promise}hi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};hi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};rI();var oI="firebase",lI="12.9.0";Gr(oI,lI,"app");const cI={apiKey:"AIzaSyD7f_fbDPiRf1Usm6AbymeeeCw-iEWZ5xs",authDomain:"notculture-board-game.firebaseapp.com",databaseURL:"https://notculture-board-game-default-rtdb.europe-west1.firebasedatabase.app",projectId:"notculture-board-game",storageBucket:"notculture-board-game.firebasestorage.app",messagingSenderId:"110068266707",appId:"1:110068266707:web:8ca21aec951f5838238626"},uI=ex(cI),De=iI(uI),fI=3600*1e3;function hS(){return Math.random().toString(36).substring(2,8).toUpperCase()}function vp(){return`${Date.now()}_${Math.random().toString(36).substring(2,7)}`}async function dI(t){const e=hS(),s=vp();return await aa(Ie(De,`rooms/${e}`),{createdAt:Date.now(),players:{[s]:{id:s,name:t,position:0}},playerOrder:[s],currentPlayerIndex:0,currentRoll:null,currentQuestion:null,answerResult:null,gameState:"waiting"}),{roomCode:e,playerId:s}}async function ib(t,e,s){const r=Ie(De,`rooms/${t}`),o=await Kt(r);if(!o.exists())return null;const c=o.val();if(c.createdAt&&Date.now()-c.createdAt>fI)return await aa(r,null),null;const u=s??vp(),h=c.players||{};return h[u]?(h[u].name!==e&&await tt(r,{[`players/${u}/name`]:e}),{playerId:u}):(await tt(r,{[`players/${u}`]:{id:u,name:e,position:0}}),await Jo(Ie(De,`rooms/${t}/playerOrder`),m=>{const p=m??[];return p.includes(u)?p:[...p,u]}),{playerId:u})}async function hI(t,e){const s=Ie(De,`rooms/${t}`);await tt(s,{[`players/${e}`]:null});let r=0;await Jo(Ie(De,`rooms/${t}/playerOrder`),o=>{const u=(o??[]).filter(h=>h!==e);return r=u.length,u}),r===0&&await aa(s,null)}async function mI(t,e){const s=Ie(De,`rooms/${t}`),r=await Kt(s);if(!r.exists())return!1;const o=r.val(),c=Object.keys(o.players||{}),u=o.currentPlayerIndex||0,h=(o.playerOrder||c)[u];if(e!==h)return!1;const m=Math.floor(Math.random()*6)+1;return await tt(s,{currentRoll:{value:m,id:Date.now()}}),!0}async function sb(t,e){await tt(Ie(De,`rooms/${t}`),{currentQuestion:e})}async function pI(t,e,s,r){await tt(Ie(De,`rooms/${t}`),{answerResult:{selectedIndex:e,correctIndex:s,wasCorrect:r}})}async function bh(t,e,s){await tt(Ie(De,`rooms/${t}/players/${e}`),{position:s})}async function Cc(t){const e=Ie(De,`rooms/${t}`),s=await Kt(e);if(!s.exists())return;const r=s.val(),o=r.playerOrder||[],u=((r.currentPlayerIndex||0)+1)%o.length;await tt(e,{currentPlayerIndex:u,currentQuestion:null,currentRoll:null,answerResult:null,cultureEvent:null,notEvent:null})}async function rb(t,e){await Jo(Ie(De,`rooms/${t}/cultureEvent`),s=>{if(s===null)return{active:!0,questionIndex:e}})}async function gI(t){await tt(Ie(De,`rooms/${t}/cultureEvent`),{timerStartedAt:Date.now()})}async function yI(t){await tt(Ie(De,`rooms/${t}/cultureEvent`),{timerStartedAt:Date.now()-999e3})}async function vI(t,e){await tt(Ie(De,`rooms/${t}/cultureEvent`),{score:e})}async function ab(t,e){await Jo(Ie(De,`rooms/${t}/notEvent`),s=>{if(s===null)return{active:!0,question:e}})}async function _I(t){await tt(Ie(De,`rooms/${t}/notEvent`),{timerStartedAt:Date.now()})}async function bI(t){await tt(Ie(De,`rooms/${t}/notEvent`),{timerStartedAt:Date.now()-999e3})}async function xI(t,e){await tt(Ie(De,`rooms/${t}/notEvent`),{score:e})}async function _p(t){const e=Ie(De,`rooms/${t}`),s=await Kt(e);if(!s.exists())return;const r=s.val(),o=r.players||{},c=r.resetId||0,u={};for(const[h,m]of Object.entries(o))u[h]={...m,position:0};await tt(e,{players:u,currentPlayerIndex:0,currentQuestion:null,currentRoll:null,answerResult:null,resetId:c+1})}async function SI(t,e){const s=hS(),r=vp(),o=`team_${Date.now()}`,c={name:e,playerIds:[r],position:0,answerIndex:0};return await aa(Ie(De,`rooms/${s}`),{createdAt:Date.now(),players:{[r]:{id:r,name:t}},playerOrder:[],currentPlayerIndex:0,currentRoll:null,currentQuestion:null,answerResult:null,gameState:"waiting",isTeamMode:!0,teams:{[o]:c},teamOrder:[o],currentTeamIndex:0,currentAnswererId:r,currentDescriberId:null}),{roomCode:s,playerId:r,teamId:o}}async function wI(t,e){const s=Ie(De,`rooms/${t}`),r=await Kt(s);if(!r.exists())return null;const c=r.val().teamOrder||[];if(c.length>=4)return null;const u=`team_${Date.now()}`,h={name:e,playerIds:[],position:0,answerIndex:0};return await tt(s,{[`teams/${u}`]:h,teamOrder:[...c,u]}),u}async function ob(t,e,s,r){const o=Ie(De,`rooms/${t}`),c=await Kt(o);if(!c.exists())return!1;const u=c.val(),h=u.teams?.[r];if(!h)return!1;const m=h.playerIds||[];if(m.includes(e))return u.players?.[e]?.name!==s&&await tt(o,{[`players/${e}/name`]:s}),!0;if(m.length>=2)return!1;await tt(o,{[`players/${e}`]:{id:e,name:s}});let p=!1;return await Jo(Ie(De,`rooms/${t}/teams/${r}/playerIds`),g=>{const v=g??[];return v.includes(e)?(p=!0,v):v.length>=2?v:(p=!0,[...v,e])}),p}async function TI(t,e,s){const r=Ie(De,`rooms/${t}`),o=await Kt(r);if(!o.exists())return;const c=o.val(),u=c.teams||{},h=c.teamOrder||[],m=u[s];if(!m)return;const p=(m.playerIds||[]).filter(g=>g!==e);if(p.length===0){const g=h.filter(v=>v!==s);if(g.length===0){await aa(r,null);return}await tt(r,{[`players/${e}`]:null,[`teams/${s}`]:null,teamOrder:g})}else await tt(r,{[`players/${e}`]:null,[`teams/${s}/playerIds`]:p})}async function CI(t,e){const s=Ie(De,`rooms/${t}`),r=await Kt(s);if(!r.exists())return!1;const o=r.val(),c=o.teamOrder||[],u=o.currentTeamIndex||0,h=c[u],m=o.teams?.[h];if(!m)return!1;const p=m.playerIds||[];if(!p.includes(e))return!1;const g=m.answerIndex??0,v=p[g%Math.max(1,p.length)],_=p.length>1?p[(g+1)%p.length]:null,S=Math.floor(Math.random()*6)+1;return await tt(s,{currentRoll:{value:S,id:Date.now()},currentAnswererId:v,currentDescriberId:_}),!0}async function Ec(t){const e=Ie(De,`rooms/${t}`),s=await Kt(e);if(!s.exists())return;const r=s.val(),o=r.teamOrder||[],c=r.teams||{},u=r.currentTeamIndex||0,h=o[u],m=c[h],p=m?.playerIds||[],g=p.length>1?((m?.answerIndex??0)+1)%p.length:0,v=(u+1)%o.length,_=o[v],S=c[_],T=S?.playerIds||[],M=_===h?g:S?.answerIndex??0,R=T[M%Math.max(1,T.length)]??null,D=T.length>1?T[(M+1)%T.length]:null;await tt(e,{currentTeamIndex:v,[`teams/${h}/answerIndex`]:g,currentRoll:null,currentQuestion:null,answerResult:null,cultureEvent:null,notEvent:null,currentAnswererId:R,currentDescriberId:D})}async function xh(t,e,s){await tt(Ie(De,`rooms/${t}/teams/${e}`),{position:s})}async function EI(t){const e=Ie(De,`rooms/${t}`),s=await Kt(e);if(!s.exists())return;const r=s.val(),o=r.teams||{},c=r.teamOrder||[],u=r.resetId||0,h={};for(const S of Object.keys(o))h[`teams/${S}/position`]=0,h[`teams/${S}/answerIndex`]=0;const m=c[0],g=o[m]?.playerIds||[],v=g[0]??null,_=g.length>1?g[1]:null;await tt(e,{...h,currentTeamIndex:0,currentRoll:null,currentQuestion:null,answerResult:null,cultureEvent:null,notEvent:null,currentAnswererId:v,currentDescriberId:_,resetId:u+1})}function AI(){const t=Dt(),e=ln(),{identity:s}=qs(),{getQuestion:r}=sA(),{playSound:o}=Ho(),[c,u]=A.useState({rolling:!1,finalValue:1,displayValue:1,onComplete:null}),h=A.useRef(!1),m=A.useRef(t);m.current=t;const p=A.useRef(s);p.current=s;const g=A.useRef(new Set),v=A.useRef(null),_=A.useCallback((L,z,N,Q)=>{if(h.current)return;h.current=!0;let ne=z,ce=N;function he(){if(ce<=0){h.current=!1,Q?.(),ne>=Mn&&e({type:"SHOW_WIN_MODAL",show:!0});return}ne<Mn&&(o("move"),ne++,e({type:"SET_PLAYER_POSITION",playerId:L,position:ne})),ce--,setTimeout(he,ao)}he()},[e,o]),S=A.useCallback(L=>{const z=m.current,N=p.current,Q=z.players[z.currentPlayerIndex];if(!Q)return;const ne=Q.position;let ce;ne===0||ne===Ki.length-1?ce=Nn[Math.floor(Math.random()*Nn.length)]:ce=Nn[ne%Nn.length],e({type:"SET_PENDING_CATEGORY",category:ce});const he=r(ce,L);he&&(e({type:"SET_ACTIVE_QUESTION",question:he,roll:L}),z.gameMode==="online"&&N.roomCode&&sb(N.roomCode,he.id))},[r,e]);A.useEffect(()=>{if(!(!m.current.isTurnLocked||m.current.gameMode!=="online")&&!(m.current.showCultureModal||m.current.showNotModal||m.current.showQuestionModal))return v.current=setTimeout(()=>{e({type:"UNLOCK_TURN"})},1e4),()=>{v.current!==null&&(clearTimeout(v.current),v.current=null)}},[t.isTurnLocked,t.gameMode,t.showCultureModal,t.showNotModal,t.showQuestionModal,e]),A.useEffect(()=>{if(t.isTurnLocked||t.showCultureModal||t.showNotModal)return;const L=t.players[t.currentPlayerIndex];if(!L)return;const z=L.position;if(!(z<=0||z>=Mn)&&!(!mo.has(z)&&!Vh.has(z)))if(t.gameMode==="online"){if(!s.roomCode)return;if(t.isTeamMode){if(!s.playerId||s.playerId!==t.currentAnswererId)return}else if(!s.playerName||L.name!==s.playerName)return;if(e({type:"LOCK_TURN"}),mo.has(z)){const N=Uh,ne=(t.currentPlayerIndex+z)%N.length;rb(s.roomCode,ne)}else{const N=lh;let Q=N.filter(ce=>!g.current.has(ce.id));Q.length===0&&(g.current.clear(),Q=N);const ne=Q[Math.floor(Math.random()*Q.length)];g.current.add(ne.id),ab(s.roomCode,ne)}}else if(e({type:"LOCK_TURN"}),mo.has(z))e({type:"SHOW_CULTURE_MODAL",show:!0});else{const N=lh;let Q=N.filter(ce=>!g.current.has(ce.id));Q.length===0&&(g.current.clear(),Q=N);const ne=Q[Math.floor(Math.random()*Q.length)];g.current.add(ne.id),e({type:"SET_NOT_CARD",card:ne}),e({type:"SHOW_NOT_MODAL",show:!0})}},[t.currentPlayerIndex,t.isTurnLocked,t.showCultureModal,t.showNotModal,t.gameMode,t.isTeamMode,t.currentAnswererId,t.players,s.playerName,s.playerId,s.roomCode,e]);const T=A.useCallback((L,z)=>{if(t.debugMode){u(N=>({...N,displayValue:L})),z();return}u({rolling:!0,finalValue:L,displayValue:L,onComplete:()=>{u(N=>({...N,rolling:!1})),z()}})},[t.debugMode]),M=A.useCallback(()=>{if(t.isTurnLocked)return;if(t.gameMode==="online"&&s.roomCode&&s.playerId){if(t.isTeamMode){if(t.activeTeamId&&s.teamId!==t.activeTeamId)return;CI(s.roomCode,s.playerId)}else mI(s.roomCode,s.playerId);return}e({type:"LOCK_TURN"});const L=Math.floor(Math.random()*6)+1;if(t.debugMode){u(z=>({...z,displayValue:L})),S(L);return}u({rolling:!0,finalValue:L,displayValue:L,onComplete:()=>{u(z=>({...z,rolling:!1})),S(L)}})},[t.isTurnLocked,t.gameMode,t.debugMode,t.isTeamMode,t.activeTeamId,s,e,S]),R=A.useCallback(L=>{if(!t.activeQuestion)return;const z=L===t.activeQuestion.correctIndex;return o(z?"correct":"wrong"),t.gameMode==="online"&&s.roomCode&&(!t.isTeamMode||s.playerId===t.currentAnswererId)&&pI(s.roomCode,L,t.activeQuestion.correctIndex,z).catch(Q=>{console.error("[submitAnswer] Firebase write failed:",Q)}),{correct:z,correctIndex:t.activeQuestion.correctIndex}},[t.activeQuestion,t.gameMode,t.isTeamMode,t.currentAnswererId,s,o]),D=A.useCallback(L=>{const z=m.current,N=z.players[z.currentPlayerIndex];if(e({type:"SHOW_QUESTION_MODAL",show:!1}),e({type:"CLEAR_QUESTION"}),z.gameMode==="online"&&s.roomCode&&s.playerId){if(e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"}),L){const Q=Math.min(N.position+z.pendingMove,Mn);z.isTeamMode&&s.teamId?(Ec(s.roomCode).catch(ne=>{console.error("[advanceTeamTurn] Firebase write failed:",ne)}),_(N.id,N.position,z.pendingMove),setTimeout(()=>{xh(s.roomCode,s.teamId,Q).catch(ne=>{console.error("[updateTeamPosition] Firebase write failed:",ne)})},z.pendingMove*ao+100)):(Cc(s.roomCode).catch(ne=>{console.error("[advanceTurn] Firebase write failed:",ne)}),_(N.id,N.position,z.pendingMove),setTimeout(()=>{bh(s.roomCode,s.playerId,Q).catch(ne=>{console.error("[updatePlayerPosition] Firebase write failed:",ne)})},z.pendingMove*ao+100))}else z.isTeamMode?Ec(s.roomCode).catch(Q=>{console.error("[advanceTeamTurn] Firebase write failed:",Q)}):Cc(s.roomCode).catch(Q=>{console.error("[advanceTurn] Firebase write failed:",Q)});return}L?(_(N.id,N.position,z.pendingMove),setTimeout(()=>{e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"})},z.pendingMove*ao+100)):(e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"}))},[e,_,s]),G=A.useCallback(L=>{e({type:"SHOW_CULTURE_MODAL",show:!1});const z=m.current.players[m.current.currentPlayerIndex],N=z.position;_(z.id,N,L,()=>{const Q=Math.min(N+L,Mn);e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"}),m.current.gameMode==="online"&&s.roomCode&&(m.current.isTeamMode&&s.teamId?(xh(s.roomCode,s.teamId,Q),Ec(s.roomCode)):s.playerId&&(bh(s.roomCode,s.playerId,Q),Cc(s.roomCode)))})},[e,_,s]),q=A.useCallback(L=>{e({type:"SHOW_NOT_MODAL",show:!1});const z=m.current.players[m.current.currentPlayerIndex],N=z.position;_(z.id,N,L,()=>{const Q=Math.min(N+L,Mn);e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"}),m.current.gameMode==="online"&&s.roomCode&&(m.current.isTeamMode&&s.teamId?(xh(s.roomCode,s.teamId,Q),Ec(s.roomCode)):s.playerId&&(bh(s.roomCode,s.playerId,Q),Cc(s.roomCode)))})},[e,_,s]),k=A.useCallback(L=>{if(L===0||L>=Mn)return;if(e({type:"LOCK_TURN"}),mo.has(L)){if(t.gameMode==="online"&&s.roomCode){const ne=Uh,he=(t.currentPlayerIndex+L)%ne.length;rb(s.roomCode,he)}else e({type:"SHOW_CULTURE_MODAL",show:!0});return}if(Vh.has(L)){const ne=lh;let ce=ne.filter(Fe=>!g.current.has(Fe.id));ce.length===0&&(g.current.clear(),ce=ne);const he=ce[Math.floor(Math.random()*ce.length)];g.current.add(he.id),t.gameMode==="online"&&s.roomCode?ab(s.roomCode,he):(e({type:"SET_NOT_CARD",card:he}),e({type:"SHOW_NOT_MODAL",show:!0}));return}const z=Nn[L%Nn.length];e({type:"SET_PENDING_CATEGORY",category:z});const N=Math.floor(Math.random()*6)+1,Q=r(z,N);Q&&(e({type:"SET_ACTIVE_QUESTION",question:Q,roll:N}),t.gameMode==="online"&&s.roomCode&&sb(s.roomCode,Q.id))},[t.gameMode,s.roomCode,e,r]),W=A.useCallback(()=>{if(!t.debugMode)return;const L=t.players[t.currentPlayerIndex];L&&(e({type:"SHOW_QUESTION_MODAL",show:!1}),e({type:"CLEAR_QUESTION"}),_(L.id,L.position,t.pendingMove),setTimeout(()=>{e({type:"ADVANCE_TURN"}),e({type:"UNLOCK_TURN"})},t.pendingMove*ao+100))},[t.debugMode,t.players,t.currentPlayerIndex,t.pendingMove,e,_]);return{handleDiceRoll:M,handleAnswer:R,afterAnswer:D,handleSkip:W,handleCultureScore:G,handleNotScore:q,triggerTileAt:k,diceState:c,animateMovement:_,processRoll:S,triggerDiceAnimation:T}}const mS=A.createContext(null);function MI({children:t}){const e=AI();return b.jsx(mS.Provider,{value:e,children:t})}function oa(){const t=A.useContext(mS);if(!t)throw new Error("useGameLogicContext must be used within GameLogicProvider");return t}function NI(){const t=Dt(),e=ln(),s=t.players[t.currentPlayerIndex],[r,o]=A.useState(null),[c,u]=A.useState(""),[h,m]=A.useState(null),p=A.useRef(null),g=A.useRef(null);A.useEffect(()=>{r!==null&&p.current&&(p.current.focus(),p.current.select())},[r]),A.useEffect(()=>{if(h===null)return;function S(T){g.current&&!g.current.contains(T.target)&&m(null)}return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[h]);function v(S,T){o(S),u(T)}function _(){if(r===null)return;const S=c.trim();S&&e({type:"RENAME_PLAYER",playerId:r,name:S}),o(null)}return b.jsx("div",{className:"relative z-10 flex flex-wrap justify-center gap-2 my-1.5",children:t.players.map(S=>b.jsxs("div",{className:`relative flex items-center gap-1 rounded-full bg-surface px-2 py-1 text-xs transition-all duration-200 ${S.id===s?.id?"scale-105 outline outline-2 outline-white":""}`,children:[b.jsx("button",{className:"h-3 w-3 rounded-full flex-shrink-0 hover:ring-2 hover:ring-white/60 hover:ring-offset-1",style:{backgroundColor:S.color??Dn[S.id]},onClick:T=>{T.stopPropagation(),m(h===S.id?null:S.id)},"aria-label":"Change colour"}),h===S.id&&b.jsx("div",{ref:g,className:"absolute top-full left-1/2 -translate-x-1/2 mt-1 z-50 grid gap-1.5 rounded-lg bg-surface p-2 shadow-xl",style:{gridTemplateColumns:"repeat(6, 1.5rem)"},children:ZE.map(T=>b.jsx("button",{className:"h-6 w-6 rounded-full transition-transform hover:scale-110",style:{backgroundColor:T,outline:(S.color??Dn[S.id])===T?"2px solid white":"none",outlineOffset:"2px"},onClick:M=>{M.stopPropagation(),e({type:"SET_PLAYER_COLOR",playerId:S.id,color:T}),m(null)},"aria-label":T},T))}),r===S.id?b.jsx("input",{ref:p,type:"text",value:c,onChange:T=>u(T.target.value),onBlur:_,onKeyDown:T=>{T.key==="Enter"&&_(),T.key==="Escape"&&o(null)},className:"bg-transparent outline-none border-b border-white/50 text-white w-20 text-xs",maxLength:16}):b.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>v(S.id,S.name),children:S.name})]},S.id))})}const bp=A.createContext({});function Ru(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const pS=typeof window<"u",xp=pS?A.useLayoutEffect:A.useEffect,Iu=A.createContext(null);function Sp(t,e){t.indexOf(e)===-1&&t.push(e)}function au(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const Gn=(t,e,s)=>s>e?e:s<t?t:s;let wp=()=>{};const gi={},gS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function yS(t){return typeof t=="object"&&t!==null}const vS=t=>/^0[^.\s]+$/u.test(t);function _S(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sn=t=>t,RI=(t,e)=>s=>e(t(s)),$o=(...t)=>t.reduce(RI),zo=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r};class Tp{constructor(){this.subscriptions=[]}add(e){return Sp(this.subscriptions,e),()=>au(this.subscriptions,e)}notify(e,s,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,s,r);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kn=t=>t*1e3,xn=t=>t/1e3;function bS(t,e){return e?t*(1e3/e):0}const xS=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,II=1e-7,DI=12;function OI(t,e,s,r,o){let c,u,h=0;do u=e+(s-e)/2,c=xS(u,r,o)-t,c>0?s=u:e=u;while(Math.abs(c)>II&&++h<DI);return u}function el(t,e,s,r){if(t===e&&s===r)return Sn;const o=c=>OI(c,0,1,t,s);return c=>c===0||c===1?c:xS(o(c),e,r)}const SS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wS=t=>e=>1-t(1-e),TS=el(.33,1.53,.69,.99),Cp=wS(TS),CS=SS(Cp),ES=t=>(t*=2)<1?.5*Cp(t):.5*(2-Math.pow(2,-10*(t-1))),Ep=t=>1-Math.sin(Math.acos(t)),AS=wS(Ep),MS=SS(Ep),kI=el(.42,0,1,1),LI=el(0,0,.58,1),NS=el(.42,0,.58,1),BI=t=>Array.isArray(t)&&typeof t[0]!="number",RS=t=>Array.isArray(t)&&typeof t[0]=="number",jI={linear:Sn,easeIn:kI,easeInOut:NS,easeOut:LI,circIn:Ep,circInOut:MS,circOut:AS,backIn:Cp,backInOut:CS,backOut:TS,anticipate:ES},zI=t=>typeof t=="string",lb=t=>{if(RS(t)){wp(t.length===4);const[e,s,r,o]=t;return el(e,s,r,o)}else if(zI(t))return jI[t];return t},Ac=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function PI(t,e){let s=new Set,r=new Set,o=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,v=!1,_=!1)=>{const T=_&&o?s:r;return v&&u.add(g),T.has(g)||T.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(h=g,o){c=!0;return}o=!0,[s,r]=[r,s],s.forEach(m),s.clear(),o=!1,c&&(c=!1,p.process(g))}};return p}const VI=40;function IS(t,e){let s=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=Ac.reduce((q,k)=>(q[k]=PI(c),q),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:g,update:v,preRender:_,render:S,postRender:T}=u,M=()=>{const q=gi.useManualTiming?o.timestamp:performance.now();s=!1,gi.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(q-o.timestamp,VI),1)),o.timestamp=q,o.isProcessing=!0,h.process(o),m.process(o),p.process(o),g.process(o),v.process(o),_.process(o),S.process(o),T.process(o),o.isProcessing=!1,s&&e&&(r=!1,t(M))},R=()=>{s=!0,r=!0,o.isProcessing||t(M)};return{schedule:Ac.reduce((q,k)=>{const W=u[k];return q[k]=(L,z=!1,N=!1)=>(s||R(),W.schedule(L,z,N)),q},{}),cancel:q=>{for(let k=0;k<Ac.length;k++)u[Ac[k]].cancel(q)},state:o,steps:u}}const{schedule:Ze,cancel:rs,state:Nt,steps:Sh}=IS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sn,!0);let Lc;function UI(){Lc=void 0}const zt={now:()=>(Lc===void 0&&zt.set(Nt.isProcessing||gi.useManualTiming?Nt.timestamp:performance.now()),Lc),set:t=>{Lc=t,queueMicrotask(UI)}},DS=t=>e=>typeof e=="string"&&e.startsWith(t),OS=DS("--"),qI=DS("var(--"),Ap=t=>qI(t)?HI.test(t.split("/*")[0].trim()):!1,HI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function cb(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const la={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Po={...la,transform:t=>Gn(0,1,t)},Mc={...la,default:1},So=t=>Math.round(t*1e5)/1e5,Mp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GI(t){return t==null}const WI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Np=(t,e)=>s=>!!(typeof s=="string"&&WI.test(s)&&s.startsWith(t)||e&&!GI(s)&&Object.prototype.hasOwnProperty.call(s,e)),kS=(t,e,s)=>r=>{if(typeof r!="string")return r;const[o,c,u,h]=r.match(Mp);return{[t]:parseFloat(o),[e]:parseFloat(c),[s]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},FI=t=>Gn(0,255,t),wh={...la,transform:t=>Math.round(FI(t))},ks={test:Np("rgb","red"),parse:kS("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+wh.transform(t)+", "+wh.transform(e)+", "+wh.transform(s)+", "+So(Po.transform(r))+")"};function YI(t){let e="",s="",r="",o="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,s+=s,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const lm={test:Np("#"),parse:YI,transform:ks.transform},tl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qi=tl("deg"),Hn=tl("%"),ae=tl("px"),QI=tl("vh"),KI=tl("vw"),ub={...Hn,parse:t=>Hn.parse(t)/100,transform:t=>Hn.transform(t*100)},Pr={test:Np("hsl","hue"),parse:kS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+Hn.transform(So(e))+", "+Hn.transform(So(s))+", "+So(Po.transform(r))+")"},mt={test:t=>ks.test(t)||lm.test(t)||Pr.test(t),parse:t=>ks.test(t)?ks.parse(t):Pr.test(t)?Pr.parse(t):lm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ks.transform(t):Pr.transform(t),getAnimatableNone:t=>{const e=mt.parse(t);return e.alpha=0,mt.transform(e)}},XI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZI(t){return isNaN(t)&&typeof t=="string"&&(t.match(Mp)?.length||0)+(t.match(XI)?.length||0)>0}const LS="number",BS="color",JI="var",$I="var(",fb="${}",eD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vo(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},o=[];let c=0;const h=e.replace(eD,m=>(mt.test(m)?(r.color.push(c),o.push(BS),s.push(mt.parse(m))):m.startsWith($I)?(r.var.push(c),o.push(JI),s.push(m)):(r.number.push(c),o.push(LS),s.push(parseFloat(m))),++c,fb)).split(fb);return{values:s,split:h,indexes:r,types:o}}function jS(t){return Vo(t).values}function zS(t){const{split:e,types:s}=Vo(t),r=e.length;return o=>{let c="";for(let u=0;u<r;u++)if(c+=e[u],o[u]!==void 0){const h=s[u];h===LS?c+=So(o[u]):h===BS?c+=mt.transform(o[u]):c+=o[u]}return c}}const tD=t=>typeof t=="number"?0:mt.test(t)?mt.getAnimatableNone(t):t;function nD(t){const e=jS(t);return zS(t)(e.map(tD))}const Ln={test:ZI,parse:jS,createTransformer:zS,getAnimatableNone:nD};function Th(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function iD({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let o=0,c=0,u=0;if(!e)o=c=u=s;else{const h=s<.5?s*(1+e):s+e-s*e,m=2*s-h;o=Th(m,h,t+1/3),c=Th(m,h,t),u=Th(m,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function ou(t,e){return s=>s>0?e:t}const nt=(t,e,s)=>t+(e-t)*s,Ch=(t,e,s)=>{const r=t*t,o=s*(e*e-r)+r;return o<0?0:Math.sqrt(o)},sD=[lm,ks,Pr],rD=t=>sD.find(e=>e.test(t));function db(t){const e=rD(t);if(!e)return!1;let s=e.parse(t);return e===Pr&&(s=iD(s)),s}const hb=(t,e)=>{const s=db(t),r=db(e);if(!s||!r)return ou(t,e);const o={...s};return c=>(o.red=Ch(s.red,r.red,c),o.green=Ch(s.green,r.green,c),o.blue=Ch(s.blue,r.blue,c),o.alpha=nt(s.alpha,r.alpha,c),ks.transform(o))},cm=new Set(["none","hidden"]);function aD(t,e){return cm.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function oD(t,e){return s=>nt(t,e,s)}function Rp(t){return typeof t=="number"?oD:typeof t=="string"?Ap(t)?ou:mt.test(t)?hb:uD:Array.isArray(t)?PS:typeof t=="object"?mt.test(t)?hb:lD:ou}function PS(t,e){const s=[...t],r=s.length,o=t.map((c,u)=>Rp(c)(c,e[u]));return c=>{for(let u=0;u<r;u++)s[u]=o[u](c);return s}}function lD(t,e){const s={...t,...e},r={};for(const o in s)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Rp(t[o])(t[o],e[o]));return o=>{for(const c in r)s[c]=r[c](o);return s}}function cD(t,e){const s=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][r[c]],h=t.values[u]??0;s[o]=h,r[c]++}return s}const uD=(t,e)=>{const s=Ln.createTransformer(e),r=Vo(t),o=Vo(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?cm.has(t)&&!o.values.length||cm.has(e)&&!r.values.length?aD(t,e):$o(PS(cD(r,o),o.values),s):ou(t,e)};function VS(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?nt(t,e,s):Rp(t)(t,e)}const fD=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>Ze.update(e,s),stop:()=>rs(e),now:()=>Nt.isProcessing?Nt.timestamp:zt.now()}},US=(t,e,s=10)=>{let r="";const o=Math.max(Math.round(e/s),2);for(let c=0;c<o;c++)r+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},lu=2e4;function Ip(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<lu;)e+=s,r=t.next(e);return e>=lu?1/0:e}function dD(t,e=100,s){const r=s({...t,keyframes:[0,e]}),o=Math.min(Ip(r),lu);return{type:"keyframes",ease:c=>r.next(o*c).value/e,duration:xn(o)}}const hD=5;function qS(t,e,s){const r=Math.max(e-hD,0);return bS(s-t(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Eh=.001;function mD({duration:t=at.duration,bounce:e=at.bounce,velocity:s=at.velocity,mass:r=at.mass}){let o,c,u=1-e;u=Gn(at.minDamping,at.maxDamping,u),t=Gn(at.minDuration,at.maxDuration,xn(t)),u<1?(o=p=>{const g=p*u,v=g*t,_=g-s,S=um(p,u),T=Math.exp(-v);return Eh-_/S*T},c=p=>{const v=p*u*t,_=v*s+s,S=Math.pow(u,2)*Math.pow(p,2)*t,T=Math.exp(-v),M=um(Math.pow(p,2),u);return(-o(p)+Eh>0?-1:1)*((_-S)*T)/M}):(o=p=>{const g=Math.exp(-p*t),v=(p-s)*t+1;return-Eh+g*v},c=p=>{const g=Math.exp(-p*t),v=(s-p)*(t*t);return g*v});const h=5/t,m=gD(o,c,h);if(t=kn(t),isNaN(m))return{stiffness:at.stiffness,damping:at.damping,duration:t};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const pD=12;function gD(t,e,s){let r=s;for(let o=1;o<pD;o++)r=r-t(r)/e(r);return r}function um(t,e){return t*Math.sqrt(1-e*e)}const yD=["duration","bounce"],vD=["stiffness","damping","mass"];function mb(t,e){return e.some(s=>t[s]!==void 0)}function _D(t){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...t};if(!mb(t,vD)&&mb(t,yD))if(e.velocity=0,t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),o=r*r,c=2*Gn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:at.mass,stiffness:o,damping:c}}else{const s=mD({...t,velocity:0});e={...e,...s,mass:at.mass},e.isResolvedFromDuration=!0}return e}function cu(t=at.visualDuration,e=at.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],h={done:!1,value:c},{stiffness:m,damping:p,mass:g,duration:v,velocity:_,isResolvedFromDuration:S}=_D({...s,velocity:-xn(s.velocity||0)}),T=_||0,M=p/(2*Math.sqrt(m*g)),R=u-c,D=xn(Math.sqrt(m/g)),G=Math.abs(R)<5;r||(r=G?at.restSpeed.granular:at.restSpeed.default),o||(o=G?at.restDelta.granular:at.restDelta.default);let q;if(M<1){const W=um(D,M);q=L=>{const z=Math.exp(-M*D*L);return u-z*((T+M*D*R)/W*Math.sin(W*L)+R*Math.cos(W*L))}}else if(M===1)q=W=>u-Math.exp(-D*W)*(R+(T+D*R)*W);else{const W=D*Math.sqrt(M*M-1);q=L=>{const z=Math.exp(-M*D*L),N=Math.min(W*L,300);return u-z*((T+M*D*R)*Math.sinh(N)+W*R*Math.cosh(N))/W}}const k={calculatedDuration:S&&v||null,next:W=>{const L=q(W);if(S)h.done=W>=v;else{let z=W===0?T:0;M<1&&(z=W===0?kn(T):qS(q,W,L));const N=Math.abs(z)<=r,Q=Math.abs(u-L)<=o;h.done=N&&Q}return h.value=h.done?u:L,h},toString:()=>{const W=Math.min(Ip(k),lu),L=US(z=>k.next(W*z).value,W,30);return W+"ms "+L},toTransition:()=>{}};return k}cu.applyToOptions=t=>{const e=dD(t,100,cu);return t.ease=e.ease,t.duration=kn(e.duration),t.type="keyframes",t};function fm({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:m,restDelta:p=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},S=N=>h!==void 0&&N<h||m!==void 0&&N>m,T=N=>h===void 0?m:m===void 0||Math.abs(h-N)<Math.abs(m-N)?h:m;let M=s*e;const R=v+M,D=u===void 0?R:u(R);D!==R&&(M=D-v);const G=N=>-M*Math.exp(-N/r),q=N=>D+G(N),k=N=>{const Q=G(N),ne=q(N);_.done=Math.abs(Q)<=p,_.value=_.done?D:ne};let W,L;const z=N=>{S(_.value)&&(W=N,L=cu({keyframes:[_.value,T(_.value)],velocity:qS(q,N,_.value),damping:o,stiffness:c,restDelta:p,restSpeed:g}))};return z(0),{calculatedDuration:null,next:N=>{let Q=!1;return!L&&W===void 0&&(Q=!0,k(N),z(N)),W!==void 0&&N>=W?L.next(N-W):(!Q&&k(N),_)}}}function bD(t,e,s){const r=[],o=s||gi.mix||VS,c=t.length-1;for(let u=0;u<c;u++){let h=o(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||Sn:e;h=$o(m,h)}r.push(h)}return r}function xD(t,e,{clamp:s=!0,ease:r,mixer:o}={}){const c=t.length;if(wp(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=bD(e,r,o),m=h.length,p=g=>{if(u&&g<t[0])return e[0];let v=0;if(m>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const _=zo(t[v],t[v+1],g);return h[v](_)};return s?g=>p(Gn(t[0],t[c-1],g)):p}function SD(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const o=zo(0,e,r);t.push(nt(s,1,o))}}function wD(t){const e=[0];return SD(e,t.length-1),e}function TD(t,e){return t.map(s=>s*e)}function CD(t,e){return t.map(()=>e||NS).splice(0,t.length-1)}function wo({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const o=BI(r)?r.map(lb):lb(r),c={done:!1,value:e[0]},u=TD(s&&s.length===e.length?s:wD(e),t),h=xD(u,e,{ease:Array.isArray(o)?o:CD(e,o)});return{calculatedDuration:t,next:m=>(c.value=h(m),c.done=m>=t,c)}}const ED=t=>t!==null;function Dp(t,{repeat:e,repeatType:s="loop"},r,o=1){const c=t.filter(ED),h=o<0||e&&s!=="loop"&&e%2===1?0:c.length-1;return!h||r===void 0?c[h]:r}const AD={decay:fm,inertia:fm,tween:wo,keyframes:wo,spring:cu};function HS(t){typeof t.type=="string"&&(t.type=AD[t.type])}class Op{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const MD=t=>t/100;class kp extends Op{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==zt.now()&&this.tick(zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;HS(e);const{type:s=wo,repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const m=s||wo;m!==wo&&typeof h[0]!="number"&&(this.mixKeyframes=$o(MD,VS(h[0],h[1])),h=[0,100]);const p=m({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Ip(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:r,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:_,repeatDelay:S,type:T,onUpdate:M,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const D=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?D<0:D>o;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let q=this.currentTime,k=r;if(v){const N=Math.min(this.currentTime,o)/h;let Q=Math.floor(N),ne=N%1;!ne&&N>=1&&(ne=1),ne===1&&Q--,Q=Math.min(Q,v+1),Q%2&&(_==="reverse"?(ne=1-ne,S&&(ne-=S/h)):_==="mirror"&&(k=u)),q=Gn(0,1,ne)*h}const W=G?{done:!1,value:g[0]}:k.next(q);c&&(W.value=c(W.value));let{done:L}=W;!G&&m!==null&&(L=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return z&&T!==fm&&(W.value=Dp(g,this.options,R,this.speed)),M&&M(W.value),z&&this.finish(),W}then(e,s){return this.finished.then(e,s)}get duration(){return xn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xn(e)}get time(){return xn(this.currentTime)}set time(e){e=kn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zt.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=xn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=fD,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ND(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ls=t=>t*180/Math.PI,dm=t=>{const e=Ls(Math.atan2(t[1],t[0]));return hm(e)},RD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:dm,rotateZ:dm,skewX:t=>Ls(Math.atan(t[1])),skewY:t=>Ls(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},hm=t=>(t=t%360,t<0&&(t+=360),t),pb=dm,gb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),yb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ID={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gb,scaleY:yb,scale:t=>(gb(t)+yb(t))/2,rotateX:t=>hm(Ls(Math.atan2(t[6],t[5]))),rotateY:t=>hm(Ls(Math.atan2(-t[2],t[0]))),rotateZ:pb,rotate:pb,skewX:t=>Ls(Math.atan(t[4])),skewY:t=>Ls(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function mm(t){return t.includes("scale")?1:0}function pm(t,e){if(!t||t==="none")return mm(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(s)r=ID,o=s;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RD,o=h}if(!o)return mm(e);const c=r[e],u=o[1].split(",").map(OD);return typeof c=="function"?c(u):u[c]}const DD=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return pm(s,e)};function OD(t){return parseFloat(t.trim())}const ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ua=new Set(ca),vb=t=>t===la||t===ae,kD=new Set(["x","y","z"]),LD=ca.filter(t=>!kD.has(t));function BD(t){const e=[];return LD.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const Zi={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>pm(e,"x"),y:(t,{transform:e})=>pm(e,"y")};Zi.translateX=Zi.x;Zi.translateY=Zi.y;const Bs=new Set;let gm=!1,ym=!1,vm=!1;function GS(){if(ym){const t=Array.from(Bs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const o=BD(r);o.length&&(s.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=s.get(r);o&&o.forEach(([c,u])=>{r.getValue(c)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ym=!1,gm=!1,Bs.forEach(t=>t.complete(vm)),Bs.clear()}function WS(){Bs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ym=!0)})}function jD(){vm=!0,WS(),GS(),vm=!1}class Lp{constructor(e,s,r,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Bs.add(this),gm||(gm=!0,Ze.read(WS),Ze.resolveKeyframes(GS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:o}=this;if(e[0]===null){const c=o?.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&s){const h=r.readValue(s,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}ND(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Bs.delete(this)}cancel(){this.state==="scheduled"&&(Bs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zD=t=>t.startsWith("--");function PD(t,e,s){zD(e)?t.style.setProperty(e,s):t.style[e]=s}const VD={};function FS(t,e){const s=_S(t);return()=>VD[e]??s()}const UD=FS(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),YS=FS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),po=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,_b={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:po([0,.65,.55,1]),circOut:po([.55,0,1,.45]),backIn:po([.31,.01,.66,-.59]),backOut:po([.33,1.53,.69,.99])};function QS(t,e){if(t)return typeof t=="function"?YS()?US(t,e):"ease-out":RS(t)?po(t):Array.isArray(t)?t.map(s=>QS(s,e)||_b.easeOut):_b[t]}function qD(t,e,s,{delay:r=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:m}={},p=void 0){const g={[e]:s};m&&(g.offset=m);const v=QS(h,o);Array.isArray(v)&&(g.easing=v);const _={delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function KS(t){return typeof t=="function"&&"applyToOptions"in t}function HD({type:t,...e}){return KS(t)&&YS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class XS extends Op{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:s,name:r,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,wp(typeof e.type!="string");const p=HD(e);this.animation=qD(s,r,o,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=Dp(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):PD(s,r,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xn(e)}get time(){return xn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=kn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&UD()?(this.animation.timeline=e,Sn):s(this)}}const ZS={anticipate:ES,backInOut:CS,circInOut:MS};function GD(t){return t in ZS}function WD(t){typeof t.ease=="string"&&GD(t.ease)&&(t.ease=ZS[t.ease])}const Ah=10;class FD extends XS{constructor(e){WD(e),HS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:r,onComplete:o,element:c,...u}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new kp({...u,autoplay:!1}),m=Math.max(Ah,zt.now()-this.startTime),p=Gn(0,Ah,m-Ah);s.setWithVelocity(h.sample(Math.max(0,m-p)).value,h.sample(m).value,p),h.stop()}}const bb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ln.test(t)||t==="0")&&!t.startsWith("url("));function YD(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function QD(t,e,s,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=bb(o,e),h=bb(c,e);return!u||!h?!1:YD(t)||(s==="spring"||KS(s))&&r}function _m(t){t.duration=0,t.type="keyframes"}const KD=new Set(["opacity","clipPath","filter","transform"]),XD=_S(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ZD(t){const{motionValue:e,name:s,repeatDelay:r,repeatType:o,damping:c,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return XD()&&s&&KD.has(s)&&(s!=="transform"||!p)&&!m&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}const JD=40;class $D extends Op{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:m,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zt.now();const _={autoplay:e,delay:s,type:r,repeat:o,repeatDelay:c,repeatType:u,name:m,motionValue:p,element:g,...v},S=g?.KeyframeResolver||Lp;this.keyframeResolver=new S(h,(T,M,R)=>this.onKeyframesResolved(T,M,_,!R),m,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,r,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:m,isHandoff:p,onUpdate:g}=r;this.resolvedAt=zt.now(),QD(e,c,u,h)||((gi.instantAnimations||!m)&&g?.(Dp(e,r,s)),e[0]=e[e.length-1],_m(r),r.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>JD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:e},S=!p&&ZD(_),T=_.motionValue?.owner?.current,M=S?new FD({..._,element:T}):new kp(_);M.finished.then(()=>{this.notifyFinished()}).catch(Sn),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),jD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function JS(t,e,s,r=0,o=1){const c=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*r;return typeof s=="function"?s(c,u):o===1?c*r:h-c*r}const eO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tO(t){const e=eO.exec(t);if(!e)return[,];const[,s,r,o]=e;return[`--${s??r}`,o]}function $S(t,e,s=1){const[r,o]=tO(t);if(!r)return;const c=window.getComputedStyle(e).getPropertyValue(r);if(c){const u=c.trim();return gS(u)?parseFloat(u):u}return Ap(o)?$S(o,e,s+1):o}const nO={type:"spring",stiffness:500,damping:25,restSpeed:10},iO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sO={type:"keyframes",duration:.8},rO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aO=(t,{keyframes:e})=>e.length>2?sO:ua.has(t)?t.startsWith("scale")?iO(e[1]):nO:rO,oO=t=>t!==null;function lO(t,{repeat:e,repeatType:s="loop"},r){const o=t.filter(oO),c=e&&s!=="loop"&&e%2===1?0:o.length-1;return o[c]}function ew(t,e){if(t?.inherit&&e){const{inherit:s,...r}=t;return{...e,...r}}return t}function Bp(t,e){const s=t?.[e]??t?.default??t;return s!==t?ew(s,t):s}function cO({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:h,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const jp=(t,e,s,r={},o,c)=>u=>{const h=Bp(r,t)||{},m=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-kn(m);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:c?void 0:o};cO(h)||Object.assign(g,aO(t,g)),g.duration&&(g.duration=kn(g.duration)),g.repeatDelay&&(g.repeatDelay=kn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(_m(g),g.delay===0&&(v=!0)),(gi.instantAnimations||gi.skipAnimations||o?.shouldSkipAnimations)&&(v=!0,_m(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!c&&e.get()!==void 0){const _=lO(g.keyframes,h);if(_!==void 0){Ze.update(()=>{g.onUpdate(_),g.onComplete()});return}}return h.isSync?new kp(g):new $D(g)};function xb(t){const e=[{},{}];return t?.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function zp(t,e,s,r){if(typeof e=="function"){const[o,c]=xb(r);e=e(s!==void 0?s:t.custom,o,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,c]=xb(r);e=e(s!==void 0?s:t.custom,o,c)}return e}function Yr(t,e,s){const r=t.getProps();return zp(r,e,s!==void 0?s:r.custom,t)}const tw=new Set(["width","height","top","left","right","bottom",...ca]),Sb=30,uO=t=>!isNaN(parseFloat(t));class fO{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=zt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=zt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Tp);const r=this.events[e].add(s);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sb)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Sb);return bS(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ea(t,e){return new fO(t,e)}const bm=t=>Array.isArray(t);function dO(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,ea(s))}function hO(t){return bm(t)?t[t.length-1]||0:t}function Pp(t,e){const s=Yr(t,e);let{transitionEnd:r={},transition:o={},...c}=s||{};c={...c,...r};for(const u in c){const h=hO(c[u]);dO(t,u,h)}}const kt=t=>!!(t&&t.getVelocity);function mO(t){return!!(kt(t)&&t.add)}function xm(t,e){const s=t.getValue("willChange");if(mO(s))return s.add(e);if(!s&&gi.WillChange){const r=new gi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Vp(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const pO="framerAppearId",nw="data-"+Vp(pO);function iw(t){return t.props[nw]}function gO({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function sw(t,e,{delay:s=0,transitionOverride:r,type:o}={}){let{transition:c,transitionEnd:u,...h}=e;const m=t.getDefaultTransition();c=c?ew(c,m):m;const p=c?.reduceMotion;r&&(c=r);const g=[],v=o&&t.animationState&&t.animationState.getState()[o];for(const _ in h){const S=t.getValue(_,t.latestValues[_]??null),T=h[_];if(T===void 0||v&&gO(v,_))continue;const M={delay:s,...Bp(c||{},_)},R=S.get();if(R!==void 0&&!S.isAnimating&&!Array.isArray(T)&&T===R&&!M.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const k=iw(t);if(k){const W=window.MotionHandoffAnimation(k,_,Ze);W!==null&&(M.startTime=W,D=!0)}}xm(t,_);const G=p??t.shouldReduceMotion;S.start(jp(_,S,T,G&&tw.has(_)?{type:!1}:M,t,D));const q=S.animation;q&&g.push(q)}if(u){const _=()=>Ze.update(()=>{u&&Pp(t,u)});g.length?Promise.all(g).then(_):_()}return g}function Sm(t,e,s={}){const r=Yr(t,e,s.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(o=s.transitionOverride);const c=r?()=>Promise.all(sw(t,r,s)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=o;return yO(t,e,m,p,g,v,s)}:()=>Promise.resolve(),{when:h}=o;if(h){const[m,p]=h==="beforeChildren"?[c,u]:[u,c];return m().then(()=>p())}else return Promise.all([c(),u(s.delay)])}function yO(t,e,s=0,r=0,o=0,c=1,u){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(Sm(m,e,{...u,delay:s+(typeof r=="function"?0:r)+JS(t.variantChildren,m,r,o,c)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function rw(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(c=>Sm(t,c,s));r=Promise.all(o)}else if(typeof e=="string")r=Sm(t,e,s);else{const o=typeof e=="function"?Yr(t,e,s.custom):e;r=Promise.all(sw(t,o,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}const vO={test:t=>t==="auto",parse:t=>t},aw=t=>e=>e.test(t),ow=[la,ae,Hn,Qi,KI,QI,vO],wb=t=>ow.find(aw(t));function _O(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vS(t):!0}const bO=new Set(["brightness","contrast","saturate","opacity"]);function xO(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(Mp)||[];if(!r)return t;const o=s.replace(r,"");let c=bO.has(e)?1:0;return r!==s&&(c*=100),e+"("+c+o+")"}const SO=/\b([a-z-]*)\(.*?\)/gu,wm={...Ln,getAnimatableNone:t=>{const e=t.match(SO);return e?e.map(xO).join(" "):t}},Tm={...Ln,getAnimatableNone:t=>{const e=Ln.parse(t);return Ln.createTransformer(t)(e.map(r=>typeof r=="number"?0:typeof r=="object"?{...r,alpha:1}:r))}},Tb={...la,transform:Math.round},wO={rotate:Qi,rotateX:Qi,rotateY:Qi,rotateZ:Qi,scale:Mc,scaleX:Mc,scaleY:Mc,scaleZ:Mc,skew:Qi,skewX:Qi,skewY:Qi,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Po,originX:ub,originY:ub,originZ:ae},Up={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,inset:ae,insetBlock:ae,insetBlockStart:ae,insetBlockEnd:ae,insetInline:ae,insetInlineStart:ae,insetInlineEnd:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,paddingBlock:ae,paddingBlockStart:ae,paddingBlockEnd:ae,paddingInline:ae,paddingInlineStart:ae,paddingInlineEnd:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,marginBlock:ae,marginBlockStart:ae,marginBlockEnd:ae,marginInline:ae,marginInlineStart:ae,marginInlineEnd:ae,fontSize:ae,backgroundPositionX:ae,backgroundPositionY:ae,...wO,zIndex:Tb,fillOpacity:Po,strokeOpacity:Po,numOctaves:Tb},TO={...Up,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:wm,WebkitFilter:wm,mask:Tm,WebkitMask:Tm},lw=t=>TO[t],CO=new Set([wm,Tm]);function cw(t,e){let s=lw(t);return CO.has(s)||(s=Ln),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const EO=new Set(["auto","none","0"]);function AO(t,e,s){let r=0,o;for(;r<t.length&&!o;){const c=t[r];typeof c=="string"&&!EO.has(c)&&Vo(c).values.length&&(o=t[r]),r++}if(o&&s)for(const c of e)t[c]=cw(s,o)}class MO extends Lp{constructor(e,s,r,o,c){super(e,s,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),Ap(v))){const _=$S(v,s.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!tw.has(r)||e.length!==2)return;const[o,c]=e,u=wb(o),h=wb(c),m=cb(o),p=cb(c);if(m!==p&&Zi[r]){this.needsMeasurement=!0;return}if(u!==h)if(vb(u)&&vb(h))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Zi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||_O(e[o]))&&r.push(o);r.length&&AO(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(s);o&&o.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=Zi[s](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const NO=new Set(["opacity","clipPath","filter","transform"]);function uw(t,e,s){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=s?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t).filter(r=>r!=null)}const fw=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Cm(t){return yS(t)&&"offsetHeight"in t}const{schedule:qp}=IS(queueMicrotask,!1),An={x:!1,y:!1};function dw(){return An.x||An.y}function RO(t){return t==="x"||t==="y"?An[t]?null:(An[t]=!0,()=>{An[t]=!1}):An.x||An.y?null:(An.x=An.y=!0,()=>{An.x=An.y=!1})}function hw(t,e){const s=uw(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[s,o,()=>r.abort()]}function IO(t){return!(t.pointerType==="touch"||dw())}function DO(t,e,s={}){const[r,o,c]=hw(t,s);return r.forEach(u=>{let h=!1,m=!1,p;const g=()=>{u.removeEventListener("pointerleave",T)},v=R=>{p&&(p(R),p=void 0),g()},_=R=>{h=!1,window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",_),m&&(m=!1,v(R))},S=()=>{h=!0,window.addEventListener("pointerup",_,o),window.addEventListener("pointercancel",_,o)},T=R=>{if(R.pointerType!=="touch"){if(h){m=!0;return}v(R)}},M=R=>{if(!IO(R))return;m=!1;const D=e(u,R);typeof D=="function"&&(p=D,u.addEventListener("pointerleave",T,o))};u.addEventListener("pointerenter",M,o),u.addEventListener("pointerdown",S,o)}),c}const mw=(t,e)=>e?t===e?!0:mw(t,e.parentElement):!1,Hp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,OO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kO(t){return OO.has(t.tagName)||t.isContentEditable===!0}const LO=new Set(["INPUT","SELECT","TEXTAREA"]);function BO(t){return LO.has(t.tagName)||t.isContentEditable===!0}const Bc=new WeakSet;function Cb(t){return e=>{e.key==="Enter"&&t(e)}}function Mh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jO=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=Cb(()=>{if(Bc.has(s))return;Mh(s,"down");const o=Cb(()=>{Mh(s,"up")}),c=()=>Mh(s,"cancel");s.addEventListener("keyup",o,e),s.addEventListener("blur",c,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Eb(t){return Hp(t)&&!dw()}const Ab=new WeakSet;function zO(t,e,s={}){const[r,o,c]=hw(t,s),u=h=>{const m=h.currentTarget;if(!Eb(h)||Ab.has(h))return;Bc.add(m),s.stopPropagation&&Ab.add(h);const p=e(m,h),g=(S,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",_),Bc.has(m)&&Bc.delete(m),Eb(S)&&typeof p=="function"&&p(S,{success:T})},v=S=>{g(S,m===window||m===document||s.useGlobalTarget||mw(m,S.target))},_=S=>{g(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",_,o)};return r.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),Cm(h)&&(h.addEventListener("focus",p=>jO(p,o)),!kO(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function Gp(t){return yS(t)&&"ownerSVGElement"in t}const jc=new WeakMap;let zc;const pw=(t,e,s)=>(r,o)=>o&&o[0]?o[0][t+"Size"]:Gp(r)&&"getBBox"in r?r.getBBox()[e]:r[s],PO=pw("inline","width","offsetWidth"),VO=pw("block","height","offsetHeight");function UO({target:t,borderBoxSize:e}){jc.get(t)?.forEach(s=>{s(t,{get width(){return PO(t,e)},get height(){return VO(t,e)}})})}function qO(t){t.forEach(UO)}function HO(){typeof ResizeObserver>"u"||(zc=new ResizeObserver(qO))}function GO(t,e){zc||HO();const s=uw(t);return s.forEach(r=>{let o=jc.get(r);o||(o=new Set,jc.set(r,o)),o.add(e),zc?.observe(r)}),()=>{s.forEach(r=>{const o=jc.get(r);o?.delete(e),o?.size||zc?.unobserve(r)})}}const Pc=new Set;let Vr;function WO(){Vr=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Pc.forEach(e=>e(t))},window.addEventListener("resize",Vr)}function FO(t){return Pc.add(t),Vr||WO(),()=>{Pc.delete(t),!Pc.size&&typeof Vr=="function"&&(window.removeEventListener("resize",Vr),Vr=void 0)}}function Mb(t,e){return typeof t=="function"?FO(t):GO(t,e)}function YO(t){return Gp(t)&&t.tagName==="svg"}const QO=[...ow,mt,Ln],KO=t=>QO.find(aw(t)),Nb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ur=()=>({x:Nb(),y:Nb()}),Rb=()=>({min:0,max:0}),vt=()=>({x:Rb(),y:Rb()}),XO=new WeakMap;function Du(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Uo(t){return typeof t=="string"||Array.isArray(t)}const Wp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fp=["initial",...Wp];function Ou(t){return Du(t.animate)||Fp.some(e=>Uo(t[e]))}function gw(t){return!!(Ou(t)||t.variants)}function ZO(t,e,s){for(const r in e){const o=e[r],c=s[r];if(kt(o))t.addValue(r,o);else if(kt(c))t.addValue(r,ea(o,{owner:t}));else if(c!==o)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(r);t.addValue(r,ea(u!==void 0?u:o,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const Em={current:null},yw={current:!1},JO=typeof window<"u";function $O(){if(yw.current=!0,!!JO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Em.current=t.matches;t.addEventListener("change",e),e()}else Em.current=!1}const Ib=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let uu={};function vw(t){uu=t}function e3(){return uu}class t3{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:o,skipAnimations:c,blockInitialAnimation:u,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Lp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=zt.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Ze.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=c,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Ou(s),this.isVariantNode=gw(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(s,{},this);for(const S in _){const T=_[S];p[S]!==void 0&&kt(T)&&T.set(p[S])}}mount(e){if(this.hasBeenMounted)for(const s in this.initialValues)this.values.get(s)?.jump(this.initialValues[s]),this.latestValues[s]=this.initialValues[s];this.current=e,XO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(yw.current||$O(),this.shouldReduceMotion=Em.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),s.accelerate&&NO.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:h,times:m,ease:p,duration:g}=s.accelerate,v=new XS({element:this.current,name:e,keyframes:h,times:m,ease:p,duration:kn(g)}),_=u(v);this.valueSubscriptions.set(e,()=>{_(),v.cancel()});return}const r=ua.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in uu){const s=uu[e];if(!s)continue;const{isEnabled:r,Feature:o}=s;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Ib.length;r++){const o=Ib[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=ZO(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=ea(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(gS(r)||vS(r))?r=parseFloat(r):!KO(r)&&Ln.test(s)&&(r=cw(e,s)),this.setBaseTarget(e,kt(r)?r.get():r)),kt(r)?r.get():r}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const c=zp(this.props,s,this.presenceContext?.custom);c&&(r=c[e])}if(s&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!kt(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Tp),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){qp.render(this.render)}}class _w extends t3{constructor(){super(...arguments),this.KeyframeResolver=MO}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){const r=e.style;return r?r[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kt(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class as{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bw({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function n3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function i3(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Nh(t){return t===void 0||t===1}function Am({scale:t,scaleX:e,scaleY:s}){return!Nh(t)||!Nh(e)||!Nh(s)}function Ds(t){return Am(t)||xw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function xw(t){return Db(t.x)||Db(t.y)}function Db(t){return t&&t!=="0%"}function fu(t,e,s){const r=t-s,o=e*r;return s+o}function Ob(t,e,s,r,o){return o!==void 0&&(t=fu(t,o,r)),fu(t,s,r)+e}function Mm(t,e=0,s=1,r,o){t.min=Ob(t.min,e,s,r,o),t.max=Ob(t.max,e,s,r,o)}function Sw(t,{x:e,y:s}){Mm(t.x,e.translate,e.scale,e.originPoint),Mm(t.y,s.translate,s.scale,s.originPoint)}const kb=.999999999999,Lb=1.0000000000001;function s3(t,e,s,r=!1){const o=s.length;if(!o)return;e.x=e.y=1;let c,u;for(let h=0;h<o;h++){c=s[h],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Hr(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Sw(t,u)),r&&Ds(c.latestValues)&&Hr(t,c.latestValues))}e.x<Lb&&e.x>kb&&(e.x=1),e.y<Lb&&e.y>kb&&(e.y=1)}function qr(t,e){t.min=t.min+e,t.max=t.max+e}function Bb(t,e,s,r,o=.5){const c=nt(t.min,t.max,o);Mm(t,e,s,c,r)}function Hr(t,e){Bb(t.x,e.x,e.scaleX,e.scale,e.originX),Bb(t.y,e.y,e.scaleY,e.scale,e.originY)}function ww(t,e){return bw(i3(t.getBoundingClientRect(),e))}function r3(t,e,s){const r=ww(t,s),{scroll:o}=e;return o&&(qr(r.x,o.offset.x),qr(r.y,o.offset.y)),r}const a3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o3=ca.length;function l3(t,e,s){let r="",o=!0;for(let c=0;c<o3;c++){const u=ca[c],h=t[u];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);m=u.startsWith("scale")?p===1:p===0}if(!m||s){const p=fw(h,Up[u]);if(!m){o=!1;const g=a3[u]||u;r+=`${g}(${p}) `}s&&(e[u]=p)}}return r=r.trim(),s?r=s(e,o?"":r):o&&(r="none"),r}function Yp(t,e,s){const{style:r,vars:o,transformOrigin:c}=t;let u=!1,h=!1;for(const m in e){const p=e[m];if(ua.has(m)){u=!0;continue}else if(OS(m)){o[m]=p;continue}else{const g=fw(p,Up[m]);m.startsWith("origin")?(h=!0,c[m]=g):r[m]=g}}if(e.transform||(u||s?r.transform=l3(e,t.transform,s):r.transform&&(r.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:g=0}=c;r.transformOrigin=`${m} ${p} ${g}`}}function Tw(t,{style:e,vars:s},r,o){const c=t.style;let u;for(u in e)c[u]=e[u];o?.applyProjectionStyles(c,r);for(u in s)c.setProperty(u,s[u])}function jb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const s=jb(t,e.target.x),r=jb(t,e.target.y);return`${s}% ${r}%`}},c3={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,o=Ln.parse(t);if(o.length>5)return r;const c=Ln.createTransformer(t),u=typeof o[0]!="number"?1:0,h=s.x.scale*e.x,m=s.y.scale*e.y;o[0+u]/=h,o[1+u]/=m;const p=nt(h,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),c(o)}},Nm={borderRadius:{...fo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fo,borderTopRightRadius:fo,borderBottomLeftRadius:fo,borderBottomRightRadius:fo,boxShadow:c3};function Cw(t,{layout:e,layoutId:s}){return ua.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Nm[t]||t==="opacity")}function Qp(t,e,s){const r=t.style,o=e?.style,c={};if(!r)return c;for(const u in r)(kt(r[u])||o&&kt(o[u])||Cw(u,t)||s?.getValue(u)?.liveStyle!==void 0)&&(c[u]=r[u]);return c}function u3(t){return window.getComputedStyle(t)}class f3 extends _w{constructor(){super(...arguments),this.type="html",this.renderInstance=Tw}readValueFromInstance(e,s){if(ua.has(s))return this.projection?.isProjecting?mm(s):DD(e,s);{const r=u3(e),o=(OS(s)?r.getPropertyValue(s):r[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:s}){return ww(e,s)}build(e,s,r){Yp(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Qp(e,s,r)}}const d3={offset:"stroke-dashoffset",array:"stroke-dasharray"},h3={offset:"strokeDashoffset",array:"strokeDasharray"};function m3(t,e,s=1,r=0,o=!0){t.pathLength=1;const c=o?d3:h3;t[c.offset]=`${-r}`,t[c.array]=`${e} ${s}`}const p3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Ew(t,{attrX:e,attrY:s,attrScale:r,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...h},m,p,g){if(Yp(t,h,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:_}=t;v.transform&&(_.transform=v.transform,delete v.transform),(_.transform||v.transformOrigin)&&(_.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete v.transformBox);for(const S of p3)v[S]!==void 0&&(_[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),s!==void 0&&(v.y=s),r!==void 0&&(v.scale=r),o!==void 0&&m3(v,o,c,u,!1)}const Aw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Mw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function g3(t,e,s,r){Tw(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(Aw.has(o)?o:Vp(o),e.attrs[o])}function Nw(t,e,s){const r=Qp(t,e,s);for(const o in t)if(kt(t[o])||kt(e[o])){const c=ca.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=t[o]}return r}class y3 extends _w{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vt}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(ua.has(s)){const r=lw(s);return r&&r.default||0}return s=Aw.has(s)?s:Vp(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return Nw(e,s,r)}build(e,s,r){Ew(e,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,s,r,o){g3(e,s,r,o)}mount(e){this.isSVGTag=Mw(e.tagName),super.mount(e)}}const v3=Fp.length;function Rw(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Rw(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<v3;s++){const r=Fp[s],o=t.props[r];(Uo(o)||o===!1)&&(e[r]=o)}return e}function Iw(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}const _3=[...Wp].reverse(),b3=Wp.length;function x3(t){return e=>Promise.all(e.map(({animation:s,options:r})=>rw(t,s,r)))}function S3(t){let e=x3(t),s=zb(),r=!0;const o=m=>(p,g)=>{const v=Yr(t,g,m==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:_,transitionEnd:S,...T}=v;p={...p,...T,...S}}return p};function c(m){e=m(t)}function u(m){const{props:p}=t,g=Rw(t.parent)||{},v=[],_=new Set;let S={},T=1/0;for(let R=0;R<b3;R++){const D=_3[R],G=s[D],q=p[D]!==void 0?p[D]:g[D],k=Uo(q),W=D===m?G.isActive:null;W===!1&&(T=R);let L=q===g[D]&&q!==p[D]&&k;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),G.protectedKeys={...S},!G.isActive&&W===null||!q&&!G.prevProp||Du(q)||typeof q=="boolean")continue;if(D==="exit"&&G.isActive&&W!==!0){G.prevResolvedValues&&(S={...S,...G.prevResolvedValues});continue}const z=w3(G.prevProp,q);let N=z||D===m&&G.isActive&&!L&&k||R>T&&k,Q=!1;const ne=Array.isArray(q)?q:[q];let ce=ne.reduce(o(D),{});W===!1&&(ce={});const{prevResolvedValues:he={}}=G,Fe={...he,...ce},Re=K=>{N=!0,_.has(K)&&(Q=!0,_.delete(K)),G.needsAnimating[K]=!0;const ee=t.getValue(K);ee&&(ee.liveStyle=!1)};for(const K in Fe){const ee=ce[K],fe=he[K];if(S.hasOwnProperty(K))continue;let $=!1;bm(ee)&&bm(fe)?$=!Iw(ee,fe):$=ee!==fe,$?ee!=null?Re(K):_.add(K):ee!==void 0&&_.has(K)?Re(K):G.protectedKeys[K]=!0}G.prevProp=q,G.prevResolvedValues=ce,G.isActive&&(S={...S,...ce}),r&&t.blockInitialAnimation&&(N=!1);const je=L&&z;N&&(!je||Q)&&v.push(...ne.map(K=>{const ee={type:D};if(typeof K=="string"&&r&&!je&&t.manuallyAnimateOnMount&&t.parent){const{parent:fe}=t,$=Yr(fe,K);if(fe.enteringChildren&&$){const{delayChildren:w}=$.transition||{};ee.delay=JS(fe.enteringChildren,t,w)}}return{animation:K,options:ee}}))}if(_.size){const R={};if(typeof p.initial!="boolean"){const D=Yr(t,Array.isArray(p.initial)?p.initial[0]:p.initial);D&&D.transition&&(R.transition=D.transition)}_.forEach(D=>{const G=t.getBaseTarget(D),q=t.getValue(D);q&&(q.liveStyle=!0),R[D]=G??null}),v.push({animation:R})}let M=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(v):Promise.resolve()}function h(m,p){if(s[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),s[m].isActive=p;const g=u(m);for(const v in s)s[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>s,reset:()=>{s=zb()}}}function w3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Iw(e,t):!1}function Ms(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zb(){return{animate:Ms(!0),whileInView:Ms(),whileHover:Ms(),whileTap:Ms(),whileDrag:Ms(),whileFocus:Ms(),exit:Ms()}}function Pb(t,e){t.min=e.min,t.max=e.max}function En(t,e){Pb(t.x,e.x),Pb(t.y,e.y)}function Vb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Dw=1e-4,T3=1-Dw,C3=1+Dw,Ow=.01,E3=0-Ow,A3=0+Ow;function Pt(t){return t.max-t.min}function M3(t,e,s){return Math.abs(t-e)<=s}function Ub(t,e,s,r=.5){t.origin=r,t.originPoint=nt(e.min,e.max,t.origin),t.scale=Pt(s)/Pt(e),t.translate=nt(s.min,s.max,t.origin)-t.originPoint,(t.scale>=T3&&t.scale<=C3||isNaN(t.scale))&&(t.scale=1),(t.translate>=E3&&t.translate<=A3||isNaN(t.translate))&&(t.translate=0)}function To(t,e,s,r){Ub(t.x,e.x,s.x,r?r.originX:void 0),Ub(t.y,e.y,s.y,r?r.originY:void 0)}function qb(t,e,s){t.min=s.min+e.min,t.max=t.min+Pt(e)}function N3(t,e,s){qb(t.x,e.x,s.x),qb(t.y,e.y,s.y)}function Hb(t,e,s){t.min=e.min-s.min,t.max=t.min+Pt(e)}function du(t,e,s){Hb(t.x,e.x,s.x),Hb(t.y,e.y,s.y)}function Gb(t,e,s,r,o){return t-=e,t=fu(t,1/s,r),o!==void 0&&(t=fu(t,1/o,r)),t}function R3(t,e=0,s=1,r=.5,o,c=t,u=t){if(Hn.test(e)&&(e=parseFloat(e),e=nt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=nt(c.min,c.max,r);t===c&&(h-=e),t.min=Gb(t.min,e,s,h,o),t.max=Gb(t.max,e,s,h,o)}function Wb(t,e,[s,r,o],c,u){R3(t,e[s],e[r],e[o],e.scale,c,u)}const I3=["x","scaleX","originX"],D3=["y","scaleY","originY"];function Fb(t,e,s,r){Wb(t.x,e,I3,s?s.x:void 0,r?r.x:void 0),Wb(t.y,e,D3,s?s.y:void 0,r?r.y:void 0)}function Yb(t){return t.translate===0&&t.scale===1}function kw(t){return Yb(t.x)&&Yb(t.y)}function Qb(t,e){return t.min===e.min&&t.max===e.max}function O3(t,e){return Qb(t.x,e.x)&&Qb(t.y,e.y)}function Kb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Lw(t,e){return Kb(t.x,e.x)&&Kb(t.y,e.y)}function Xb(t){return Pt(t.x)/Pt(t.y)}function Zb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function qn(t){return[t("x"),t("y")]}function k3(t,e,s){let r="";const o=t.x.translate/e.x,c=t.y.translate/e.y,u=s?.z||0;if((o||c||u)&&(r=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:_,skewX:S,skewY:T}=s;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),_&&(r+=`rotateY(${_}deg) `),S&&(r+=`skewX(${S}deg) `),T&&(r+=`skewY(${T}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(r+=`scale(${h}, ${m})`),r||"none"}const Bw=["TopLeft","TopRight","BottomLeft","BottomRight"],L3=Bw.length,Jb=t=>typeof t=="string"?parseFloat(t):t,$b=t=>typeof t=="number"||ae.test(t);function B3(t,e,s,r,o,c){o?(t.opacity=nt(0,s.opacity??1,j3(r)),t.opacityExit=nt(e.opacity??1,0,z3(r))):c&&(t.opacity=nt(e.opacity??1,s.opacity??1,r));for(let u=0;u<L3;u++){const h=`border${Bw[u]}Radius`;let m=e1(e,h),p=e1(s,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||$b(m)===$b(p)?(t[h]=Math.max(nt(Jb(m),Jb(p),r),0),(Hn.test(p)||Hn.test(m))&&(t[h]+="%")):t[h]=p}(e.rotate||s.rotate)&&(t.rotate=nt(e.rotate||0,s.rotate||0,r))}function e1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const j3=jw(0,.5,AS),z3=jw(.5,.95,Sn);function jw(t,e,s){return r=>r<t?0:r>e?1:s(zo(t,e,r))}function P3(t,e,s){const r=kt(t)?t:ea(t);return r.start(jp("",r,e,s)),r.animation}function qo(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}const V3=(t,e)=>t.depth-e.depth;class U3{constructor(){this.children=[],this.isDirty=!1}add(e){Sp(this.children,e),this.isDirty=!0}remove(e){au(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(V3),this.isDirty=!1,this.children.forEach(e)}}function q3(t,e){const s=zt.now(),r=({timestamp:o})=>{const c=o-s;c>=e&&(rs(r),t(c-e))};return Ze.setup(r,!0),()=>rs(r)}function Vc(t){return kt(t)?t.get():t}class H3{constructor(){this.members=[]}add(e){Sp(this.members,e);for(let s=this.members.length-1;s>=0;s--){const r=this.members[s];if(r===e||r===this.lead||r===this.prevLead)continue;const o=r.instance;o&&o.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&au(this.members,r)}e.scheduleRender()}remove(e){if(au(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(o=>e===o);if(s===0)return!1;let r;for(let o=s;o>=0;o--){const c=this.members[o],u=c.instance;if(c.isPresent!==!1&&(!u||u.isConnected!==!1)){r=c;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const o=r.options.layoutDependency,c=e.options.layoutDependency;if(!(o!==void 0&&c!==void 0&&o===c)){const m=r.instance;m&&m.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Uc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Rh=["","X","Y","Z"],G3=1e3;let W3=0;function Ih(t,e,s,r){const{latestValues:o}=e;o[t]&&(s[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=iw(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Ze,!(o||c))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zw(r)}function Pw({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},h=e?.()){this.id=W3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Q3),this.nodes.forEach(J3),this.nodes.forEach($3),this.nodes.forEach(K3)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new U3)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Tp),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Gp(u)&&!YO(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const _=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=q3(_,250),Uc.hasAnimatedSinceResize&&(Uc.hasAnimatedSinceResize=!1,this.nodes.forEach(i1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||s6,{onLayoutAnimationStart:M,onLayoutAnimationComplete:R}=p.getProps(),D=!this.targetLayout||!Lw(this.targetLayout,S),G=!v&&_;if(this.options.layoutRoot||this.resumeFrom||G||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Bp(T,"layout"),onPlay:M,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(g,G)}else v||i1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(e6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(n1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Z3),this.nodes.forEach(F3),this.nodes.forEach(Y3)):this.nodes.forEach(n1),this.clearAllSnapshots();const h=zt.now();Nt.delta=Gn(0,1e3/60,h-Nt.timestamp),Nt.timestamp=h,Nt.isProcessing=!0,Sh.update.process(Nt),Sh.preRender.process(Nt),Sh.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X3),this.sharedNodes.forEach(t6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pt(this.snapshot.measuredBox.x)&&!Pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!kw(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ds(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),r6(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return vt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(a6))){const{scroll:p}=this.root;p&&(qr(h.x,p.offset.x),qr(h.y,p.offset.y))}return h}removeElementScroll(u){const h=vt();if(En(h,u),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&En(h,u),qr(h.x,g.offset.x),qr(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const m=vt();En(m,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Hr(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ds(g.latestValues)&&Hr(m,g.latestValues)}return Ds(this.latestValues)&&Hr(m,this.latestValues),m}removeTransform(u){const h=vt();En(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ds(p.latestValues))continue;Am(p.latestValues)&&p.updateSnapshot();const g=vt(),v=p.measurePageBox();En(g,v),Fb(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ds(this.latestValues)&&Fb(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Nt.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vt(),this.targetWithTransforms=vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),N3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),Sw(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Am(this.parent.latestValues)||xw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vt(),this.relativeTargetOrigin=vt(),du(this.relativeTargetOrigin,h,m),En(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;En(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;s3(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=vt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Vb(this.prevProjectionDelta.x,this.projectionDelta.x),Vb(this.prevProjectionDelta.y,this.projectionDelta.y)),To(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!Zb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ur(),this.projectionDelta=Ur(),this.projectionDeltaWithTransform=Ur()}setAnimationOrigin(u,h=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},v=Ur();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=vt(),S=m?m.source:void 0,T=this.layout?this.layout.source:void 0,M=S!==T,R=this.getStack(),D=!R||R.members.length<=1,G=!!(M&&!D&&this.options.crossfade===!0&&!this.path.some(i6));this.animationProgress=0;let q;this.mixTargetDelta=k=>{const W=k/1e3;s1(v.x,u.x,W),s1(v.y,u.y,W),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(du(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n6(this.relativeTarget,this.relativeTargetOrigin,_,W),q&&O3(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=vt()),En(q,this.relativeTarget)),M&&(this.animationValues=g,B3(g,p,this.latestValues,W,G,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Uc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ea(0)),this.motionValue.jump(0,!1),this.currentAnimation=P3(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:g}=u;if(!(!h||!m||!p)){if(this!==u&&this.layout&&p&&Vw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||vt();const v=Pt(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const _=Pt(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+_}En(h,m),Hr(h,g),To(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new H3),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&Ih("z",u,p,this.animationValues);for(let g=0;g<Rh.length;g++)Ih(`rotate${Rh[g]}`,u,p,this.animationValues),Ih(`skew${Rh[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Vc(h?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Vc(h?.pointerEvents)||""),this.hasProjected&&!Ds(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=k3(this.projectionDeltaWithTransform,this.treeScale,g);m&&(v=m(g,v)),u.transform=v;const{x:_,y:S}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in Nm){if(g[T]===void 0)continue;const{correct:M,applyTo:R,isCSSVariable:D}=Nm[T],G=v==="none"?g[T]:M(g[T],p);if(R){const q=R.length;for(let k=0;k<q;k++)u[R[k]]=G}else D?this.options.visualElement.renderState.vars[T]=G:u[T]=G}this.options.layoutId&&(u.pointerEvents=p===this?Vc(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(t1),this.root.sharedNodes.clear()}}}function F3(t){t.updateLayout()}function Y3(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?qn(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],_=Pt(v);v.min=s[g].min,v.max=v.min+_}):Vw(o,e.layoutBox,s)&&qn(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],_=Pt(s[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const u=Ur();To(u,s,e.layoutBox);const h=Ur();c?To(h,t.applyTransform(r,!0),e.measuredBox):To(h,s,e.layoutBox);const m=!kw(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const S=vt();du(S,e.layoutBox,v.layoutBox);const T=vt();du(T,s,_.layoutBox),Lw(S,T)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Q3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function K3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function X3(t){t.clearSnapshot()}function t1(t){t.clearMeasurements()}function n1(t){t.isLayoutDirty=!1}function Z3(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function i1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function J3(t){t.resolveTargetDelta()}function $3(t){t.calcProjection()}function e6(t){t.resetSkewAndRotation()}function t6(t){t.removeLeadSnapshot()}function s1(t,e,s){t.translate=nt(e.translate,0,s),t.scale=nt(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function r1(t,e,s,r){t.min=nt(e.min,s.min,r),t.max=nt(e.max,s.max,r)}function n6(t,e,s,r){r1(t.x,e.x,s.x,r),r1(t.y,e.y,s.y,r)}function i6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const s6={duration:.45,ease:[.4,0,.1,1]},a1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o1=a1("applewebkit/")&&!a1("chrome/")?Math.round:Sn;function l1(t){t.min=o1(t.min),t.max=o1(t.max)}function r6(t){l1(t.x),l1(t.y)}function Vw(t,e,s){return t==="position"||t==="preserve-aspect"&&!M3(Xb(e),Xb(s),.2)}function a6(t){return t!==t.root&&t.scroll?.wasRoot}const o6=Pw({attachResizeListener:(t,e)=>qo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Dh={current:void 0},Uw=Pw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dh.current){const t=new o6({});t.mount(window),t.setOptions({layoutScroll:!0}),Dh.current=t}return Dh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Kp=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function c1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function l6(...t){return e=>{let s=!1;const r=t.map(o=>{const c=c1(o,e);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():c1(t[o],null)}}}}function c6(...t){return A.useCallback(l6(...t),t)}class u6 extends A.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=s.offsetParent,o=Cm(r)&&r.offsetWidth||0,c=Cm(r)&&r.offsetHeight||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=o-u.width-u.left,u.bottom=c-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function f6({children:t,isPresent:e,anchorX:s,anchorY:r,root:o,pop:c}){const u=A.useId(),h=A.useRef(null),m=A.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=A.useContext(Kp),g=t.props?.ref??t?.ref,v=c6(h,g);return A.useInsertionEffect(()=>{const{width:_,height:S,top:T,left:M,right:R,bottom:D}=m.current;if(e||c===!1||!h.current||!_||!S)return;const G=s==="left"?`left: ${M}`:`right: ${R}`,q=r==="bottom"?`bottom: ${D}`:`top: ${T}`;h.current.dataset.motionPopId=u;const k=document.createElement("style");p&&(k.nonce=p);const W=o??document.head;return W.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${S}px !important;
            ${G}px !important;
            ${q}px !important;
          }
        `),()=>{W.contains(k)&&W.removeChild(k)}},[e]),b.jsx(u6,{isPresent:e,childRef:h,sizeRef:m,pop:c,children:c===!1?t:A.cloneElement(t,{ref:v})})}const d6=({children:t,initial:e,isPresent:s,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:u,anchorX:h,anchorY:m,root:p})=>{const g=Ru(h6),v=A.useId();let _=!0,S=A.useMemo(()=>(_=!1,{id:v,initial:e,isPresent:s,custom:o,onExitComplete:T=>{g.set(T,!0);for(const M of g.values())if(!M)return;r&&r()},register:T=>(g.set(T,!1),()=>g.delete(T))}),[s,g,r]);return c&&_&&(S={...S}),A.useMemo(()=>{g.forEach((T,M)=>g.set(M,!1))},[s]),A.useEffect(()=>{!s&&!g.size&&r&&r()},[s]),t=b.jsx(f6,{pop:u==="popLayout",isPresent:s,anchorX:h,anchorY:m,root:p,children:t}),b.jsx(Iu.Provider,{value:S,children:t})};function h6(){return new Map}function qw(t=!0){const e=A.useContext(Iu);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:o}=e,c=A.useId();A.useEffect(()=>{if(t)return o(c)},[t]);const u=A.useCallback(()=>t&&r&&r(c),[c,r,t]);return!s&&r?[!1,u]:[!0]}const Nc=t=>t.key||"";function u1(t){const e=[];return A.Children.forEach(t,s=>{A.isValidElement(s)&&e.push(s)}),e}const Us=({children:t,custom:e,initial:s=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",anchorY:m="top",root:p})=>{const[g,v]=qw(u),_=A.useMemo(()=>u1(t),[t]),S=u&&!g?[]:_.map(Nc),T=A.useRef(!0),M=A.useRef(_),R=Ru(()=>new Map),D=A.useRef(new Set),[G,q]=A.useState(_),[k,W]=A.useState(_);xp(()=>{T.current=!1,M.current=_;for(let N=0;N<k.length;N++){const Q=Nc(k[N]);S.includes(Q)?(R.delete(Q),D.current.delete(Q)):R.get(Q)!==!0&&R.set(Q,!1)}},[k,S.length,S.join("-")]);const L=[];if(_!==G){let N=[..._];for(let Q=0;Q<k.length;Q++){const ne=k[Q],ce=Nc(ne);S.includes(ce)||(N.splice(Q,0,ne),L.push(ne))}return c==="wait"&&L.length&&(N=L),W(u1(N)),q(_),null}const{forceRender:z}=A.useContext(bp);return b.jsx(b.Fragment,{children:k.map(N=>{const Q=Nc(N),ne=u&&!g?!1:_===k||S.includes(Q),ce=()=>{if(D.current.has(Q))return;if(D.current.add(Q),R.has(Q))R.set(Q,!0);else return;let he=!0;R.forEach(Fe=>{Fe||(he=!1)}),he&&(z?.(),W(M.current),u&&v?.(),r&&r())};return b.jsx(d6,{isPresent:ne,initial:!T.current||s?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:p,onExitComplete:ne?void 0:ce,anchorX:h,anchorY:m,children:N},Q)})})},Hw=A.createContext({strict:!1}),f1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let d1=!1;function m6(){if(d1)return;const t={};for(const e in f1)t[e]={isEnabled:s=>f1[e].some(r=>!!s[r])};vw(t),d1=!0}function Gw(){return m6(),e3()}function p6(t){const e=Gw();for(const s in t)e[s]={...e[s],...t[s]};vw(e)}const g6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function hu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||g6.has(t)}let Ww=t=>!hu(t);function y6(t){typeof t=="function"&&(Ww=e=>e.startsWith("on")?!hu(e):t(e))}try{y6(require("@emotion/is-prop-valid").default)}catch{}function v6(t,e,s){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Ww(o)||s===!0&&hu(o)||!e&&!hu(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const ku=A.createContext({});function _6(t,e){if(Ou(t)){const{initial:s,animate:r}=t;return{initial:s===!1||Uo(s)?s:void 0,animate:Uo(r)?r:void 0}}return t.inherit!==!1?e:{}}function b6(t){const{initial:e,animate:s}=_6(t,A.useContext(ku));return A.useMemo(()=>({initial:e,animate:s}),[h1(e),h1(s)])}function h1(t){return Array.isArray(t)?t.join(" "):t}const Xp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fw(t,e,s){for(const r in e)!kt(e[r])&&!Cw(r,s)&&(t[r]=e[r])}function x6({transformTemplate:t},e){return A.useMemo(()=>{const s=Xp();return Yp(s,e,t),Object.assign({},s.vars,s.style)},[e])}function S6(t,e){const s=t.style||{},r={};return Fw(r,s,t),Object.assign(r,x6(t,e)),r}function w6(t,e){const s={},r=S6(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const Yw=()=>({...Xp(),attrs:{}});function T6(t,e,s,r){const o=A.useMemo(()=>{const c=Yw();return Ew(c,e,Mw(r),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};Fw(c,t.style,t),o.style={...c,...o.style}}return o}const C6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zp(t){return typeof t!="string"||t.includes("-")?!1:!!(C6.indexOf(t)>-1||/[A-Z]/u.test(t))}function E6(t,e,s,{latestValues:r},o,c=!1,u){const m=(u??Zp(t)?T6:w6)(e,r,o,t),p=v6(e,typeof t=="string",c),g=t!==A.Fragment?{...p,...m,ref:s}:{},{children:v}=e,_=A.useMemo(()=>kt(v)?v.get():v,[v]);return A.createElement(t,{...g,children:_})}function A6({scrapeMotionValuesFromProps:t,createRenderState:e},s,r,o){return{latestValues:M6(s,r,o,t),renderState:e()}}function M6(t,e,s,r){const o={},c=r(t,{});for(const _ in c)o[_]=Vc(c[_]);let{initial:u,animate:h}=t;const m=Ou(t),p=gw(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=s?s.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!Du(v)){const _=Array.isArray(v)?v:[v];for(let S=0;S<_.length;S++){const T=zp(t,_[S]);if(T){const{transitionEnd:M,transition:R,...D}=T;for(const G in D){let q=D[G];if(Array.isArray(q)){const k=g?q.length-1:0;q=q[k]}q!==null&&(o[G]=q)}for(const G in M)o[G]=M[G]}}}return o}const Qw=t=>(e,s)=>{const r=A.useContext(ku),o=A.useContext(Iu),c=()=>A6(t,e,r,o);return s?c():Ru(c)},N6=Qw({scrapeMotionValuesFromProps:Qp,createRenderState:Xp}),R6=Qw({scrapeMotionValuesFromProps:Nw,createRenderState:Yw}),I6=Symbol.for("motionComponentSymbol");function D6(t,e,s){const r=A.useRef(s);A.useInsertionEffect(()=>{r.current=s});const o=A.useRef(null);return A.useCallback(c=>{c&&t.onMount?.(c),e&&(c?e.mount(c):e.unmount());const u=r.current;if(typeof u=="function")if(c){const h=u(c);typeof h=="function"&&(o.current=h)}else o.current?(o.current(),o.current=null):u(c);else u&&(u.current=c)},[e])}const Kw=A.createContext({});function Br(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function O6(t,e,s,r,o,c){const{visualElement:u}=A.useContext(ku),h=A.useContext(Hw),m=A.useContext(Iu),p=A.useContext(Kp),g=p.reducedMotion,v=p.skipAnimations,_=A.useRef(null),S=A.useRef(!1);r=r||h.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:u,props:s,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g,skipAnimations:v,isSVG:c}),S.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));const T=_.current,M=A.useContext(Kw);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&k6(_.current,s,o,M);const R=A.useRef(!1);A.useInsertionEffect(()=>{T&&R.current&&T.update(s,m)});const D=s[nw],G=A.useRef(!!D&&!window.MotionHandoffIsComplete?.(D)&&window.MotionHasOptimisedAnimation?.(D));return xp(()=>{S.current=!0,T&&(R.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),T.scheduleRenderMicrotask(),G.current&&T.animationState&&T.animationState.animateChanges())}),A.useEffect(()=>{T&&(!G.current&&T.animationState&&T.animationState.animateChanges(),G.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(D)}),G.current=!1),T.enteringChildren=void 0)}),T}function k6(t,e,s,r){const{layoutId:o,layout:c,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Xw(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||h&&Br(h),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:p})}function Xw(t){if(t)return t.options.allowProjection!==!1?t.projection:Xw(t.parent)}function Oh(t,{forwardMotionProps:e=!1,type:s}={},r,o){r&&p6(r);const c=s?s==="svg":Zp(t),u=c?R6:N6;function h(p,g){let v;const _={...A.useContext(Kp),...p,layoutId:L6(p)},{isStatic:S}=_,T=b6(p),M=u(p,S);if(!S&&pS){B6();const R=j6(_);v=R.MeasureLayout,T.visualElement=O6(t,M,_,o,R.ProjectionNode,c)}return b.jsxs(ku.Provider,{value:T,children:[v&&T.visualElement?b.jsx(v,{visualElement:T.visualElement,..._}):null,E6(t,p,D6(M,T.visualElement,g),M,S,e,c)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=A.forwardRef(h);return m[I6]=t,m}function L6({layoutId:t}){const e=A.useContext(bp).id;return e&&t!==void 0?e+"-"+t:t}function B6(t,e){A.useContext(Hw).strict}function j6(t){const e=Gw(),{drag:s,layout:r}=e;if(!s&&!r)return{};const o={...s,...r};return{MeasureLayout:s?.isEnabled(t)||r?.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function z6(t,e){if(typeof Proxy>"u")return Oh;const s=new Map,r=(c,u)=>Oh(c,u,t,e),o=(c,u)=>r(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?r:(s.has(u)||s.set(u,Oh(u,void 0,t,e)),s.get(u))})}const P6=(t,e)=>e.isSVG??Zp(t)?new y3(e):new f3(e,{allowProjection:t!==A.Fragment});class V6 extends as{constructor(e){super(e),e.animationState||(e.animationState=S3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Du(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let U6=0;class q6 extends as{constructor(){super(...arguments),this.id=U6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);s&&!e&&o.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const H6={animation:{Feature:V6},exit:{Feature:q6}};function nl(t){return{point:{x:t.pageX,y:t.pageY}}}const G6=t=>e=>Hp(e)&&t(e,nl(e));function Co(t,e,s,r){return qo(t,e,G6(s),r)}const Zw=({current:t})=>t?t.ownerDocument.defaultView:null,m1=(t,e)=>Math.abs(t-e);function W6(t,e){const s=m1(t.x,e.x),r=m1(t.y,e.y);return Math.sqrt(s**2+r**2)}const p1=new Set(["auto","scroll"]);class Jw{constructor(e,s,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Lh(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,M=W6(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!M)return;const{point:R}=S,{timestamp:D}=Nt;this.history.push({...R,timestamp:D});const{onStart:G,onMove:q}=this.handlers;T||(G&&G(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,S)},this.handlePointerMove=(S,T)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=kh(T,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(S,T)=>{this.end();const{onEnd:M,onSessionEnd:R,resumeAnimation:D}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=Lh(S.type==="pointercancel"?this.lastMoveEventInfo:kh(T,this.transformPagePoint),this.history);this.startEvent&&M&&M(S,G),R&&R(S,G)},!Hp(e))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const m=nl(e),p=kh(m,this.transformPagePoint),{point:g}=p,{timestamp:v}=Nt;this.history=[{...g,timestamp:v}];const{onSessionStart:_}=s;_&&_(e,Lh(p,this.history)),this.removeListeners=$o(Co(this.contextWindow,"pointermove",this.handlePointerMove),Co(this.contextWindow,"pointerup",this.handlePointerUp),Co(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let s=e.parentElement;for(;s;){const r=getComputedStyle(s);(p1.has(r.overflowX)||p1.has(r.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const s=this.scrollPositions.get(e);if(!s)return;const r=e===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},c={x:o.x-s.x,y:o.y-s.y};c.x===0&&c.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(e,o),Ze.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),rs(this.updatePoint)}}function kh(t,e){return e?{point:e(t.point)}:t}function g1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lh({point:t},e){return{point:t,delta:g1(t,$w(e)),offset:g1(t,F6(e)),velocity:Y6(e,.1)}}function F6(t){return t[0]}function $w(t){return t[t.length-1]}function Y6(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const o=$w(t);for(;s>=0&&(r=t[s],!(o.timestamp-r.timestamp>kn(e)));)s--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&o.timestamp-r.timestamp>kn(e)*2&&(r=t[1]);const c=xn(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Q6(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?nt(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?nt(s,t,r.max):Math.min(t,s)),t}function y1(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function K6(t,{top:e,left:s,bottom:r,right:o}){return{x:y1(t.x,s,o),y:y1(t.y,e,r)}}function v1(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function X6(t,e){return{x:v1(t.x,e.x),y:v1(t.y,e.y)}}function Z6(t,e){let s=.5;const r=Pt(t),o=Pt(e);return o>r?s=zo(e.min,e.max-r,t.min):r>o&&(s=zo(t.min,t.max-o,e.min)),Gn(0,1,s)}function J6(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Rm=.35;function $6(t=Rm){return t===!1?t=0:t===!0&&(t=Rm),{x:_1(t,"left","right"),y:_1(t,"top","bottom")}}function _1(t,e,s){return{min:b1(t,e),max:b1(t,s)}}function b1(t,e){return typeof t=="number"?t:t[e]||0}const ek=new WeakMap;class tk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=v=>{s&&this.snapToCursor(nl(v).point),this.stopAnimation()},u=(v,_)=>{const{drag:S,dragPropagation:T,onDragStart:M}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RO(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(D=>{let G=this.getAxisMotionValue(D).get()||0;if(Hn.test(G)){const{projection:q}=this.visualElement;if(q&&q.layout){const k=q.layout.layoutBox[D];k&&(G=Pt(k)*(parseFloat(G)/100))}}this.originPoint[D]=G}),M&&Ze.update(()=>M(v,_),!1,!0),xm(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},h=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_;const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:M,onDrag:R}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:D}=_;if(T&&this.currentDirection===null){this.currentDirection=ik(D),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",_.point,D),this.updateAxis("y",_.point,D),this.visualElement.render(),R&&Ze.update(()=>R(v,_),!1,!0)},m=(v,_)=>{this.latestPointerEvent=v,this.latestPanInfo=_,this.stop(v,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:g}=this.getProps();this.panSession=new Jw(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:Zw(this.visualElement),element:this.visualElement.current})}stop(e,s){const r=e||this.latestPointerEvent,o=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Ze.postRender(()=>h(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,s,r){const{drag:o}=this.getProps();if(!r||!Rc(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=Q6(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Br(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=K6(r.layoutBox,e):this.constraints=!1,this.elastic=$6(s),o!==this.constraints&&!Br(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=J6(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Br(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=r3(r,o.root,this.visualElement.getTransformPagePoint());let u=X6(o.layout.layoutBox,c);if(s){const h=s(n3(u));this.hasMutatedConstraints=!!h,h&&(u=bw(h))}return u}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=qn(g=>{if(!Rc(g,s,this.currentDirection))return;let v=m&&m[g]||{};u&&(v={min:0,max:0});const _=o?200:1e6,S=o?40:1e7,T={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...c,...v};return this.startAxisValueAnimation(g,T)});return Promise.all(p).then(h)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return xm(this.visualElement,e),r.start(jp(e,r,0,s,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[s];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qn(s=>{const{drag:r}=this.getProps();if(!Rc(s,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[s],m=c.get()||0;c.set(e[s]-nt(u,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Br(s)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};qn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();o[u]=Z6({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),qn(u=>{if(!Rc(u,e,null))return;const h=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];h.set(nt(m,p,o[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;ek.set(this.visualElement,this);const e=this.visualElement.current,s=Co(e,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps(),_=p.target,S=_!==e&&BO(_);g&&v&&!S&&this.start(p)});let r;const o=()=>{const{dragConstraints:p}=this.getProps();Br(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),r||(r=nk(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:c}=this.visualElement,u=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Ze.read(o);const h=qo(window,"resize",()=>this.scalePositionWithinConstraints()),m=c.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(qn(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=p[v].translate,_.set(_.get()+p[v].translate))}),this.visualElement.render())}));return()=>{h(),s(),u(),m&&m(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=Rm,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function x1(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function nk(t,e,s){const r=Mb(t,x1(s)),o=Mb(e,x1(s));return()=>{r(),o()}}function Rc(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function ik(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class sk extends as{constructor(e){super(e),this.removeGroupControls=Sn,this.removeListeners=Sn,this.controls=new tk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};e!==s&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Bh=t=>(e,s)=>{t&&Ze.update(()=>t(e,s),!1,!0)};class rk extends as{constructor(){super(...arguments),this.removePointerDownListener=Sn}onPointerDown(e){this.session=new Jw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Bh(e),onStart:Bh(s),onMove:Bh(r),onEnd:(c,u)=>{delete this.session,o&&Ze.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Co(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let jh=!1;class ak extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=e;c&&(s.group&&s.group.add(c),r&&r.register&&o&&r.register(c),jh&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Uc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:o,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,e.layoutDependency!==s&&u.setOptions({...u.options,layoutDependency:s}),jh=!0,o||e.layoutDependency!==s||s===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Ze.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:o}=e;jh=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eT(t){const[e,s]=qw(),r=A.useContext(bp);return b.jsx(ak,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(Kw),isPresent:e,safeToRemove:s})}const ok={pan:{Feature:rk},drag:{Feature:sk,ProjectionNode:Uw,MeasureLayout:eT}};function S1(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=r[o];c&&Ze.postRender(()=>c(e,nl(e)))}class lk extends as{mount(){const{current:e}=this.node;e&&(this.unmount=DO(e,(s,r)=>(S1(this.node,r,"Start"),o=>S1(this.node,o,"End"))))}unmount(){}}class ck extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$o(qo(this.node.current,"focus",()=>this.onFocus()),qo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function w1(t,e,s){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=r[o];c&&Ze.postRender(()=>c(e,nl(e)))}class uk extends as{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:s,propagate:r}=this.node.props;this.unmount=zO(e,(o,c)=>(w1(this.node,c,"Start"),(u,{success:h})=>w1(this.node,u,h?"End":"Cancel")),{useGlobalTarget:s,stopPropagation:r?.tap===!1})}unmount(){}}const Im=new WeakMap,zh=new WeakMap,fk=t=>{const e=Im.get(t.target);e&&e(t)},dk=t=>{t.forEach(fk)};function hk({root:t,...e}){const s=t||document;zh.has(s)||zh.set(s,{});const r=zh.get(s),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(dk,{root:t,...e})),r[o]}function mk(t,e,s){const r=hk(e);return Im.set(t,s),r.observe(t),()=>{Im.delete(t),r.unobserve(t)}}const pk={some:0,all:1};class gk extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:o="some",once:c}=e,u={root:s?s.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:pk[o]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=p?g:v;_&&_(m)};return mk(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(yk(e,s))&&this.startObserver()}unmount(){}}function yk({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const vk={inView:{Feature:gk},tap:{Feature:uk},focus:{Feature:ck},hover:{Feature:lk}},_k={layout:{ProjectionNode:Uw,MeasureLayout:eT}},bk={...H6,...vk,...ok,..._k},Lt=z6(bk,P6);function xk(t){t.values.forEach(e=>e.stop())}function Dm(t,e){[...e].reverse().forEach(r=>{const o=t.getVariant(r);o&&Pp(t,o),t.variantChildren&&t.variantChildren.forEach(c=>{Dm(c,e)})})}function Sk(t,e){if(Array.isArray(e))return Dm(t,e);if(typeof e=="string")return Dm(t,[e]);Pp(t,e)}function wk(){const t=new Set,e={subscribe(s){return t.add(s),()=>{t.delete(s)}},start(s,r){const o=[];return t.forEach(c=>{o.push(rw(c,s,{transitionOverride:r}))}),Promise.all(o)},set(s){return t.forEach(r=>{Sk(r,s)})},stop(){t.forEach(s=>{xk(s)})},mount(){return()=>{e.stop()}}};return e}function Tk(){const t=Ru(wk);return xp(t.mount,[]),t}const Ck=Tk,Ek={1:"#800080",2:"#4682b4",3:"#008000",4:"#ffa500",5:"#c026d3",6:"#f97316"},Eo=100,Ao=100,Lr=88,T1=60,Ak=3e3;function C1(t){const e=1-t;return{x:3*e*e*t*.05+3*e*t*t*.1+t*t*t,y:3*e*e*t*.7+3*e*t*t*1+t*t*t}}function Mk(t){let e=0,s=1;for(let r=0;r<40;r++){const o=(e+s)/2;C1(o).y<t?e=o:s=o}return C1((e+s)/2).x}function Nk(t){const e=t*60-90,s=e+60,r=e*Math.PI/180,o=s*Math.PI/180,c=Eo+Lr*Math.cos(r),u=Ao+Lr*Math.sin(r),h=Eo+Lr*Math.cos(o),m=Ao+Lr*Math.sin(o);return`M ${Eo} ${Ao} L ${c} ${u} A ${Lr} ${Lr} 0 0 1 ${h} ${m} Z`}function Rk(t){const e=t*60-90+30,s=e*Math.PI/180;return{x:Eo+T1*Math.cos(s),y:Ao+T1*Math.sin(s),rotate:e}}function Ik({rolling:t,finalValue:e,onComplete:s,onClick:r,locked:o}){const c=Ck(),u=A.useRef(0),h=A.useRef(s);h.current=s;const m=A.useRef([]),{playTick:p}=Ho();A.useEffect(()=>{if(!t)return;const _=(360-((e-1)*60+30))%360,S=u.current%360,M=1440+(_-S+360)%360,R=u.current+M;u.current=R,m.current.forEach(clearTimeout),m.current=[];const D=Math.floor(M/60);for(let G=1;G<=D;G++){const q=G*60/M,k=Mk(q)*Ak;m.current.push(setTimeout(p,k))}return c.start({rotate:R,transition:{duration:3,ease:[.05,.7,.1,1]}}).then(()=>{h.current?.()}),()=>{m.current.forEach(clearTimeout),m.current=[]}},[t]);const g=!o&&!t;return b.jsx("div",{className:"flex flex-col items-center select-none",children:b.jsx("div",{className:`relative w-[120px] lg:w-[180px] ${g?"cursor-pointer":o?"opacity-50 cursor-not-allowed":"cursor-default"}`,onClick:g?r:void 0,children:b.jsxs("svg",{viewBox:"0 0 200 210",width:"100%",height:"auto","aria-label":"Spin the wheel",children:[b.jsx("polygon",{points:"88,0 112,0 100,16",fill:"#ef4444",stroke:"#b91c1c",strokeWidth:"1.5",strokeLinejoin:"round"}),b.jsxs(Lt.g,{style:{transformBox:"fill-box",transformOrigin:"50% 50%"},animate:c,children:[Array.from({length:6},(v,_)=>{const S=_+1,{x:T,y:M,rotate:R}=Rk(_);return b.jsxs("g",{children:[b.jsx("path",{d:Nk(_),fill:Ek[S],stroke:"white",strokeWidth:"1.5"}),b.jsx("text",{x:T,y:M,textAnchor:"middle",dominantBaseline:"central",fill:"white",fontSize:"20",fontWeight:"bold",transform:`rotate(${R+90}, ${T}, ${M})`,style:{pointerEvents:"none",userSelect:"none"},children:S})]},S)}),b.jsx("circle",{cx:Eo,cy:Ao,r:"10",fill:"white",stroke:"#aaa",strokeWidth:"1"})]})]})})})}function Dk(){const t=Dt(),{handleDiceRoll:e,diceState:s}=oa(),r=t.isTurnLocked;return b.jsxs("div",{className:"flex flex-col items-center gap-0.5 lg:gap-1.5",children:[b.jsx(NI,{}),b.jsx("div",{className:"my-1 lg:my-3",children:b.jsx(Ik,{rolling:s.rolling,finalValue:s.finalValue,onComplete:s.onComplete,onClick:e,locked:r})})]})}function tT(t){var e,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(s=tT(t[e]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function nT(){for(var t,e,s=0,r="",o=arguments.length;s<o;s++)(t=arguments[s])&&(e=tT(t))&&(r&&(r+=" "),r+=e);return r}const E1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,A1=nT,Ok=(t,e)=>s=>{var r;if(e?.variants==null)return A1(t,s?.class,s?.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(p=>{const g=s?.[p],v=c?.[p];if(g===null)return null;const _=E1(g)||E1(v);return o[p][_]}),h=s&&Object.entries(s).reduce((p,g)=>{let[v,_]=g;return _===void 0||(p[v]=_),p},{}),m=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:_,...S}=g;return Object.entries(S).every(T=>{let[M,R]=T;return Array.isArray(R)?R.includes({...c,...h}[M]):{...c,...h}[M]===R})?[...p,v,_]:p},[]);return A1(t,u,m,s?.class,s?.className)},kk=(t,e)=>{const s=new Array(t.length+e.length);for(let r=0;r<t.length;r++)s[r]=t[r];for(let r=0;r<e.length;r++)s[t.length+r]=e[r];return s},Lk=(t,e)=>({classGroupId:t,validator:e}),iT=(t=new Map,e=null,s)=>({nextPart:t,validators:e,classGroupId:s}),mu="-",M1=[],Bk="arbitrary..",jk=t=>{const e=Pk(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return zk(u);const h=u.split(mu),m=h[0]===""&&h.length>1?1:0;return sT(h,m,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const m=r[u],p=s[u];return m?p?kk(p,m):m:p||M1}return s[u]||M1}}},sT=(t,e,s)=>{if(t.length-e===0)return s.classGroupId;const o=t[e],c=s.nextPart.get(o);if(c){const p=sT(t,e+1,c);if(p)return p}const u=s.validators;if(u===null)return;const h=e===0?t.join(mu):t.slice(e).join(mu),m=u.length;for(let p=0;p<m;p++){const g=u[p];if(g.validator(h))return g.classGroupId}},zk=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),s=e.indexOf(":"),r=e.slice(0,s);return r?Bk+r:void 0})(),Pk=t=>{const{theme:e,classGroups:s}=t;return Vk(s,e)},Vk=(t,e)=>{const s=iT();for(const r in t){const o=t[r];Jp(o,s,r,e)}return s},Jp=(t,e,s,r)=>{const o=t.length;for(let c=0;c<o;c++){const u=t[c];Uk(u,e,s,r)}},Uk=(t,e,s,r)=>{if(typeof t=="string"){qk(t,e,s);return}if(typeof t=="function"){Hk(t,e,s,r);return}Gk(t,e,s,r)},qk=(t,e,s)=>{const r=t===""?e:rT(e,t);r.classGroupId=s},Hk=(t,e,s,r)=>{if(Wk(t)){Jp(t(r),e,s,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Lk(s,t))},Gk=(t,e,s,r)=>{const o=Object.entries(t),c=o.length;for(let u=0;u<c;u++){const[h,m]=o[u];Jp(m,rT(e,h),s,r)}},rT=(t,e)=>{let s=t;const r=e.split(mu),o=r.length;for(let c=0;c<o;c++){const u=r[c];let h=s.nextPart.get(u);h||(h=iT(),s.nextPart.set(u,h)),s=h}return s},Wk=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Fk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=Object.create(null),r=Object.create(null);const o=(c,u)=>{s[c]=u,e++,e>t&&(e=0,r=s,s=Object.create(null))};return{get(c){let u=s[c];if(u!==void 0)return u;if((u=r[c])!==void 0)return o(c,u),u},set(c,u){c in s?s[c]=u:o(c,u)}}},Om="!",N1=":",Yk=[],R1=(t,e,s,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:s,maybePostfixModifierPosition:r,isExternal:o}),Qk=t=>{const{prefix:e,experimentalParseClassName:s}=t;let r=o=>{const c=[];let u=0,h=0,m=0,p;const g=o.length;for(let M=0;M<g;M++){const R=o[M];if(u===0&&h===0){if(R===N1){c.push(o.slice(m,M)),m=M+1;continue}if(R==="/"){p=M;continue}}R==="["?u++:R==="]"?u--:R==="("?h++:R===")"&&h--}const v=c.length===0?o:o.slice(m);let _=v,S=!1;v.endsWith(Om)?(_=v.slice(0,-1),S=!0):v.startsWith(Om)&&(_=v.slice(1),S=!0);const T=p&&p>m?p-m:void 0;return R1(c,S,_,T)};if(e){const o=e+N1,c=r;r=u=>u.startsWith(o)?c(u.slice(o.length)):R1(Yk,!1,u,void 0,!0)}if(s){const o=r;r=c=>s({className:c,parseClassName:o})}return r},Kk=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((s,r)=>{e.set(s,1e6+r)}),s=>{const r=[];let o=[];for(let c=0;c<s.length;c++){const u=s[c],h=u[0]==="[",m=e.has(u);h||m?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(u)):o.push(u)}return o.length>0&&(o.sort(),r.push(...o)),r}},Xk=t=>({cache:Fk(t.cacheSize),parseClassName:Qk(t),sortModifiers:Kk(t),...jk(t)}),Zk=/\s+/,Jk=(t,e)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],h=t.trim().split(Zk);let m="";for(let p=h.length-1;p>=0;p-=1){const g=h[p],{isExternal:v,modifiers:_,hasImportantModifier:S,baseClassName:T,maybePostfixModifierPosition:M}=s(g);if(v){m=g+(m.length>0?" "+m:m);continue}let R=!!M,D=r(R?T.substring(0,M):T);if(!D){if(!R){m=g+(m.length>0?" "+m:m);continue}if(D=r(T),!D){m=g+(m.length>0?" "+m:m);continue}R=!1}const G=_.length===0?"":_.length===1?_[0]:c(_).join(":"),q=S?G+Om:G,k=q+D;if(u.indexOf(k)>-1)continue;u.push(k);const W=o(D,R);for(let L=0;L<W.length;++L){const z=W[L];u.push(q+z)}m=g+(m.length>0?" "+m:m)}return m},$k=(...t)=>{let e=0,s,r,o="";for(;e<t.length;)(s=t[e++])&&(r=aT(s))&&(o&&(o+=" "),o+=r);return o},aT=t=>{if(typeof t=="string")return t;let e,s="";for(let r=0;r<t.length;r++)t[r]&&(e=aT(t[r]))&&(s&&(s+=" "),s+=e);return s},e4=(t,...e)=>{let s,r,o,c;const u=m=>{const p=e.reduce((g,v)=>v(g),t());return s=Xk(p),r=s.cache.get,o=s.cache.set,c=h,h(m)},h=m=>{const p=r(m);if(p)return p;const g=Jk(m,s);return o(m,g),g};return c=u,(...m)=>c($k(...m))},t4=[],yt=t=>{const e=s=>s[t]||t4;return e.isThemeGetter=!0,e},oT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,n4=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,i4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,a4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,o4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fi=t=>n4.test(t),be=t=>!!t&&!Number.isNaN(Number(t)),Yi=t=>!!t&&Number.isInteger(Number(t)),Ph=t=>t.endsWith("%")&&be(t.slice(0,-1)),fi=t=>i4.test(t),cT=()=>!0,l4=t=>s4.test(t)&&!r4.test(t),$p=()=>!1,c4=t=>a4.test(t),u4=t=>o4.test(t),f4=t=>!re(t)&&!oe(t),d4=t=>os(t,dT,$p),re=t=>oT.test(t),Ns=t=>os(t,hT,l4),I1=t=>os(t,b4,be),h4=t=>os(t,pT,cT),m4=t=>os(t,mT,$p),D1=t=>os(t,uT,$p),p4=t=>os(t,fT,u4),Ic=t=>os(t,gT,c4),oe=t=>lT.test(t),ho=t=>Ys(t,hT),g4=t=>Ys(t,mT),O1=t=>Ys(t,uT),y4=t=>Ys(t,dT),v4=t=>Ys(t,fT),Dc=t=>Ys(t,gT,!0),_4=t=>Ys(t,pT,!0),os=(t,e,s)=>{const r=oT.exec(t);return r?r[1]?e(r[1]):s(r[2]):!1},Ys=(t,e,s=!1)=>{const r=lT.exec(t);return r?r[1]?e(r[1]):s:!1},uT=t=>t==="position"||t==="percentage",fT=t=>t==="image"||t==="url",dT=t=>t==="length"||t==="size"||t==="bg-size",hT=t=>t==="length",b4=t=>t==="number",mT=t=>t==="family-name",pT=t=>t==="number"||t==="weight",gT=t=>t==="shadow",x4=()=>{const t=yt("color"),e=yt("font"),s=yt("text"),r=yt("font-weight"),o=yt("tracking"),c=yt("leading"),u=yt("breakpoint"),h=yt("container"),m=yt("spacing"),p=yt("radius"),g=yt("shadow"),v=yt("inset-shadow"),_=yt("text-shadow"),S=yt("drop-shadow"),T=yt("blur"),M=yt("perspective"),R=yt("aspect"),D=yt("ease"),G=yt("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...k(),oe,re],L=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],N=()=>[oe,re,m],Q=()=>[Fi,"full","auto",...N()],ne=()=>[Yi,"none","subgrid",oe,re],ce=()=>["auto",{span:["full",Yi,oe,re]},Yi,oe,re],he=()=>[Yi,"auto",oe,re],Fe=()=>["auto","min","max","fr",oe,re],Re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],je=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...N()],K=()=>[Fi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],ee=()=>[Fi,"screen","full","dvw","lvw","svw","min","max","fit",...N()],fe=()=>[Fi,"screen","full","lh","dvh","lvh","svh","min","max","fit",...N()],$=()=>[t,oe,re],w=()=>[...k(),O1,D1,{position:[oe,re]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",y4,d4,{size:[oe,re]}],Z=()=>[Ph,ho,Ns],J=()=>["","none","full",p,oe,re],ie=()=>["",be,ho,Ns],pe=()=>["solid","dashed","dotted","double"],Ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[be,Ph,O1,D1],yi=()=>["","none",T,oe,re],Fn=()=>["none",be,oe,re],vi=()=>["none",be,oe,re],Qs=()=>[be,oe,re],cn=()=>[Fi,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fi],breakpoint:[fi],color:[cT],container:[fi],"drop-shadow":[fi],ease:["in","out","in-out"],font:[f4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fi],shadow:[fi],spacing:["px",be],text:[fi],"text-shadow":[fi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fi,re,oe,R]}],container:["container"],columns:[{columns:[be,re,oe,h]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{"inset-s":Q(),start:Q()}],end:[{"inset-e":Q(),end:Q()}],"inset-bs":[{"inset-bs":Q()}],"inset-be":[{"inset-be":Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[Yi,"auto",oe,re]}],basis:[{basis:[Fi,"full","auto",h,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[be,Fi,"auto","initial","none",re]}],grow:[{grow:["",be,oe,re]}],shrink:[{shrink:["",be,oe,re]}],order:[{order:[Yi,"first","last","none",oe,re]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:ce()}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:ce()}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Fe()}],"auto-rows":[{"auto-rows":Fe()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...Re(),"normal"]}],"justify-items":[{"justify-items":[...je(),"normal"]}],"justify-self":[{"justify-self":["auto",...je()]}],"align-content":[{content:["normal",...Re()]}],"align-items":[{items:[...je(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...je(),{baseline:["","last"]}]}],"place-content":[{"place-content":Re()}],"place-items":[{"place-items":[...je(),"baseline"]}],"place-self":[{"place-self":["auto",...je()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pbs:[{pbs:N()}],pbe:[{pbe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mbs:[{mbs:V()}],mbe:[{mbe:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],"inline-size":[{inline:["auto",...ee()]}],"min-inline-size":[{"min-inline":["auto",...ee()]}],"max-inline-size":[{"max-inline":["none",...ee()]}],"block-size":[{block:["auto",...fe()]}],"min-block-size":[{"min-block":["auto",...fe()]}],"max-block-size":[{"max-block":["none",...fe()]}],w:[{w:[h,"screen",...K()]}],"min-w":[{"min-w":[h,"screen","none",...K()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",s,ho,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,_4,h4]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ph,re]}],"font-family":[{font:[g4,m4,e]}],"font-features":[{"font-features":[re]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,oe,re]}],"line-clamp":[{"line-clamp":[be,"none",oe,I1]}],leading:[{leading:[c,...N()]}],"list-image":[{"list-image":["none",oe,re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oe,re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[be,"from-font","auto",oe,Ns]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[be,"auto",oe,re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe,re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe,re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:w()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Yi,oe,re],radial:["",oe,re],conic:[Yi,oe,re]},v4,p4]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-bs":[{"border-bs":ie()}],"border-w-be":[{"border-be":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-bs":[{"border-bs":$()}],"border-color-be":[{"border-be":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[be,oe,re]}],"outline-w":[{outline:["",be,ho,Ns]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",g,Dc,Ic]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",v,Dc,Ic]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[be,Ns]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",_,Dc,Ic]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[be,oe,re]}],"mix-blend":[{"mix-blend":[...Ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[be]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[oe,re]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[be]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:w()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oe,re]}],filter:[{filter:["","none",oe,re]}],blur:[{blur:yi()}],brightness:[{brightness:[be,oe,re]}],contrast:[{contrast:[be,oe,re]}],"drop-shadow":[{"drop-shadow":["","none",S,Dc,Ic]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",be,oe,re]}],"hue-rotate":[{"hue-rotate":[be,oe,re]}],invert:[{invert:["",be,oe,re]}],saturate:[{saturate:[be,oe,re]}],sepia:[{sepia:["",be,oe,re]}],"backdrop-filter":[{"backdrop-filter":["","none",oe,re]}],"backdrop-blur":[{"backdrop-blur":yi()}],"backdrop-brightness":[{"backdrop-brightness":[be,oe,re]}],"backdrop-contrast":[{"backdrop-contrast":[be,oe,re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",be,oe,re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[be,oe,re]}],"backdrop-invert":[{"backdrop-invert":["",be,oe,re]}],"backdrop-opacity":[{"backdrop-opacity":[be,oe,re]}],"backdrop-saturate":[{"backdrop-saturate":[be,oe,re]}],"backdrop-sepia":[{"backdrop-sepia":["",be,oe,re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oe,re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[be,"initial",oe,re]}],ease:[{ease:["linear","initial",D,oe,re]}],delay:[{delay:[be,oe,re]}],animate:[{animate:["none",G,oe,re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,oe,re]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:Fn()}],"rotate-x":[{"rotate-x":Fn()}],"rotate-y":[{"rotate-y":Fn()}],"rotate-z":[{"rotate-z":Fn()}],scale:[{scale:vi()}],"scale-x":[{"scale-x":vi()}],"scale-y":[{"scale-y":vi()}],"scale-z":[{"scale-z":vi()}],"scale-3d":["scale-3d"],skew:[{skew:Qs()}],"skew-x":[{"skew-x":Qs()}],"skew-y":[{"skew-y":Qs()}],transform:[{transform:[oe,re,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:cn()}],"translate-x":[{"translate-x":cn()}],"translate-y":[{"translate-y":cn()}],"translate-z":[{"translate-z":cn()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe,re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mbs":[{"scroll-mbs":N()}],"scroll-mbe":[{"scroll-mbe":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pbs":[{"scroll-pbs":N()}],"scroll-pbe":[{"scroll-pbe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe,re]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[be,ho,Ns,I1]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},S4=e4(x4);function eg(...t){return S4(nT(t))}const w4=Ok("relative inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/50 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-white/10 text-white hover:bg-white/20 border border-white/10",primary:"bg-white text-black hover:bg-white/90 border border-white/20",success:"bg-success/80 text-white hover:bg-success border border-success/30",danger:"bg-error/80 text-white hover:bg-error border border-error/30"},size:{sm:"h-8 px-3 text-xs",md:"h-10 px-4 text-sm",lg:"h-12 px-6 text-base"}},defaultVariants:{variant:"default",size:"md"}});function Ee({className:t,variant:e,size:s,...r}){return b.jsx("button",{className:eg(w4({variant:e,size:s,className:t})),...r})}function T4(){const t=Dt(),e=ln();return b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Ee,{variant:t.gameMode==="local"?"primary":"default",onClick:()=>e({type:"SET_GAME_MODE",mode:"local"}),children:"Local Game"}),b.jsx(Ee,{variant:t.gameMode==="online"?"primary":"default",onClick:()=>e({type:"SET_GAME_MODE",mode:"online"}),children:"Online Game"})]})}function C4(){const t=Dt(),e=ln();return b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(Ee,{onClick:()=>e({type:"REMOVE_PLAYER"}),disabled:t.players.length<=t.minPlayers,children:" Player"}),b.jsxs("span",{className:"font-bold",children:[t.players.length," Player",t.players.length>1?"s":""]}),b.jsx(Ee,{onClick:()=>e({type:"ADD_PLAYER"}),disabled:t.players.length>=t.maxPlayers,children:"+ Player"})]})}const E4=3600*1e3;function A4({roomCode:t,myPlayerId:e,onDiceRoll:s,onQuestionReady:r,onPlayerMove:o}){const c=Dt(),u=ln(),{playSound:h}=Ho(),m=A.useRef(null),p=A.useRef([]),g=A.useRef(!1),v=A.useRef(!0),_=A.useRef(null),S=A.useRef(null),T=A.useRef(null),M=A.useRef(new Set),R=A.useRef(c);return A.useEffect(()=>{R.current=c}),A.useEffect(()=>{t||(M.current.clear(),p.current=[])},[t]),A.useEffect(()=>{if(!t)return;const D=Ie(De,`rooms/${t}`),G=yp(D,async q=>{const k=q.val();if(!k)return;if(k.createdAt&&Date.now()-k.createdAt>E4){await aa(D,null),u({type:"RESET_GAME"});return}const W=!!k.isTeamMode,L=k.currentAnswererId??null,z=k.currentDescriberId??null,N=k.teamOrder||[],Q=k.teams||{},ne=k.currentTeamIndex||0,ce=N[ne]??null,he=k.players||{},Fe=k.playerOrder||[],Re=k.currentPlayerIndex||0,je=Fe[Re];if(W){g.current=e===L;const J=ce?Q[ce]:null;v.current=(J?.playerIds??[]).includes(e??"")}else g.current=e===je,v.current=!0;let V;W?V=N.filter(J=>Q[J]).map((J,ie)=>({id:ie+1,name:Q[J].name,position:Q[J].position??0,color:Dn[ie+1]??Dn[1]})):V=Fe.filter(J=>he[J]).map((J,ie)=>({id:ie+1,name:he[J].name,position:he[J].position??0,color:Dn[ie+1]}));const K=p.current;let ee;W?ee=N.findIndex(J=>(Q[J]?.playerIds??[]).includes(e??"")):ee=Fe.indexOf(e??"");const fe=V.map((J,ie)=>{const pe=K.find(Ue=>Ue.id===J.id);if(ie===ee||!pe)return J;if(M.current.has(J.id)){const Ue=R.current.players.find(ye=>ye.id===J.id)?.position;if(Ue!==void 0)return{...J,position:Ue}}return J.position>pe.position&&o?(M.current.add(J.id),o(J.id,pe.position,J.position-pe.position,()=>M.current.delete(J.id)),J.position>=Mn&&u({type:"SHOW_WIN_MODAL",show:!0}),{...J,position:pe.position}):J});p.current=V;const $=k.resetId||0;if(_.current!==null&&$!==_.current&&u({type:"RESET_GAME"}),_.current=$,u({type:"SET_TEAM_MODE",value:W}),u({type:"SET_ANSWERER_IDS",answererId:L,describerId:z}),u({type:"SET_ACTIVE_TEAM",teamId:ce}),u({type:"SYNC_ONLINE_STATE",players:fe,currentPlayerIndex:W?ne:Re}),k.currentRoll){const{value:J,id:ie}=k.currentRoll;ie!==m.current&&(m.current=ie,s&&s(J,()=>{},g.current))}if(k.currentRoll||(m.current=null),k.currentQuestion&&c.questionsLoaded){const J=k.currentRoll?.value??1;r?.(k.currentQuestion,J)}k.currentQuestion||u({type:"SHOW_QUESTION_MODAL",show:!1}),k.answerResult?(u({type:"SET_ANSWER_RESULT",result:k.answerResult}),(W?e===L:e===je)||h(k.answerResult.wasCorrect?"correct":"wrong")):u({type:"SET_ANSWER_RESULT",result:null});const w=k.cultureEvent??null,O=S.current;w?.active&&!O?.active&&(u({type:"SHOW_CULTURE_MODAL",show:!0}),w.questionIndex!==void 0&&u({type:"SET_CULTURE_QUESTION_INDEX",index:w.questionIndex})),!w?.active&&O?.active&&u({type:"SHOW_CULTURE_MODAL",show:!1}),w?.timerStartedAt&&w.timerStartedAt!==O?.timerStartedAt&&u({type:"SET_CULTURE_TIMER_START",startedAt:w.timerStartedAt}),w?.score!==void 0&&O?.score===void 0&&u({type:"SET_CULTURE_SCORE",score:w.score}),S.current=w;const H=k.notEvent??null,Z=T.current;H?.active&&!Z?.active&&(H.question&&u({type:"SET_NOT_CARD",card:H.question}),u({type:"SHOW_NOT_MODAL",show:!0})),!H?.active&&Z?.active&&u({type:"SHOW_NOT_MODAL",show:!1}),H?.timerStartedAt&&H.timerStartedAt!==Z?.timerStartedAt&&u({type:"SET_NOT_TIMER_START",startedAt:H.timerStartedAt}),H?.score!==void 0&&Z?.score===void 0&&u({type:"SET_NOT_SCORE",score:H.score}),T.current=H});return()=>G()},[t,e,u,h,c.questionsLoaded,s,r,o]),{isActivePlayer:g,canRoll:v}}const ze=sessionStorage;function M4(){return`${Date.now()}_${Math.random().toString(36).substring(2,7)}`}function N4(){const t=Dt(),e=ln(),{triggerDiceAnimation:s,processRoll:r,animateMovement:o}=oa(),{identity:c,setIdentity:u}=qs(),[h,m]=A.useState(""),[p,g]=A.useState(""),[v,_]=A.useState(""),[S,T]=A.useState(!1),[M,R]=A.useState(null),[D,G]=A.useState(null),[q,k]=A.useState(""),[W,L]=A.useState(null),z=A.useRef(!1),[N,Q]=A.useState(null),ne=A.useRef(t.questions);ne.current=t.questions,A.useEffect(()=>{const w=localStorage.getItem(Or);w&&!p&&g(w)},[]),A.useEffect(()=>{if(!c.roomCode||!t.isTeamMode){Q(null);return}const w=Ie(De,`rooms/${c.roomCode}`),O=yp(w,H=>{const Z=H.val();Z?.isTeamMode&&Q({teamOrder:Z.teamOrder||[],teams:Z.teams||{},players:Z.players||{}})});return()=>O()},[c.roomCode,t.isTeamMode]),A.useEffect(()=>{const w=ze.getItem(Gi),O=ze.getItem(Wi),H=localStorage.getItem(Or),Z=ze.getItem(Es),J=ze.getItem(As);w&&O&&H&&(Z?ob(w,O,H,Z).then(async ie=>{if(!z.current)if(ie)u({roomCode:w,playerId:O,playerName:H,teamId:Z,teamName:J});else{const pe=await Kt(Ie(De,`rooms/${w}`));if(z.current)return;if(!pe.exists())ze.removeItem(Gi),ze.removeItem(Wi),ze.removeItem(Es),ze.removeItem(As);else if(pe.val()?.isTeamMode){const Ue=pe.val();G({roomCode:w,playerId:O,playerName:H,teams:Ue.teams||{},teamOrder:Ue.teamOrder||[]})}}}):ib(w,H,O).then(ie=>{z.current||ie&&u({roomCode:w,playerId:ie.playerId,playerName:H,teamId:null,teamName:null})}))},[u]);const ce=A.useCallback((w,O,H)=>{H&&e({type:"LOCK_TURN"}),s(w,()=>{H&&r(w)})},[e,s,r]),he=A.useCallback((w,O)=>{const H=ne.current.find(Z=>Z.id===w);H&&e({type:"SET_ACTIVE_QUESTION",question:H,roll:O})},[e]),Fe=A.useCallback((w,O,H,Z)=>{o(w,O,H,Z)},[o]);A4({roomCode:c.roomCode,myPlayerId:c.playerId,onDiceRoll:ce,onQuestionReady:he,onPlayerMove:Fe});const Re=async()=>{const w=p.trim(),O=v.trim()||"Team 1";if(!w){alert("Enter your name first.");return}if(z.current=!0,S){const{roomCode:H,playerId:Z,teamId:J}=await SI(w,O);ze.setItem(Gi,H),ze.setItem(Wi,Z),ze.setItem(Es,J),ze.setItem(As,O),localStorage.setItem(Or,w),u({roomCode:H,playerId:Z,playerName:w,teamId:J,teamName:O}),R(H)}else{const{roomCode:H,playerId:Z}=await dI(w);ze.setItem(Gi,H),ze.setItem(Wi,Z),ze.removeItem(Es),ze.removeItem(As),localStorage.setItem(Or,w),u({roomCode:H,playerId:Z,playerName:w,teamId:null,teamName:null}),R(H)}},je=async()=>{const w=h.trim().toUpperCase(),O=p.trim();if(!w||!O){alert("Enter room code and name.");return}z.current=!0;const H=await Kt(Ie(De,`rooms/${w}`));if(!H.exists()){alert("Room does not exist.");return}const Z=H.val(),ie=ze.getItem(Gi)===w?ze.getItem(Wi):null;if(Z.isTeamMode){const Ue=ie||M4();G({roomCode:w,playerId:Ue,playerName:O,teams:Z.teams||{},teamOrder:Z.teamOrder||[]});return}const pe=await ib(w,O,ie??void 0);if(!pe){alert("Room does not exist.");return}ze.setItem(Gi,w),ze.setItem(Wi,pe.playerId),ze.removeItem(Es),ze.removeItem(As),localStorage.setItem(Or,O),u({roomCode:w,playerId:pe.playerId,playerName:O,teamId:null,teamName:null})},V=async w=>{if(!D)return;if(L(null),z.current=!0,!await ob(D.roomCode,D.playerId,D.playerName,w)){L("Could not join that team (it may be full).");return}const H=D.teams[w]?.name??null;ze.setItem(Gi,D.roomCode),ze.setItem(Wi,D.playerId),ze.setItem(Es,w),H&&ze.setItem(As,H),localStorage.setItem(Or,D.playerName),u({roomCode:D.roomCode,playerId:D.playerId,playerName:D.playerName,teamId:w,teamName:H}),G(null)},K=async()=>{if(!D)return;const w=q.trim();if(!w){L("Enter a team name.");return}L(null);const O=await Kt(Ie(De,`rooms/${D.roomCode}`));if(!O.exists()){L("Room not found.");return}if((O.val().teamOrder||[]).length>=4){L("Maximum 4 teams reached.");return}const J=await wI(D.roomCode,w);if(!J){L("Could not create team.");return}await V(J)},ee=async()=>{if(!D)return;const w=await Kt(Ie(De,`rooms/${D.roomCode}`));if(!w.exists()){G(null);return}const O=w.val();G(H=>H?{...H,teams:O.teams||{},teamOrder:O.teamOrder||[]}:null)},fe=async()=>{c.roomCode&&c.playerId&&(c.teamId?await TI(c.roomCode,c.playerId,c.teamId):await hI(c.roomCode,c.playerId)),ze.removeItem(Gi),ze.removeItem(Wi),ze.removeItem(Es),ze.removeItem(As),u({roomCode:null,playerId:null,playerName:null,teamId:null,teamName:null}),R(null)},$=async()=>{c.roomCode&&(t.isTeamMode?await EI(c.roomCode):await _p(c.roomCode))};return D?b.jsxs("div",{className:"flex flex-col items-center gap-3 w-[300px]",children:[b.jsxs("p",{className:"font-bold text-success",children:["Room: ",D.roomCode]}),b.jsx("p",{className:"text-sm font-semibold",children:"Choose your team:"}),D.teamOrder.map(w=>{const O=D.teams[w];if(!O)return null;const H=O.playerIds?.length??0,Z=H>=2;return b.jsxs("div",{className:"flex w-full items-center justify-between gap-2 rounded-lg bg-white/5 px-3 py-2",children:[b.jsxs("span",{className:"text-sm font-semibold",children:[O.name,b.jsxs("span",{className:"ml-2 text-xs opacity-50",children:[H,"/2 players"]})]}),b.jsx(Ee,{variant:"primary",onClick:()=>V(w),disabled:Z,children:"Join"})]},w)}),D.teamOrder.length<4&&b.jsxs("div",{className:"flex w-full flex-col gap-2",children:[b.jsx("input",{className:"w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:"New team name",value:q,onChange:w=>k(w.target.value)}),b.jsx(Ee,{onClick:K,children:"+ Create & Join New Team"})]}),W&&b.jsx("p",{className:"text-sm text-error",children:W}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Ee,{onClick:ee,children:"Refresh"}),b.jsx(Ee,{variant:"danger",onClick:()=>G(null),children:"Cancel"})]})]}):c.roomCode?b.jsxs("div",{className:"flex flex-col items-center gap-2 w-full max-w-xs",children:[t.isTeamMode&&N&&N.teamOrder.length>0&&b.jsx("div",{className:"w-full flex flex-col gap-1",children:N.teamOrder.map((w,O)=>{const H=N.teams[w];if(!H)return null;const Z=(H.playerIds||[]).map(ie=>N.players[ie]?.name).filter(Boolean),J=w===c.teamId;return b.jsxs("div",{className:`flex items-center gap-2 rounded-lg px-2 py-1.5 text-xs ${J?"bg-white/15 font-semibold":"bg-white/5 opacity-70"}`,children:[b.jsx("span",{className:"h-2.5 w-2.5 rounded-full flex-shrink-0",style:{backgroundColor:Dn[O+1]??"#888"}}),b.jsx("span",{children:H.name}),Z.length>0&&b.jsxs("span",{className:`${J?"opacity-70":"opacity-50"}`,children:[" ",Z.join(", ")]}),Z.length===0&&b.jsx("span",{className:"opacity-40 italic",children:"empty"})]},w)})}),b.jsxs("p",{className:"font-bold text-success",children:["Room: ",c.roomCode]}),b.jsx("p",{className:"text-sm opacity-70",children:t.isTeamMode&&c.teamName?`Playing as ${c.playerName}  ${c.teamName}`:`Playing as ${c.playerName}`}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Ee,{variant:"danger",onClick:fe,children:"Leave Room"}),b.jsx(Ee,{variant:"danger",onClick:$,children:"Reset Game"})]})]}):b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("input",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:"Your Name",value:p,onChange:w=>g(w.target.value)}),b.jsx(Ee,{variant:"primary",onClick:Re,children:"Create Room"})]}),b.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer select-none",children:[b.jsx("input",{type:"checkbox",checked:S,onChange:w=>T(w.target.checked),className:"h-4 w-4 accent-fuchsia-500"}),"Team Mode",S&&b.jsx("input",{className:"ml-2 rounded-lg border border-white/10 bg-white/5 px-2 py-1 text-sm text-white placeholder-white/40",placeholder:"Team name",value:v,onChange:w=>_(w.target.value)})]}),M&&b.jsxs("p",{className:"font-bold text-success",children:["Room Code: ",M]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[b.jsx("input",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:"Room Code",value:h,onChange:w=>m(w.target.value)}),b.jsx(Ee,{onClick:je,children:"Join"})]})]})}function R4(){const t=Dt(),e=ln(),{triggerTileAt:s}=oa(),{identity:r}=qs(),{volume:o,muted:c,setVolume:u,setMuted:h}=U1(),m=A.useRef(null),[p,g]=A.useState(1),[v,_]=A.useState(10),[S,T]=A.useState(!1),[M,R]=A.useState(""),[D,G]=A.useState(!1),q=()=>{e({type:"SHOW_SETTINGS",show:!1}),t.gameMode==="online"&&r.roomCode?_p(r.roomCode):e({type:"RESET_GAME"})},k=()=>{t.debugMode?e({type:"TOGGLE_DEBUG"}):(T(!0),R(""),G(!1))},W=()=>{M==="paulive"?(e({type:"TOGGLE_DEBUG"}),T(!1),R(""),G(!1)):G(!0)};return A.useEffect(()=>{function L(z){m.current&&!m.current.contains(z.target)&&e({type:"SHOW_SETTINGS",show:!1})}return t.showSettings&&document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[t.showSettings,e]),A.useEffect(()=>{t.showSettings||(T(!1),R(""),G(!1))},[t.showSettings]),b.jsxs("div",{ref:m,className:"relative z-10",children:[b.jsx(Ee,{onClick:()=>e({type:"SHOW_SETTINGS",show:!t.showSettings}),children:" Settings"}),b.jsx(Us,{children:t.showSettings&&b.jsxs(Lt.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15},className:"absolute left-1/2 -translate-x-1/2 top-full mt-1 flex flex-col gap-1.5 rounded-lg border border-white/10 bg-surface p-2.5 z-20 min-w-[260px]",children:[b.jsx(Ee,{className:"w-full justify-start",onClick:()=>{e({type:"SHOW_EDITOR",show:!0}),e({type:"SHOW_SETTINGS",show:!1})},children:"Add / Edit Questions"}),b.jsx(Ee,{className:"w-full justify-start",onClick:k,children:"Toggle Debug Mode"}),S&&b.jsxs("div",{className:"flex flex-col gap-1.5",children:[b.jsx("input",{type:"password",placeholder:"Enter password",value:M,onChange:L=>{R(L.target.value),G(!1)},onKeyDown:L=>L.key==="Enter"&&W(),className:"w-full rounded-lg border border-white/10 bg-surface px-2 py-1 text-sm text-white placeholder-white/30",autoFocus:!0}),D&&b.jsx("p",{className:"px-1 text-xs text-red-400",children:"Incorrect password"}),b.jsx(Ee,{className:"w-full",onClick:W,children:"Confirm"})]}),t.debugMode&&b.jsxs(b.Fragment,{children:[b.jsx("hr",{className:"border-white/10"}),b.jsx("p",{className:"px-1 text-xs font-bold text-fuchsia-400",children:"Debug: Teleport"}),t.players.length>1&&b.jsx("select",{className:"w-full rounded-lg border border-white/10 bg-surface px-2 py-1 text-sm text-white",value:p,onChange:L=>g(Number(L.target.value)),children:t.players.map(L=>b.jsx("option",{value:L.id,children:L.name},L.id))}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("input",{type:"number",min:0,max:Mn,className:"w-full rounded-lg border border-white/10 bg-surface px-2 py-1 text-sm text-white",value:v,onChange:L=>_(Math.max(0,Math.min(Mn,Number(L.target.value))))}),b.jsx(Ee,{onClick:()=>{const L=t.players.length===1?t.players[0].id:p,z=t.players.findIndex(N=>N.id===L);e({type:"SET_PLAYER_POSITION",playerId:L,position:v}),z!==-1&&e({type:"SYNC_ONLINE_STATE",players:t.players.map(N=>N.id===L?{...N,position:v}:N),currentPlayerIndex:z}),e({type:"SHOW_SETTINGS",show:!1}),s(v)},children:"Go"})]})]}),b.jsx("hr",{className:"border-white/10"}),b.jsx("p",{className:"px-1 text-xs font-bold text-fuchsia-400",children:"Sound"}),b.jsxs("div",{className:"flex items-center gap-2 px-1",children:[b.jsx("span",{className:"text-base",children:""}),b.jsx("input",{type:"range",min:0,max:100,value:Math.round(o*100),onChange:L=>u(Number(L.target.value)/100),className:"flex-1 accent-fuchsia-400"}),b.jsx(Ee,{onClick:()=>h(!c),children:c?"Unmute":"Mute"})]}),b.jsx("hr",{className:"border-white/10"}),b.jsx(Ee,{className:"w-full justify-start",variant:"danger",onClick:q,children:"Restart Game"})]})})]})}function I4(){const t=Dt();return b.jsxs("div",{className:"mt-4 flex flex-col items-center gap-3",children:[b.jsx(T4,{}),t.gameMode==="local"?b.jsx(C4,{}):b.jsx(N4,{}),b.jsx(R4,{})]})}const yT=A.forwardRef(({pathIndex:t,isOnPath:e,isStart:s,isFinish:r,isCulture:o,isNot:c,category:u,debugMode:h},m)=>{if(!e)return b.jsx("div",{ref:m,className:"w-full h-full"});const p=s?"bg-white text-black":r?"bg-amber-400 text-black":o?"bg-fuchsia-600 text-white":c?"bg-orange-500 text-white":u?$E[u]:"bg-white",g=s?"START":r?"FINISH":o?h&&t!==void 0?String(t):"":c?h&&t!==void 0?String(t):"":h&&t!==void 0?String(t):"";return b.jsx("div",{ref:m,className:eg("flex h-full w-full items-center justify-center rounded-xl text-[clamp(10px,2vw,16px)] font-bold shadow-md transition-transform duration-200 hover:scale-105 z-[2]",p),children:o&&!(h&&t!==void 0)?b.jsxs("div",{className:"flex flex-col items-center leading-none gap-0.5 text-[clamp(13px,2.6vw,22px)]",children:[b.jsx("span",{children:""}),b.jsx("span",{className:"text-[0.75em]",children:"Culture"})]}):c&&!(h&&t!==void 0)?b.jsxs("div",{className:"flex flex-col items-center leading-none gap-0.5 text-[clamp(13px,2.6vw,22px)]",children:[b.jsx("span",{children:""}),b.jsx("span",{className:"text-[0.75em]",children:"Not"})]}):g})});yT.displayName="Cell";function D4({boardRef:t,cellRefs:e}){const s=A.useRef(null),r=A.useCallback(()=>{const o=s.current,c=t.current;if(!o||!c)return;const u=c.getBoundingClientRect();o.width=u.width,o.height=u.height;const h=o.getContext("2d");if(!h)return;h.clearRect(0,0,o.width,o.height),h.strokeStyle="rgba(255, 255, 255, 0.7)",h.lineWidth=8,h.lineCap="round",h.lineJoin="round",h.beginPath();let m=!1;Ki.forEach(p=>{const g=e.current.get(p);if(!g)return;const v=g.getBoundingClientRect(),_=v.left-u.left+v.width/2,S=v.top-u.top+v.height/2;m?h.lineTo(_,S):(h.moveTo(_,S),m=!0)}),h.stroke()},[t,e]);return A.useEffect(()=>{const o=setTimeout(r,100),c=setTimeout(r,300),u=t.current;if(u){const h=new ResizeObserver(r);return h.observe(u),()=>{clearTimeout(o),clearTimeout(c),h.disconnect()}}return()=>{clearTimeout(o),clearTimeout(c)}},[r,t]),A.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),b.jsx("canvas",{ref:s,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1}})}function O4({player:t,boardRef:e,cellRefs:s,allPlayers:r}){const[o,c]=A.useState({x:0,y:0,size:0}),u=r.filter(p=>p.position===t.position),h=u.findIndex(p=>p.id===t.id),m=u.length;return A.useLayoutEffect(()=>{function p(){const _=e.current;if(!_)return;const S=Ki[t.position];if(S===void 0)return;const T=s.current.get(S);if(!T)return;const M=_.getBoundingClientRect(),R=T.getBoundingClientRect(),D=R.width*.4,G=R.left-M.left+R.width/2,q=R.top-M.top+R.height/2;let k=0,W=0;if(m>1){const L=D*.6,z=2*Math.PI*h/m;k=Math.cos(z)*L,W=Math.sin(z)*L}c(L=>{const z=G+k,N=q+W;return L.x===z&&L.y===N&&L.size===D?L:{x:z,y:N,size:D}})}p();const g=e.current;if(!g)return;const v=new ResizeObserver(p);return v.observe(g),()=>v.disconnect()},[t.position,t.id,h,m,e,s]),o.size===0?null:b.jsx(Lt.div,{className:"absolute rounded-full z-[5]",style:{width:o.size,height:o.size,backgroundColor:t.color??"#888"},animate:{left:o.x-o.size/2,top:o.y-o.size/2},transition:{type:"spring",stiffness:200,damping:20}})}function k4(){const t=Dt(),e=A.useRef(null),s=A.useRef(new Map),r=(c,u)=>{u?s.current.set(c,u):s.current.delete(c)},o=new Map;return Ki.forEach((c,u)=>{o.set(c,u)}),b.jsxs("div",{ref:e,className:"relative grid grid-cols-8 grid-rows-8 gap-[clamp(4px,1.2vw,10px)] w-[min(92vw,92vh)] aspect-square lg:flex-1 lg:max-h-[80vh] lg:max-w-[80vh] lg:w-auto",style:{backgroundImage:"url('/notculture-board-game/assets/logo.svg')",backgroundSize:"44%",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[b.jsx(D4,{boardRef:e,cellRefs:s}),Array.from({length:eA},(c,u)=>{const h=o.get(u),m=h!==void 0,p=h===0,g=h===Ki.length-1,v=m&&!p&&!g&&mo.has(h),_=m&&!p&&!g&&Vh.has(h);let S=null;m&&!p&&!g&&!v&&!_&&(S=Nn[h%Nn.length]);let T="";if(m&&h<Ki.length-1){const M=Ki[h+1],R=Math.floor(u/jr),D=u%jr,G=Math.floor(M/jr),q=M%jr;G===R&&q===D+1?T="connect-right":G===R&&q===D-1?T="connect-left":q===D&&G===R+1?T="connect-down":q===D&&G===R-1&&(T="connect-up")}return b.jsx(yT,{ref:M=>r(u,M),gridIndex:u,pathIndex:h,isOnPath:m,isStart:p,isFinish:g,isCulture:v,isNot:_,category:S,connectClass:T,debugMode:t.debugMode},u)}),t.players.map(c=>b.jsx(O4,{player:c,boardRef:e,cellRefs:s,allPlayers:t.players},c.id))]})}function fa({className:t,...e}){return b.jsx("div",{className:eg("rounded-xl border border-white/10 bg-surface p-5 shadow-lg",t),...e})}function L4(){const t=Dt(),{handleAnswer:e,afterAnswer:s,handleSkip:r}=oa(),{identity:o}=qs(),c=t.activeQuestion,h=t.gameMode!=="online"?!0:t.isTeamMode?t.currentAnswererId===o.playerId:t.players[t.currentPlayerIndex]?.name===o.playerName,[m,p]=A.useState(!1),[g,v]=A.useState(null),[_,S]=A.useState(!1),[T,M]=A.useState(0),R=t.gameMode==="online"?t.answerResult:null,D=R?!0:m,G=R?R.selectedIndex:g,q=R?R.wasCorrect:_,k=R?R.correctIndex:T;if(!c)return null;const W="".repeat(c.difficulty)+"".repeat(6-c.difficulty),L=N=>{if(D||!h)return;const Q=e(N);Q&&(p(!0),v(N),S(Q.correct),M(Q.correctIndex),setTimeout(()=>{s(Q.correct)},2e3))},z=N=>D?N===G&&q?"!bg-success !text-white !border-success":N===G&&!q?"!bg-error !text-white !border-error":N===k&&!q?"!bg-success !text-white !border-success":"opacity-50":"";return b.jsx(Us,{children:b.jsx(Lt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(Lt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:b.jsxs(fa,{className:"w-[320px]",children:[b.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs uppercase tracking-wide",children:[b.jsx("span",{className:JE[c.category],children:k1[c.category]}),b.jsx("span",{className:"text-base tracking-wider",children:W})]}),b.jsx("h2",{className:"mb-4 text-lg font-bold",children:c.question}),b.jsx("div",{className:"flex flex-col gap-2",children:c.answers.map((N,Q)=>b.jsx(Ee,{className:z(Q),onClick:()=>L(Q),disabled:D||!h,children:N},Q))}),!h&&!D&&b.jsxs("p",{className:"mt-2 text-center text-xs opacity-50",children:["Waiting for ",t.players[t.currentPlayerIndex]?.name??"the other player"," to answer"]}),D&&b.jsx("p",{className:`mt-3 text-center text-lg font-bold ${q?"text-success":"text-error"}`,children:q?"Correct!":"Incorrect"}),t.debugMode&&!D&&b.jsx(Ee,{variant:"danger",className:"mt-3 w-full",onClick:r,children:"Skip (Debug)"})]})})})})}function B4(){const t=Dt(),e=ln(),{identity:s}=qs(),r=()=>{t.gameMode==="online"&&s.roomCode?(e({type:"SHOW_WIN_MODAL",show:!1}),_p(s.roomCode)):e({type:"RESET_GAME"})},o=t.players.find(c=>c.position>=38);return b.jsx(Us,{children:t.showWinModal&&b.jsx(Lt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(Lt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:b.jsxs(fa,{className:"text-center",children:[b.jsxs("h2",{className:"mb-4 text-2xl font-bold",children:[o?`${o.name} Wins!`:"You Win!"," "]}),b.jsx(Ee,{variant:"primary",onClick:r,children:"Restart Game"})]})})})})}function j4(){const t=Dt(),e=ln(),[s,r]=A.useState(""),[o,c]=A.useState("film"),[u,h]=A.useState(1),[m,p]=A.useState(["","","",""]),[g,v]=A.useState(0),[_,S]=A.useState(""),[T,M]=A.useState({film:!0,science:!0,general:!0,history:!0});function R(k){const W=t.questions.filter(N=>N.category===k);if(W.length===0)return`${k}-001`;const L=W.map(N=>{const Q=N.id.split("-");return parseInt(Q[1],10)}),z=Math.max(...L)+1;return`${k}-${String(z).padStart(3,"0")}`}function D(){if(S(""),!s.trim()){S("Question text must not be empty.");return}if(m.some(W=>!W.trim())){S("All answer fields must be filled.");return}if(new Set(m.map(W=>W.trim())).size!==m.length){S("All answer fields must be unique.");return}const k={id:R(o),category:o,difficulty:u,question:s.trim(),answers:m.map(W=>W.trim()),correctIndex:g};e({type:"SET_QUESTIONS",questions:[...t.questions,k]}),r(""),p(["","","",""]),S("")}function G(k){e({type:"SET_QUESTIONS",questions:t.questions.filter(W=>W.id!==k)})}function q(){Nn.forEach(k=>{const W=t.questions.filter(N=>N.category===k).map(({category:N,...Q})=>Q),L=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),z=document.createElement("a");z.href=URL.createObjectURL(L),z.download=`${k}.json`,z.click()})}return b.jsx(Lt.div,{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsxs(fa,{className:"relative max-h-[85vh] w-[90%] max-w-[500px] overflow-y-auto",children:[b.jsx("button",{className:"absolute right-3 top-3 border-none bg-transparent text-lg text-white cursor-pointer",onClick:()=>e({type:"SHOW_EDITOR",show:!1}),children:""}),b.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Add a Question"}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:"Question text",value:s,onChange:k=>r(k.target.value)}),b.jsx("select",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white",value:o,onChange:k=>c(k.target.value),children:Nn.map(k=>b.jsx("option",{value:k,children:k1[k]},k))}),b.jsx("select",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white",value:u,onChange:k=>h(Number(k.target.value)),children:[1,2,3,4,5,6].map(k=>b.jsxs("option",{value:k,children:[k," ",k===1?"(Easy)":k===6?"(Hard)":""]},k))}),m.map((k,W)=>b.jsx("input",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:`Answer ${String.fromCharCode(65+W)}`,value:k,onChange:L=>{const z=[...m];z[W]=L.target.value,p(z)}},W)),b.jsx("select",{className:"rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-white",value:g,onChange:k=>v(Number(k.target.value)),children:["A","B","C","D"].map((k,W)=>b.jsxs("option",{value:W,children:["Correct: ",k]},W))}),_&&b.jsx("p",{className:"text-sm text-error",children:_}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Ee,{variant:"primary",onClick:D,children:"Add Question"}),b.jsx(Ee,{onClick:q,children:"Export JSON"})]})]}),b.jsx("hr",{className:"my-4 border-white/10"}),b.jsx("h3",{className:"mb-2 text-lg font-bold",children:"Existing Questions"}),b.jsx("div",{className:"max-h-[300px] overflow-y-auto text-left",children:Nn.map(k=>{const W=t.questions.filter(L=>L.category===k).sort((L,z)=>L.difficulty-z.difficulty);return b.jsxs("div",{className:"mb-3 rounded-md border border-white/20",children:[b.jsxs("div",{className:"sticky top-0 z-10 cursor-pointer bg-surface-alt px-3 py-2 font-bold uppercase select-none hover:bg-white/10",onClick:()=>M(L=>({...L,[k]:!L[k]})),children:[k.toUpperCase()," (",W.length,")"]}),!T[k]&&b.jsx("div",{className:"bg-black p-2",children:W.map(L=>b.jsxs("div",{className:"flex items-center justify-between border-b border-white/5 py-1.5 text-sm last:border-none",children:[b.jsxs("div",{className:"flex-1 pr-2",children:[b.jsx("strong",{children:L.question}),b.jsxs("div",{className:"text-xs opacity-60",children:["Difficulty ",L.difficulty]})]}),b.jsx(Ee,{variant:"danger",size:"sm",onClick:()=>G(L.id),children:"Delete"})]},L.id))})]},k)})})]})})}function z4(){const t=Dt();ln();const{handleCultureScore:e}=oa(),{identity:s}=qs(),{playTick:r,playSound:o}=Ho(),[c,u]=A.useState("waiting"),[h,m]=A.useState(rh),[p,g]=A.useState(new Array(10).fill(!1)),[v,_]=A.useState(null),S=A.useRef(null),T=A.useRef(null),M=t.players[t.currentPlayerIndex],R=t.gameMode==="online"&&s.playerName!==null&&M?.name===s.playerName,D=t.isTeamMode&&t.gameMode==="online"?t.currentAnswererId===s.playerId:!1,G=t.isTeamMode&&t.gameMode==="online"&&s.teamId!==null&&s.teamId===t.activeTeamId,q=t.isTeamMode&&t.gameMode==="online"?G:R,k=t.isTeamMode&&t.gameMode==="online"?!G:!R||t.gameMode==="local",W=t.isTeamMode&&t.gameMode==="online"?!G:!R||t.gameMode==="local",L=t.isTeamMode&&t.gameMode==="online"?D:R||t.gameMode==="local",z=Uh,N=t.currentPlayerIndex+(t.players[t.currentPlayerIndex]?.position??0),Q=t.gameMode==="online"&&t.cultureQuestionIndex!==null?t.cultureQuestionIndex:N%z.length,ne=z[Q],ce=t.gameMode==="online"?t.cultureTimerStartedAt?"timer":"waiting":c,he=p.filter(Boolean).length,Fe=ce==="timer"&&h===0,Re=t.gameMode==="online"?t.cultureScore:v,je=Re!==null,V=w=>{k&&g(O=>O.map((H,Z)=>Z===w?!H:H))};A.useEffect(()=>{if(!(t.gameMode==="online"||c!=="timer"))return S.current=setInterval(()=>{r(),m(w=>w<=1?(clearInterval(S.current),S.current=null,0):w-1)},1e3),()=>{clearInterval(S.current),S.current=null}},[c,t.gameMode,r]),A.useEffect(()=>{if(t.gameMode!=="online"||!t.cultureTimerStartedAt)return;const w=t.cultureTimerStartedAt,O=()=>{const H=Math.floor((Date.now()-w)/1e3),Z=Math.max(0,rh-H);Z>0&&r(),m(Z),Z===0&&(clearInterval(T.current),T.current=null)};return O(),T.current=setInterval(O,1e3),()=>{clearInterval(T.current),T.current=null}},[t.cultureTimerStartedAt,t.gameMode,r]),A.useEffect(()=>{t.gameMode==="online"&&t.cultureTimerStartedAt&&Date.now()-t.cultureTimerStartedAt<5e3&&g(new Array(10).fill(!1))},[t.cultureTimerStartedAt,t.gameMode]),A.useEffect(()=>{Re!==null&&o(Re>0?"correct":"wrong")},[Re]);const K=()=>{W&&(t.gameMode==="online"&&s.roomCode?gI(s.roomCode):(m(rh),g(new Array(10).fill(!1)),u("timer")))},ee=()=>{k&&(t.gameMode==="online"&&s.roomCode?vI(s.roomCode,he):_(he))},fe=()=>{e(Re)},$=()=>{W&&(clearInterval(S.current),S.current=null,clearInterval(T.current),T.current=null,m(0),t.gameMode==="online"&&s.roomCode&&yI(s.roomCode))};return!M||!ne?null:b.jsx(Us,{children:b.jsx(Lt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(Lt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-[340px] max-w-[95vw]",children:b.jsxs(fa,{className:"max-h-[85vh] overflow-y-auto",children:[b.jsx("h2",{className:"mb-4 text-center text-xl font-bold text-fuchsia-400",children:" Culture Tile!"}),je?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("p",{className:"text-4xl font-bold text-fuchsia-400",children:[Re," / 10"]}),b.jsxs("p",{className:"text-center text-base font-semibold",children:[M.name," scored"," ",b.jsx("span",{className:"text-fuchsia-400",children:Re}),"!"]}),b.jsx("p",{className:"text-center text-sm opacity-60",children:Re>0?`Moving forward ${Re} space${Re===1?"":"s"}`:"No spaces gained."}),L&&b.jsx(Ee,{variant:"primary",onClick:fe,children:"Continue"})]}):q?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx("p",{className:"text-center text-sm opacity-80",children:t.isTeamMode?"Your team has landed on a Culture tile  start reciting!":"You've landed on a Culture tile  start reciting!"}),b.jsx("p",{className:"text-center text-sm font-semibold",children:ne.question}),ce==="waiting"&&b.jsx("p",{className:"text-center text-xs opacity-60",children:"Waiting for the judge to start the timer"}),ce==="timer"&&b.jsx(b.Fragment,{children:h>0?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"text-6xl font-bold text-fuchsia-400",children:h}),b.jsx("p",{className:"text-center text-xs opacity-60",children:"seconds remaining"})]}):b.jsx("p",{className:"text-center text-lg font-bold text-fuchsia-400",children:"Time's up!"})})]}):ce==="waiting"?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("p",{className:"text-center text-sm opacity-80",children:[b.jsx("strong",{children:M.name})," is performing.",b.jsx("br",{}),W?"Start the timer when they're ready.":"Waiting for a judge to start the timer"]}),b.jsx("p",{className:"w-full rounded-lg bg-fuchsia-950/50 p-3 text-center text-sm font-semibold text-fuchsia-200",children:ne.question}),W&&b.jsx(Ee,{onClick:K,children:"Start Timer"})]}):b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx("p",{className:"text-center text-xs opacity-60",children:k?`Tick answers as ${M.name} names them`:`${M.name} is performing`}),b.jsx("p",{className:"rounded-lg bg-fuchsia-950/50 p-2 text-center text-xs font-semibold text-fuchsia-200",children:ne.question}),b.jsx("div",{className:"flex items-center justify-center gap-2",children:h>0?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"text-4xl font-bold text-fuchsia-400",children:h}),b.jsx("span",{className:"text-xs opacity-60",children:"sec"})]}):b.jsx("span",{className:"text-sm font-bold text-fuchsia-400",children:"Time's up!"})}),h>0&&W&&b.jsx(Ee,{className:"w-full",onClick:$,children:"Finish Early"}),b.jsx("ol",{className:"flex flex-col gap-1",children:ne.answers.map((w,O)=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>V(O),disabled:!k,className:`flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left text-sm transition-colors ${p[O]?"bg-fuchsia-600 text-white":"bg-white/5 text-white/80 hover:bg-white/10"} ${k?"":"cursor-not-allowed opacity-50"}`,children:[b.jsx("span",{className:"w-5 shrink-0 text-center font-bold",children:p[O]?"":String(O+1)}),b.jsx("span",{children:w})]})},O))}),Fe&&k&&b.jsxs(Ee,{variant:"primary",onClick:ee,children:["Submit Score: ",he," / 10"]}),Fe&&!k&&b.jsx("p",{className:"text-center text-xs opacity-50",children:"Waiting for score to be submitted"})]})]})})})})}function P4(){const t=Dt(),{handleNotScore:e}=oa(),{identity:s}=qs(),{playTick:r,playSound:o}=Ho(),[c,u]=A.useState("handoff"),[h,m]=A.useState(ah),[p,g]=A.useState(new Array(6).fill(!1)),[v,_]=A.useState(null),S=A.useRef(null),T=A.useRef(null),M=t.players[t.currentPlayerIndex],R=t.currentNotCard,D=t.gameMode==="online"&&s.playerName!==null&&M?.name===s.playerName,G=t.isTeamMode&&t.gameMode==="online"?t.currentAnswererId===s.playerId:!1,q=t.isTeamMode&&t.gameMode==="online"&&s.teamId!==null&&s.teamId===t.activeTeamId,k=t.isTeamMode&&t.gameMode==="online"?G:D,W=t.isTeamMode&&t.gameMode==="online"?q&&!G:!D||t.gameMode==="local",L=t.isTeamMode&&t.gameMode==="online"?G:D||t.gameMode==="local",z=t.gameMode==="online"?t.notTimerStartedAt?"timer":"waiting":c,N=p.filter(Boolean).length,Q=z==="timer"&&h===0,ne=t.gameMode==="online"?t.notScore:v,ce=ne!==null,he=K=>g(ee=>ee.map((fe,$)=>$===K?!fe:fe));A.useEffect(()=>{if(!(t.gameMode==="online"||c!=="timer"))return S.current=setInterval(()=>{r(),m(K=>K<=1?(clearInterval(S.current),S.current=null,0):K-1)},1e3),()=>{clearInterval(S.current),S.current=null}},[c,t.gameMode,r]),A.useEffect(()=>{if(t.gameMode!=="online"||!t.notTimerStartedAt)return;const K=t.notTimerStartedAt,ee=()=>{const fe=Math.floor((Date.now()-K)/1e3),$=Math.max(0,ah-fe);$>0&&r(),m($),$===0&&(clearInterval(T.current),T.current=null)};return ee(),T.current=setInterval(ee,1e3),()=>{clearInterval(T.current),T.current=null}},[t.notTimerStartedAt,t.gameMode,r]),A.useEffect(()=>{t.gameMode==="online"&&t.notTimerStartedAt&&Date.now()-t.notTimerStartedAt<5e3&&g(new Array(6).fill(!1))},[t.notTimerStartedAt,t.gameMode]),A.useEffect(()=>{ne!==null&&o(ne>0?"correct":"wrong")},[ne]);const Fe=()=>{W&&(t.gameMode==="online"&&s.roomCode?_I(s.roomCode):(m(ah),g(new Array(6).fill(!1)),u("timer")))},Re=()=>{W&&(t.gameMode==="online"&&s.roomCode?xI(s.roomCode,N):_(N))},je=()=>{e(ne)},V=()=>{W&&(clearInterval(S.current),S.current=null,clearInterval(T.current),T.current=null,m(0),t.gameMode==="online"&&s.roomCode&&bI(s.roomCode))};return!M||!R?null:b.jsx(Us,{children:b.jsx(Lt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(Lt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-[340px] max-w-[95vw]",children:b.jsxs(fa,{className:"max-h-[85vh] overflow-y-auto",children:[b.jsx("h2",{className:"mb-4 text-center text-xl font-bold text-amber-400",children:" Not Tile!"}),ce?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("p",{className:"text-4xl font-bold text-amber-400",children:[ne," / 6"]}),b.jsxs("p",{className:"text-center text-base font-semibold",children:[M.name," guessed"," ",b.jsx("span",{className:"text-amber-400",children:ne}),"!"]}),b.jsx("p",{className:"text-center text-sm opacity-60",children:ne>0?`Moving forward ${ne} space${ne===1?"":"s"}`:"No spaces gained."}),L&&b.jsx(Ee,{variant:"primary",onClick:je,children:"Continue"})]}):k?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[z==="waiting"?b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-center text-sm opacity-80",children:t.isTeamMode?"Your teammate is about to describe 6 things  get ready to guess!":"Your teammates are about to describe 6 things  get ready to guess!"}),b.jsx("p",{className:"text-center text-xs opacity-60",children:"Waiting for the timer to start"})]}):null,z==="timer"&&b.jsx(b.Fragment,{children:h>0?b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-5xl font-bold text-amber-400",children:"Guess!"}),b.jsx("div",{className:"text-6xl font-bold text-white",children:h}),b.jsx("p",{className:"text-center text-xs opacity-60",children:"seconds remaining"})]}):b.jsx("p",{className:"text-center text-lg font-bold text-amber-400",children:"Time's up!"})})]}):t.gameMode!=="online"&&c==="handoff"?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("p",{className:"text-center text-sm opacity-80",children:[b.jsx("strong",{children:M.name}),", get ready to guess!"]}),b.jsx("p",{className:"text-center text-sm opacity-80",children:"Hand the device to another player to begin describing."}),b.jsx(Ee,{onClick:()=>u("waiting"),children:"Continue"})]}):W&&z==="waiting"?b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsxs("p",{className:"text-center text-sm opacity-80",children:["Describe these 6 things to"," ",b.jsx("strong",{children:M.name}),"  without saying the word!",b.jsx("br",{}),"Start the timer when ready."]}),b.jsx("ol",{className:"w-full flex flex-col gap-1",children:R.answers.map((K,ee)=>b.jsxs("li",{className:"flex items-center gap-2 rounded-lg bg-white/5 px-3 py-2 text-sm",children:[b.jsx("span",{className:"w-5 shrink-0 text-center font-bold text-amber-400",children:ee+1}),b.jsx("span",{children:K})]},ee))}),b.jsx(Ee,{onClick:Fe,children:"Start Timer"})]}):W?b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("p",{className:"text-center text-xs opacity-60",children:["Tick answers as"," ",b.jsx("strong",{className:"opacity-100",children:M.name})," ","guesses them"]}),b.jsx("div",{className:"flex items-center justify-center gap-2",children:h>0?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"text-4xl font-bold text-amber-400",children:h}),b.jsx("span",{className:"text-xs opacity-60",children:"sec"})]}):b.jsx("span",{className:"text-sm font-bold text-amber-400",children:"Time's up!"})}),h>0&&b.jsx(Ee,{className:"w-full",onClick:V,children:"Finish Early"}),b.jsx("ol",{className:"flex flex-col gap-1",children:R.answers.map((K,ee)=>b.jsx("li",{children:b.jsxs("button",{onClick:()=>he(ee),className:`flex w-full items-center gap-2 rounded-lg px-3 py-2 text-left text-sm transition-colors ${p[ee]?"bg-amber-500 text-white":"bg-white/5 text-white/80 hover:bg-white/10"}`,children:[b.jsx("span",{className:"w-5 shrink-0 text-center font-bold",children:p[ee]?"":String(ee+1)}),b.jsx("span",{children:K})]})},ee))}),Q&&b.jsxs(Ee,{variant:"primary",onClick:Re,children:["Submit Score: ",N," / 6"]})]}):b.jsx("div",{className:"flex flex-col items-center gap-4",children:b.jsx("p",{className:"text-center text-sm opacity-60",children:z==="waiting"?"Waiting for the active team to start":h>0?`${h}s remaining`:"Time's up!"})})]})})})})}function V4(){const t=ln(),[e,s]=A.useState("gameplay"),r=()=>{t({type:"DISMISS_WELCOME"})};return b.jsx(Us,{children:b.jsx(Lt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/85",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:b.jsx(Lt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"w-[380px] max-w-[95vw]",children:b.jsxs(fa,{className:"flex max-h-[85vh] flex-col overflow-hidden p-0",children:[b.jsxs("div",{className:"relative flex flex-col items-center gap-2 px-6 pt-5 pb-3",children:[b.jsx("button",{onClick:r,className:"absolute top-0 right-0 p-1.5 text-white/50 hover:text-white transition-colors","aria-label":"Close",children:""}),b.jsx("img",{src:"/assets/logo.svg",alt:"NotCulture",className:"h-14 w-auto object-contain"}),b.jsx("h2",{className:"text-lg font-bold text-white",children:"Welcome to NotCulture!"})]}),b.jsxs("div",{className:"flex gap-2 px-6 pb-3",children:[b.jsx(Ee,{variant:e==="gameplay"?"primary":"default",onClick:()=>s("gameplay"),className:"flex-1 text-sm",children:"Gameplay"}),b.jsx(Ee,{variant:e==="online"?"primary":"default",onClick:()=>s("online"),className:"flex-1 text-sm",children:"Online"})]}),b.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-2",children:b.jsx(Us,{mode:"wait",children:e==="gameplay"?b.jsxs(Lt.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},exit:{opacity:0,x:8},transition:{duration:.15},className:"space-y-4",children:[b.jsx(Un,{title:"Objective",children:b.jsx("p",{className:"text-sm text-white/80",children:"Be the first player to reach the end of the spiral path to win!"})}),b.jsx(Un,{title:"Setup",children:b.jsxs("ul",{className:"space-y-1.5 text-sm text-white/80",children:[b.jsxs("li",{children:["Add 24 players using the ",b.jsx("strong",{className:"text-white",children:"+ Player"})," and"," ",b.jsx("strong",{className:"text-white",children:" Player"})," buttons."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Tap a player's name"})," to rename them."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Tap the colour dot"})," next to a name to pick a token colour."]})]})}),b.jsx(Un,{title:"Each Turn",children:b.jsx("p",{className:"text-sm text-white/80",children:"Spin the wheel  the result sets your category and difficulty. Answer the trivia question correctly to move forward; wrong and you stay put."})}),b.jsx(Un,{title:"Categories",children:b.jsxs("ul",{className:"space-y-1.5",children:[b.jsx(Oc,{color:"bg-cat-film",label:"Film & TV"}),b.jsx(Oc,{color:"bg-cat-science",label:"Science & Tech"}),b.jsx(Oc,{color:"bg-cat-general",label:"General Knowledge"}),b.jsx(Oc,{color:"bg-cat-history",label:"History & Arts"})]})}),b.jsx(Un,{title:"Special Tiles",children:b.jsxs("ul",{className:"space-y-2",children:[b.jsxs("li",{className:"text-sm text-white/80",children:[b.jsx("strong",{className:"text-white",children:"Not tile"}),"  Inactive players describe words or phrases; the active player guesses. Score up to 6 points and move that many spaces."]}),b.jsxs("li",{className:"text-sm text-white/80",children:[b.jsx("strong",{className:"text-white",children:"Culture tile"}),"  A performance challenge: sing, act, or draw. Other players judge the result."]})]})})]},"gameplay"):b.jsxs(Lt.div,{initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:-8},transition:{duration:.15},className:"space-y-4",children:[b.jsx(Un,{title:"Creating a Room",children:b.jsxs("p",{className:"text-sm text-white/80",children:["Click ",b.jsx("strong",{className:"text-white",children:"Online Game"}),", enter your name, then click"," ",b.jsx("strong",{className:"text-white",children:"Create Room"}),". Share the 6-character room code with your friends. Enable"," ",b.jsx("strong",{className:"text-white",children:"Team Mode"})," before creating if you want team play."]})}),b.jsx(Un,{title:"Joining a Room",children:b.jsxs("p",{className:"text-sm text-white/80",children:["Enter your name and the room code, then click ",b.jsx("strong",{className:"text-white",children:"Join"}),". In Team Mode you'll see a lobby  join an existing team or create a new one."]})}),b.jsx(Un,{title:"Standard Multiplayer",children:b.jsx("p",{className:"text-sm text-white/80",children:"Up to 4 players, one per token. Everyone sees the board and questions in real time. Only the active player rolls and answers; all clients see the result simultaneously."})}),b.jsx(Un,{title:"Team Mode",children:b.jsxs("ul",{className:"space-y-1.5 text-sm text-white/80",children:[b.jsxs("li",{children:["Up to ",b.jsx("strong",{className:"text-white",children:"4 teams of 2 players"}),"  teams share a single board token."]}),b.jsx("li",{children:"Either teammate can roll the wheel on your team's turn."}),b.jsxs("li",{children:["Answering responsibility ",b.jsx("strong",{className:"text-white",children:"alternates"})," between teammates each turn."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Not tile:"})," one teammate describes, the other guesses."]}),b.jsxs("li",{children:[b.jsx("strong",{className:"text-white",children:"Culture tile:"})," one teammate performs, the other judges and submits the score."]})]})}),b.jsx(Un,{title:"Room Expiry",children:b.jsx("p",{className:"text-sm text-white/80",children:"Rooms expire automatically after 1 hour."})})]},"online")})}),b.jsx("div",{className:"px-6 pt-3 pb-5",children:b.jsx(Ee,{variant:"primary",onClick:r,className:"w-full",children:"Start Playing"})})]})})})})}function Un({title:t,children:e}){return b.jsxs("div",{children:[b.jsx("p",{className:"mb-1 text-sm font-bold uppercase tracking-wide text-white/70",children:t}),e]})}function Oc({color:t,label:e}){return b.jsxs("li",{className:"flex items-center gap-2",children:[b.jsx("span",{className:`h-3 w-3 flex-shrink-0 rounded-full ${t}`}),b.jsx("span",{className:"text-sm text-white/80",children:e})]})}const U4=JSON.parse(`[{"id":"film-101","category":"film","difficulty":1,"question":"Who directed the 1994 film 'Pulp Fiction'?","answers":["Martin Scorsese","Quentin Tarantino","Ridley Scott","David Fincher"],"correctIndex":1},{"id":"film-102","category":"film","difficulty":1,"question":"In which fictional city is Batman primarily based?","answers":["Metropolis","Star City","Central City","Gotham City"],"correctIndex":3},{"id":"film-103","category":"film","difficulty":2,"question":"Which actor portrayed Don Draper in 'Mad Men'?","answers":["Jon Hamm","Bryan Cranston","James Spader","Michael C. Hall"],"correctIndex":0},{"id":"film-104","category":"film","difficulty":2,"question":"Name the 1999 sci-fi film that features the line, 'There is no spoon.'","answers":["Dark City","The Matrix","Minority Report","Gattaca"],"correctIndex":1},{"id":"film-106","category":"film","difficulty":3,"question":"Who composed the original score for 'Jaws'?","answers":["Hans Zimmer","Ennio Morricone","John Williams","Jerry Goldsmith"],"correctIndex":2},{"id":"film-107","category":"film","difficulty":3,"question":"Which streaming platform produced the series 'Stranger Things'?","answers":["HBO","Amazon Prime","Netflix","Apple TV+"],"correctIndex":2},{"id":"film-108","category":"film","difficulty":4,"question":"Identify the film that won Best Picture at the Oscars in 2020.","answers":["1917","Joker","Parasite","Once Upon a Time in Hollywood"],"correctIndex":2},{"id":"film-109","category":"film","difficulty":4,"question":"Which British sitcom is set in the fictional Slough branch of Wernham Hogg?","answers":["Peep Show","The IT Crowd","The Office","Extras"],"correctIndex":2},{"id":"film-110","category":"film","difficulty":4,"question":"Who played the role of Vito Corleone in 'The Godfather' (1972)?","answers":["Al Pacino","Robert De Niro","Marlon Brando","James Caan"],"correctIndex":2},{"id":"film-111","category":"film","difficulty":5,"question":"Name the director of the 2001 film 'Mulholland Drive'.","answers":["David Lynch","Paul Thomas Anderson","Wes Anderson","Darren Aronofsky"],"correctIndex":0},{"id":"film-112","category":"film","difficulty":5,"question":"In which year did 'The Simpsons' first premiere on television?","answers":["1987","1989","1990","1992"],"correctIndex":1},{"id":"film-113","category":"film","difficulty":5,"question":"Which film features the character Travis Bickle?","answers":["The King of Comedy","Taxi Driver","Raging Bull","Mean Streets"],"correctIndex":1},{"id":"film-114","category":"film","difficulty":5,"question":"Complete the film title: 'Dr. Strangelove or: How I Learned to Stop Worrying and ______.'","answers":["Love the Bomb","Trust the Government","Fight Back","Win the War"],"correctIndex":0},{"id":"film-115","category":"film","difficulty":6,"question":"Who directed the 1957 courtroom drama '12 Angry Men'?","answers":["Elia Kazan","Sidney Lumet","Billy Wilder","Otto Preminger"],"correctIndex":1},{"id":"film-116","category":"film","difficulty":6,"question":"Which Japanese director made the film 'Seven Samurai'?","answers":["Yasujiro Ozu","Kenji Mizoguchi","Akira Kurosawa","Masaki Kobayashi"],"correctIndex":2},{"id":"film-117","category":"film","difficulty":6,"question":"In which year was the original 'Blade Runner' released?","answers":["1979","1980","1982","1984"],"correctIndex":2},{"id":"film-120","category":"film","difficulty":6,"question":"Which film won the first Academy Award for Best Picture in 1929?","answers":["Sunrise","Wings","The Jazz Singer","All Quiet on the Western Front"],"correctIndex":1},{"id":"film-121","category":"film","difficulty":1,"question":"Who played Jack Dawson in the 1997 film 'Titanic'?","answers":["Brad Pitt","Leonardo DiCaprio","Matt Damon","Johnny Depp"],"correctIndex":1},{"id":"film-122","category":"film","difficulty":1,"question":"In which TV series would you find the character Walter White?","answers":["The Sopranos","Breaking Bad","Ozark","Narcos"],"correctIndex":1},{"id":"film-123","category":"film","difficulty":2,"question":"Name the actor who portrayed Wolverine in the X-Men film series.","answers":["Chris Hemsworth","Hugh Jackman","Ryan Reynolds","Henry Cavill"],"correctIndex":1},{"id":"film-124","category":"film","difficulty":2,"question":"What is the name of the fictional continent where 'Game of Thrones' is primarily set?","answers":["Middle-earth","Westeros","Narnia","Essos"],"correctIndex":1},{"id":"film-125","category":"film","difficulty":3,"question":"In what year was the original 'Jurassic Park' released?","answers":["1991","1993","1995","1997"],"correctIndex":1},{"id":"film-126","category":"film","difficulty":3,"question":"Who directed the 2017 horror film 'Get Out'?","answers":["Jordan Peele","Ari Aster","James Wan","Robert Eggers"],"correctIndex":0},{"id":"film-127","category":"film","difficulty":3,"question":"Which actor played Fleabags sister Claire in the BBC series 'Fleabag'?","answers":["Olivia Colman","Sian Clifford","Phoebe Waller-Bridge","Jodie Comer"],"correctIndex":1},{"id":"film-128","category":"film","difficulty":4,"question":"Identify the film in which the character Daniel Plainview appears.","answers":["No Country for Old Men","There Will Be Blood","The Master","Gangs of New York"],"correctIndex":1},{"id":"film-129","category":"film","difficulty":4,"question":"Which actress won an Oscar for her performance in 'La La Land'?","answers":["Emma Stone","Natalie Portman","Saoirse Ronan","Jennifer Lawrence"],"correctIndex":0},{"id":"film-130","category":"film","difficulty":4,"question":"Name the long-running British sci-fi series that began in 1963 and features the Time Lord known as the Doctor.","answers":["Blake's 7","Torchwood","Doctor Who","Red Dwarf"],"correctIndex":2},{"id":"film-131","category":"film","difficulty":5,"question":"Who directed the 2007 film 'No Country for Old Men'?","answers":["Paul Thomas Anderson","The Coen Brothers","Christopher Nolan","Denis Villeneuve"],"correctIndex":1},{"id":"film-132","category":"film","difficulty":5,"question":"Which South Korean film won the Palme d'Or at Cannes in 2019?","answers":["Burning","Parasite","Oldboy","The Handmaiden"],"correctIndex":1},{"id":"film-133","category":"film","difficulty":5,"question":"In the film 'Goodfellas', what is the name of Ray Liottas character?","answers":["Jimmy Conway","Tommy DeVito","Henry Hill","Paul Cicero"],"correctIndex":2},{"id":"film-134","category":"film","difficulty":5,"question":"Which HBO series is based on the video game franchise created by Naughty Dog?","answers":["Westworld","The Last of Us","True Detective","Chernobyl"],"correctIndex":1},{"id":"film-135","category":"film","difficulty":6,"question":"Name the director of the 1979 war epic 'Apocalypse Now'.","answers":["Martin Scorsese","Francis Ford Coppola","Stanley Kubrick","Brian De Palma"],"correctIndex":1},{"id":"film-136","category":"film","difficulty":6,"question":"In which year did Alfred Hitchcock release 'Psycho'?","answers":["1958","1960","1962","1964"],"correctIndex":1},{"id":"film-137","category":"film","difficulty":6,"question":"Which Italian filmmaker directed 'La Dolce Vita'?","answers":["Roberto Rossellini","Federico Fellini","Luchino Visconti","Michelangelo Antonioni"],"correctIndex":1},{"id":"film-138","category":"film","difficulty":6,"question":"Who composed the score for the film 'The Good, the Bad and the Ugly'?","answers":["Nino Rota","John Williams","Ennio Morricone","Henry Mancini"],"correctIndex":2},{"id":"film-139","category":"film","difficulty":6,"question":"Identify the television series created by Phoebe Waller-Bridge that first aired in 2016.","answers":["Killing Eve","Fleabag","Broadchurch","Bodyguard"],"correctIndex":1},{"id":"film-140","category":"film","difficulty":6,"question":"Which film won Best Picture at the 1973 Academy Awards?","answers":["The Godfather","Cabaret","Deliverance","The Sting"],"correctIndex":0},{"id":"film-141","category":"film","difficulty":2,"question":"In what year was the first 'Harry Potter' film released?","answers":["1999","2000","2001","2002"],"correctIndex":2},{"id":"film-142","category":"film","difficulty":2,"question":"Name the actor who portrayed Tony Soprano.","answers":["Ray Liotta","James Gandolfini","Al Pacino","Michael Imperioli"],"correctIndex":1},{"id":"film-143","category":"film","difficulty":3,"question":"Who directed the 2014 film 'Interstellar'?","answers":["Denis Villeneuve","Christopher Nolan","Ridley Scott","James Cameron"],"correctIndex":1},{"id":"film-144","category":"film","difficulty":3,"question":"In 'The Silence of the Lambs', what is the profession of Clarice Starling?","answers":["Detective","Psychologist","FBI trainee","Journalist"],"correctIndex":2},{"id":"film-145","category":"film","difficulty":3,"question":"The series 'The Wire' is primarily set in which U.S. city?","answers":["Chicago","Baltimore","New York","Philadelphia"],"correctIndex":1},{"id":"film-146","category":"film","difficulty":4,"question":"Identify the film in which the character Anton Chigurh appears.","answers":["Sicario","No Country for Old Men","Prisoners","Heat"],"correctIndex":1},{"id":"film-147","category":"film","difficulty":4,"question":"Who starred opposite Julia Roberts in 'Notting Hill'?","answers":["Colin Firth","Hugh Grant","Jude Law","Daniel Day-Lewis"],"correctIndex":1},{"id":"film-148","category":"film","difficulty":4,"question":"In which year did 'The Shawshank Redemption' premiere?","answers":["1992","1994","1996","1998"],"correctIndex":1},{"id":"film-149","category":"film","difficulty":5,"question":"Name the director of the 2016 film 'Arrival'.","answers":["Denis Villeneuve","Guillermo del Toro","Alejandro Irritu","Alfonso Cuarn"],"correctIndex":0},{"id":"film-150","category":"film","difficulty":5,"question":"Which actress played the lead role in the 2017 film 'Lady Bird'?","answers":["Emma Stone","Saoirse Ronan","Florence Pugh","Margot Robbie"],"correctIndex":1},{"id":"film-151","category":"film","difficulty":5,"question":"In 'The Big Lebowski', what is the nickname of Jeffrey Lebowski?","answers":["The Boss","The Duke","The Dude","The Don"],"correctIndex":2},{"id":"film-152","category":"film","difficulty":5,"question":"Which television network originally broadcast 'Twin Peaks' in 1990?","answers":["NBC","CBS","ABC","Fox"],"correctIndex":2},{"id":"film-153","category":"film","difficulty":6,"question":"Who directed the 1968 science-fiction film '2001: A Space Odyssey'?","answers":["Stanley Kubrick","Arthur C. Clarke","Ridley Scott","Roman Polanski"],"correctIndex":0},{"id":"film-154","category":"film","difficulty":6,"question":"In which year did the first Cannes Film Festival take place?","answers":["1937","1939","1946","1950"],"correctIndex":2},{"id":"film-155","category":"film","difficulty":6,"question":"Name the cinematographer who shot 'Blade Runner 2049'.","answers":["Roger Deakins","Hoyte van Hoytema","Emmanuel Lubezki","Robert Richardson"],"correctIndex":0},{"id":"film-156","category":"film","difficulty":6,"question":"Which Iranian director made the Oscar-winning film 'A Separation'?","answers":["Asghar Farhadi","Abbas Kiarostami","Jafar Panahi","Majid Majidi"],"correctIndex":0},{"id":"film-157","category":"film","difficulty":6,"question":"What was the first animated feature-length film nominated for the Academy Award for Best Picture?","answers":["Beauty and the Beast","Toy Story","Shrek","The Lion King"],"correctIndex":0},{"id":"film-158","category":"film","difficulty":6,"question":"In television, what does the term 'pilot' refer to?","answers":["A season finale","A test episode made to sell a series","A recap episode","A crossover special"],"correctIndex":1},{"id":"film-159","category":"film","difficulty":6,"question":"Who composed the score for 'The Lord of the Rings' trilogy?","answers":["Howard Shore","John Williams","Hans Zimmer","James Horner"],"correctIndex":0},{"id":"film-160","category":"film","difficulty":6,"question":"Which film won Best Picture at the 1995 Academy Awards?","answers":["Pulp Fiction","Forrest Gump","Braveheart","The Shawshank Redemption"],"correctIndex":1},{"id":"film-161","category":"film","difficulty":1,"question":"Who directed the 1997 blockbuster Titanic?","answers":["Steven Spielberg","James Cameron","Ridley Scott","Michael Bay"],"correctIndex":1},{"id":"film-162","category":"film","difficulty":1,"question":"Which actor played Iron Man in the Marvel Cinematic Universe?","answers":["Chris Evans","Chris Hemsworth","Mark Ruffalo","Robert Downey Jr."],"correctIndex":3},{"id":"film-163","category":"film","difficulty":1,"question":"What is the name of the lion cub at the centre of The Lion King?","answers":["Nala","Mufasa","Simba","Kion"],"correctIndex":2},{"id":"film-164","category":"film","difficulty":1,"question":"Which animated film features a clownfish searching for his missing son?","answers":["Shark Tale","Moana","The Little Mermaid","Finding Nemo"],"correctIndex":3},{"id":"film-165","category":"film","difficulty":1,"question":"In which film does the character Forrest Gump appear?","answers":["Cast Away","Big","Forrest Gump","Philadelphia"],"correctIndex":2},{"id":"film-166","category":"film","difficulty":1,"question":"What is the name of the magical school attended by Harry Potter?","answers":["Beauxbatons","Durmstrang","Ilvermorny","Hogwarts"],"correctIndex":3},{"id":"film-167","category":"film","difficulty":2,"question":"Who played the Joker in The Dark Knight (2008)?","answers":["Jack Nicholson","Jared Leto","Joaquin Phoenix","Heath Ledger"],"correctIndex":3},{"id":"film-168","category":"film","difficulty":2,"question":"Which film features the famous line 'You can't handle the truth!'?","answers":["The Firm","JFK","A Few Good Men","Misery"],"correctIndex":2},{"id":"film-169","category":"film","difficulty":2,"question":"What is the name of the main character in The Matrix?","answers":["Morpheus","Trinity","Agent Smith","Neo"],"correctIndex":3},{"id":"film-170","category":"film","difficulty":2,"question":"In which film does Tom Hanks play a man stranded on a deserted island?","answers":["Philadelphia","Big","The Terminal","Cast Away"],"correctIndex":3},{"id":"film-171","category":"film","difficulty":3,"question":"In which Alfred Hitchcock film does the character Norman Bates appear?","answers":["The Silence of the Lambs","Psycho","Halloween","Se7en"],"correctIndex":1},{"id":"film-172","category":"film","difficulty":3,"question":"Which director made the 1968 science-fiction film 2001: A Space Odyssey?","answers":["Ridley Scott","George Lucas","Steven Spielberg","Stanley Kubrick"],"correctIndex":3},{"id":"film-173","category":"film","difficulty":4,"question":"Which Coen Brothers film won the Academy Award for Best Picture in 2008?","answers":["Fargo","True Grit","Burn After Reading","No Country for Old Men"],"correctIndex":3}]`),q4=JSON.parse(`[{"id":"science-002","category":"science","difficulty":2,"question":"What gas do plants absorb from the atmosphere?","answers":["Oxygen","Nitrogen","Carbon Dioxide","Hydrogen"],"correctIndex":2},{"id":"science-003","category":"science","difficulty":3,"question":"What is the chemical symbol for gold?","answers":["Ag","Au","Gd","Go"],"correctIndex":1},{"id":"science-004","category":"science","difficulty":4,"question":"Which scientist developed the theory of general relativity?","answers":["Isaac Newton","Albert Einstein","Galileo Galilei","Nikola Tesla"],"correctIndex":1},{"id":"science-005","category":"science","difficulty":5,"question":"What is the powerhouse of the cell?","answers":["Nucleus","Ribosome","Mitochondria","Chloroplast"],"correctIndex":2},{"id":"science-006","category":"science","difficulty":6,"question":"What particle carries a negative electric charge?","answers":["Proton","Neutron","Electron","Photon"],"correctIndex":2},{"id":"science-007","category":"science","difficulty":1,"question":"What do bees produce?","answers":["Milk","Honey","Silk","Wax"],"correctIndex":1},{"id":"science-008","category":"science","difficulty":2,"question":"What is H2O commonly known as?","answers":["Salt","Water","Oxygen","Hydrogen"],"correctIndex":1},{"id":"science-009","category":"science","difficulty":3,"question":"What part of the body pumps blood?","answers":["Lungs","Brain","Heart","Liver"],"correctIndex":2},{"id":"science-010","category":"science","difficulty":4,"question":"What is the speed of light approximately?","answers":["300,000 km/s","150,000 km/s","1,000 km/s","30,000 km/s"],"correctIndex":0},{"id":"science-011","category":"science","difficulty":5,"question":"Which element has atomic number 1?","answers":["Helium","Hydrogen","Oxygen","Carbon"],"correctIndex":1},{"id":"science-012","category":"science","difficulty":6,"question":"What is the name of the largest moon of Saturn?","answers":["Europa","Titan","Ganymede","Callisto"],"correctIndex":1},{"id":"science-013","difficulty":1,"question":"What planet is known as the Red Planet?","answers":["Venus","Mars","Jupiter","Mercury"],"correctIndex":1},{"id":"science-014","difficulty":2,"question":"What gas do humans need to breathe in order to survive?","answers":["Carbon Dioxide","Nitrogen","Oxygen","Hydrogen"],"correctIndex":2},{"id":"science-015","difficulty":3,"question":"What is the chemical symbol for sodium?","answers":["So","Na","Sn","Sd"],"correctIndex":1},{"id":"science-016","difficulty":2,"question":"What is the largest organ in the human body?","answers":["Heart","Liver","Skin","Brain"],"correctIndex":2},{"id":"science-017","difficulty":4,"question":"Which scientist developed the theory of evolution by natural selection?","answers":["Gregor Mendel","Charles Darwin","Louis Pasteur","Alfred Wallace"],"correctIndex":1},{"id":"science-018","difficulty":1,"question":"How many legs does a spider have?","answers":["Six","Eight","Ten","Four"],"correctIndex":1},{"id":"science-019","difficulty":5,"question":"What is the name of the force that keeps planets in orbit around the Sun?","answers":["Magnetism","Friction","Gravity","Inertia"],"correctIndex":2},{"id":"science-020","difficulty":2,"question":"Which part of the cell contains genetic material?","answers":["Cytoplasm","Nucleus","Cell membrane","Ribosome"],"correctIndex":1},{"id":"science-021","difficulty":3,"question":"What type of animal is a Komodo dragon?","answers":["Mammal","Amphibian","Reptile","Bird"],"correctIndex":2},{"id":"science-022","difficulty":6,"question":"What is the name of the boundary surrounding a black hole beyond which nothing can escape?","answers":["Singularity","Event Horizon","Photon Sphere","Accretion Disk"],"correctIndex":1},{"id":"science-023","difficulty":1,"question":"What device is used to measure temperature?","answers":["Barometer","Thermometer","Hygrometer","Anemometer"],"correctIndex":1},{"id":"science-024","difficulty":4,"question":"Which planet has the most prominent ring system?","answers":["Neptune","Uranus","Saturn","Jupiter"],"correctIndex":2},{"id":"science-025","difficulty":3,"question":"What is the main gas found in the Earth's atmosphere?","answers":["Oxygen","Carbon Dioxide","Nitrogen","Argon"],"correctIndex":2},{"id":"science-026","difficulty":5,"question":"Which scientist developed both the special and general theories of relativity?","answers":["Niels Bohr","Albert Einstein","Max Planck","Werner Heisenberg"],"correctIndex":1},{"id":"science-028","difficulty":4,"question":"What is the boiling point of water at sea level in degrees Celsius?","answers":["90C","95C","100C","105C"],"correctIndex":2},{"id":"science-029","difficulty":6,"question":"What does DNA stand for?","answers":["Dynamic Nucleic Acid","Deoxyribonucleic Acid","Dual Nitrogen Acid","Deoxynitric Acid"],"correctIndex":1},{"id":"science-101","category":"science","difficulty":1,"question":"Name the planet that is closest to the Sun.","answers":["Venus","Mercury","Mars","Earth"],"correctIndex":1},{"id":"science-102","category":"science","difficulty":1,"question":"How many bones are there in the adult human body?","answers":["198","206","212","220"],"correctIndex":1},{"id":"science-104","category":"science","difficulty":2,"question":"Complete the term for the study of earthquakes: ______ology.","answers":["Seismology","Volcanology","Meteorology","Geology"],"correctIndex":0},{"id":"science-105","category":"science","difficulty":3,"question":"In what year did the first human land on the Moon?","answers":["1967","1968","1969","1971"],"correctIndex":2},{"id":"science-107","category":"science","difficulty":3,"question":"Identify the organ responsible for filtering blood in the human body.","answers":["Liver","Heart","Kidneys","Pancreas"],"correctIndex":2},{"id":"science-108","category":"science","difficulty":4,"question":"How many elements are currently recognised on the periodic table?","answers":["112","114","118","120"],"correctIndex":2},{"id":"science-110","category":"science","difficulty":4,"question":"In computing, RAM stands for Random Access ______.","answers":["Module","Machine","Memory","Matrix"],"correctIndex":2},{"id":"science-111","category":"science","difficulty":5,"question":"Identify the branch of biology that studies fungi.","answers":["Botany","Zoology","Mycology","Ecology"],"correctIndex":2},{"id":"science-113","category":"science","difficulty":5,"question":"In what year was the World Wide Web first made publicly available?","answers":["1989","1991","1993","1995"],"correctIndex":1},{"id":"science-114","category":"science","difficulty":5,"question":"Complete the law: For every action, there is an equal and opposite ______.","answers":["force","motion","reaction","impact"],"correctIndex":2},{"id":"science-115","category":"science","difficulty":6,"question":"Identify the scientist who proposed the uncertainty principle.","answers":["Werner Heisenberg","Erwin Schrdinger","Paul Dirac","Richard Feynman"],"correctIndex":0},{"id":"science-116","category":"science","difficulty":6,"question":"Name the constant approximately equal to 6.626  10 Js.","answers":["Avogadro constant","Planck constant","Boltzmann constant","Rydberg constant"],"correctIndex":1},{"id":"science-117","category":"science","difficulty":6,"question":"In astrophysics, the Schwarzschild radius is associated with which cosmic object?","answers":["Neutron star","Black hole","Quasar","White dwarf"],"correctIndex":1},{"id":"science-118","category":"science","difficulty":6,"question":"How many chromosomes are typically found in a human somatic cell?","answers":["44","46","48","52"],"correctIndex":1},{"id":"science-119","category":"science","difficulty":4,"question":"Identify the metal that is liquid at room temperature.","answers":["Gallium","Mercury","Cesium","Bromine"],"correctIndex":1},{"id":"science-120","category":"science","difficulty":3,"question":"Name the largest mammal on Earth.","answers":["African Elephant","Blue Whale","Giraffe","Orca"],"correctIndex":1},{"id":"science-122","category":"science","difficulty":6,"question":"Name the particle responsible for mediating the strong nuclear force.","answers":["Photon","Gluon","Graviton","Neutrino"],"correctIndex":1},{"id":"science-123","category":"science","difficulty":4,"question":"In which decade was the first iPhone released?","answers":["1990s","2000s","2010s","2020s"],"correctIndex":1},{"id":"science-124","category":"science","difficulty":5,"question":"Identify the scientist credited with discovering penicillin.","answers":["Louis Pasteur","Alexander Fleming","Robert Koch","Jonas Salk"],"correctIndex":1},{"id":"science-125","category":"science","difficulty":6,"question":"Name the theorem stating that no two fermions can occupy the same quantum state simultaneously.","answers":["Heisenberg Principle","Pauli Exclusion Principle","Dirac Equation","Bohr Postulate"],"correctIndex":1},{"id":"science-126","category":"science","difficulty":3,"question":"Identify the organelle known as the powerhouse of the cell.","answers":["Nucleus","Mitochondrion","Ribosome","Golgi apparatus"],"correctIndex":1},{"id":"science-127","category":"science","difficulty":5,"question":"In computing, what does 'HTTP' stand for?","answers":["HyperText Transfer Protocol","High Transmission Text Process","Hyper Transfer Technical Protocol","Host Transfer Transmission Program"],"correctIndex":0},{"id":"science-128","category":"science","difficulty":6,"question":"Name the galaxy that is on a collision course with the Milky Way.","answers":["Triangulum Galaxy","Whirlpool Galaxy","Andromeda Galaxy","Sombrero Galaxy"],"correctIndex":2},{"id":"science-129","category":"science","difficulty":4,"question":"How many hearts does an octopus have?","answers":["One","Two","Three","Four"],"correctIndex":2},{"id":"science-130","category":"science","difficulty":5,"question":"Identify the scientist who formulated the three laws of planetary motion.","answers":["Galileo Galilei","Johannes Kepler","Tycho Brahe","Nicolaus Copernicus"],"correctIndex":1},{"id":"science-131","category":"science","difficulty":1,"question":"How many planets are in our solar system?","answers":["7","8","9","10"],"correctIndex":1},{"id":"science-132","category":"science","difficulty":1,"question":"What force pulls objects towards the Earth?","answers":["Friction","Magnetism","Momentum","Gravity"],"correctIndex":3},{"id":"science-134","category":"science","difficulty":1,"question":"What is the chemical formula for water?","answers":["WO","H2","HO","H2O"],"correctIndex":3},{"id":"science-137","category":"science","difficulty":2,"question":"What gas do plants absorb from the air during photosynthesis?","answers":["Oxygen","Hydrogen","Nitrogen","Carbon dioxide"],"correctIndex":3},{"id":"science-138","category":"science","difficulty":2,"question":"Approximately how fast does light travel in kilometres per second?","answers":["150,000","450,000","600,000","300,000"],"correctIndex":3},{"id":"science-139","category":"science","difficulty":3,"question":"What is the atomic number of carbon?","answers":["4","8","12","6"],"correctIndex":3}]`),H4=JSON.parse(`[{"id":"general-001","category":"general","difficulty":1,"question":"Which company was founded by Bill Gates and Paul Allen in 1975?","answers":["Apple","Microsoft","IBM","Intel"],"correctIndex":1},{"id":"general-002","category":"general","difficulty":1,"question":"What does the acronym 'NATO' stand for?","answers":["National Alliance Treaty Organisation","North Atlantic Treaty Organisation","Northern Alliance Trade Office","New Atlantic Treaty Order"],"correctIndex":1},{"id":"general-003","category":"general","difficulty":2,"question":"Which sport is played at Wimbledon?","answers":["Cricket","Tennis","Rugby","Golf"],"correctIndex":1},{"id":"general-004","category":"general","difficulty":2,"question":"What is the currency used in Switzerland?","answers":["Euro","Swiss Franc","Krone","Forint"],"correctIndex":1},{"id":"general-005","category":"general","difficulty":3,"question":"Which company owns the social media platform Instagram?","answers":["Google","Meta","Twitter","Snap"],"correctIndex":1},{"id":"general-006","category":"general","difficulty":3,"question":"Which country hosted the first modern Olympic Games in 1896?","answers":["France","Greece","Italy","United Kingdom"],"correctIndex":1},{"id":"general-007","category":"general","difficulty":3,"question":"What is the official language of Argentina?","answers":["Portuguese","Spanish","Italian","French"],"correctIndex":1},{"id":"general-008","category":"general","difficulty":4,"question":"Polestar electric vehicles were originally a performance brand under which car manufacturer?","answers":["BMW","Volvo","Mercedes-Benz","Audi"],"correctIndex":1},{"id":"general-009","category":"general","difficulty":4,"question":"Which organisation regulates professional golf's Ryder Cup?","answers":["FIFA","PGA of America","ATP","ICC"],"correctIndex":1},{"id":"general-010","category":"general","difficulty":4,"question":"Which UK supermarket chain was founded by Jack Cohen?","answers":["Sainsbury's","Tesco","Asda","Morrisons"],"correctIndex":1},{"id":"general-011","category":"general","difficulty":5,"question":"Which company owns the luxury fashion brand Balenciaga?","answers":["LVMH","Kering","Richemont","Prada Group"],"correctIndex":1},{"id":"general-012","category":"general","difficulty":5,"question":"In finance, what does 'FTSE' stand for?","answers":["Financial Times Stock Exchange","Federal Trade Securities Exchange","Foreign Trade Share Evaluation","Fiscal Trading Securities Enterprise"],"correctIndex":0},{"id":"general-013","category":"general","difficulty":5,"question":"Which country has won the most Rugby World Cups?","answers":["England","New Zealand","Australia","South Africa"],"correctIndex":3},{"id":"general-014","category":"general","difficulty":5,"question":"Which streaming service was launched first?","answers":["Netflix","Amazon Prime Video","Disney+","Apple TV+"],"correctIndex":0},{"id":"general-015","category":"general","difficulty":6,"question":"Which country is the only one to have competed in every FIFA World Cup tournament?","answers":["Germany","Argentina","Brazil","Italy"],"correctIndex":2},{"id":"general-017","category":"general","difficulty":6,"question":"Which company was the first to reach a market valuation of $1 trillion?","answers":["Microsoft","Amazon","Apple","Google"],"correctIndex":2},{"id":"general-018","category":"general","difficulty":2,"question":"What does 'WWW' stand for?","answers":["World Wide Web","World Wireless Web","Wide World Web","Web World Wide"],"correctIndex":0},{"id":"general-019","category":"general","difficulty":3,"question":"Which countrys national airline is called Qantas?","answers":["New Zealand","Australia","Canada","Singapore"],"correctIndex":1},{"id":"general-020","category":"general","difficulty":4,"question":"Which luxury watch brand produces the 'Submariner' model?","answers":["Omega","Rolex","Tag Heuer","Breitling"],"correctIndex":1},{"id":"general-021","category":"general","difficulty":1,"question":"Which company produces the sportswear brand Air Jordan?","answers":["Adidas","Nike","Puma","Under Armour"],"correctIndex":1},{"id":"general-022","category":"general","difficulty":1,"question":"What does the acronym 'IMF' stand for?","answers":["International Monetary Fund","International Market Federation","Integrated Monetary Forum","Internal Monetary Finance"],"correctIndex":0},{"id":"general-023","category":"general","difficulty":2,"question":"Which country hosts the Formula 1 race at Silverstone?","answers":["Germany","United Kingdom","Italy","France"],"correctIndex":1},{"id":"general-024","category":"general","difficulty":2,"question":"Which global fast-food chain uses the slogan 'I'm Lovin' It'?","answers":["Burger King","KFC","McDonald's","Subway"],"correctIndex":2},{"id":"general-025","category":"general","difficulty":3,"question":"Which company owns YouTube?","answers":["Meta","Apple","Alphabet","Amazon"],"correctIndex":2},{"id":"general-026","category":"general","difficulty":3,"question":"Which city hosts the annual World Economic Forum?","answers":["Geneva","Zurich","Davos","Basel"],"correctIndex":2},{"id":"general-027","category":"general","difficulty":3,"question":"Which country won the UEFA European Championship in 2020 (played in 2021)?","answers":["England","France","Italy","Portugal"],"correctIndex":2},{"id":"general-028","category":"general","difficulty":4,"question":"Which British newspaper is owned by News UK?","answers":["The Guardian","The Times","The Telegraph","The Independent"],"correctIndex":1},{"id":"general-029","category":"general","difficulty":4,"question":"Which company manufactures the 'Kindle' e-reader?","answers":["Apple","Barnes & Noble","Amazon","Sony"],"correctIndex":2},{"id":"general-030","category":"general","difficulty":4,"question":"Which country is home to the luxury fashion house Herms?","answers":["Italy","France","Switzerland","Spain"],"correctIndex":1},{"id":"general-031","category":"general","difficulty":5,"question":"Which company was formerly known as Facebook, Inc. before rebranding in 2021?","answers":["Meta Platforms","Alphabet","Snap Inc.","X Corp"],"correctIndex":0},{"id":"general-032","category":"general","difficulty":5,"question":"Which sporting event awards the Claret Jug to its winner?","answers":["US Open Golf","The Masters","The Open Championship","PGA Championship"],"correctIndex":2},{"id":"general-033","category":"general","difficulty":5,"question":"Which luxury conglomerate owns brands including Louis Vuitton and Mot & Chandon?","answers":["Kering","LVMH","Richemont","Chanel Group"],"correctIndex":1},{"id":"general-034","category":"general","difficulty":5,"question":"Which country has won the most Cricket World Cups (Mens ODI)?","answers":["Australia","India","West Indies","England"],"correctIndex":0},{"id":"general-035","category":"general","difficulty":6,"question":"Which year was the United Nations officially established?","answers":["1943","1945","1947","1950"],"correctIndex":1},{"id":"general-036","category":"general","difficulty":6,"question":"Which company originally created the Android operating system?","answers":["Google","Samsung","Android Inc.","Motorola"],"correctIndex":2},{"id":"general-037","category":"general","difficulty":6,"question":"Which country is the headquarters of the International Olympic Committee?","answers":["France","Switzerland","Greece","Belgium"],"correctIndex":1},{"id":"general-038","category":"general","difficulty":2,"question":"Which sport uses a shuttlecock?","answers":["Tennis","Squash","Badminton","Table Tennis"],"correctIndex":2},{"id":"general-039","category":"general","difficulty":3,"question":"Which countrys airline is called Emirates?","answers":["Qatar","United Arab Emirates","Saudi Arabia","Oman"],"correctIndex":1},{"id":"general-040","category":"general","difficulty":4,"question":"Which financial index tracks 100 major companies listed on the London Stock Exchange?","answers":["FTSE 250","Dow Jones","FTSE 100","CAC 40"],"correctIndex":2},{"id":"general-041","category":"general","difficulty":3,"question":"In what year did Facebook first launch to the public?","answers":["2002","2004","2006","2008"],"correctIndex":1},{"id":"general-042","category":"general","difficulty":3,"question":"Who is the current governing body of international football?","answers":["UEFA","FIFA","IOC","FA"],"correctIndex":1},{"id":"general-043","category":"general","difficulty":4,"question":"The brand 'Airbnb' is a shortened version of what original name?","answers":["Air Bed & Breakfast","Air Bungalow","Aerial Bed Network","Air Booking Base"],"correctIndex":0},{"id":"general-044","category":"general","difficulty":4,"question":"Identify the company that owns the luxury car manufacturer Bentley.","answers":["BMW","Volkswagen Group","Toyota","Stellantis"],"correctIndex":1},{"id":"general-045","category":"general","difficulty":4,"question":"How many permanent members sit on the United Nations Security Council?","answers":["4","5","6","7"],"correctIndex":1},{"id":"general-046","category":"general","difficulty":5,"question":"Complete the economic term: GDP measures the total value of all final ______ produced within a country.","answers":["exports","goods and services","investments","assets"],"correctIndex":1},{"id":"general-047","category":"general","difficulty":5,"question":"Name the founder of Amazon.","answers":["Elon Musk","Jeff Bezos","Bill Gates","Larry Page"],"correctIndex":1},{"id":"general-048","category":"general","difficulty":5,"question":"In which year was the Euro introduced as an electronic currency (before physical notes)?","answers":["1997","1999","2000","2002"],"correctIndex":1},{"id":"general-049","category":"general","difficulty":5,"question":"What is the name of the trophy awarded to the winner of the UEFA Champions League?","answers":["The Henri Delaunay Trophy","The Big Ears Trophy","The Silver Ball","The Golden Cup"],"correctIndex":1},{"id":"general-050","category":"general","difficulty":5,"question":"The brand Zara originated in which country?","answers":["Italy","Spain","France","Portugal"],"correctIndex":1},{"id":"general-051","category":"general","difficulty":6,"question":"Identify the company that first surpassed a $2 trillion market valuation.","answers":["Microsoft","Apple","Saudi Aramco","Alphabet"],"correctIndex":1},{"id":"general-052","category":"general","difficulty":6,"question":"In what year did the United Kingdom formally trigger Article 50 to leave the EU?","answers":["2016","2017","2018","2019"],"correctIndex":1},{"id":"general-053","category":"general","difficulty":6,"question":"How many time zones does Russia officially span?","answers":["9","10","11","12"],"correctIndex":2},{"id":"general-054","category":"general","difficulty":6,"question":"Name the organisation that oversees global internet domain names and IP address allocation.","answers":["ICANN","ITU","ISO","IEEE"],"correctIndex":0},{"id":"general-055","category":"general","difficulty":6,"question":"The sovereign wealth fund known as the 'Government Pension Fund Global' belongs to which country?","answers":["UAE","Singapore","Norway","Qatar"],"correctIndex":2},{"id":"general-056","category":"general","difficulty":6,"question":"What is the official currency of the International Monetary Fund?","answers":["US Dollar","Special Drawing Rights","Euro","Swiss Franc"],"correctIndex":1},{"id":"general-057","category":"general","difficulty":6,"question":"In global finance, what does the acronym 'BRICS' refer to?","answers":["A trade agreement","A military alliance","A group of emerging economies","A banking regulation framework"],"correctIndex":2},{"id":"general-058","category":"general","difficulty":6,"question":"Identify the headquarters city of the European Central Bank.","answers":["Brussels","Frankfurt","Luxembourg","Paris"],"correctIndex":1},{"id":"general-059","category":"general","difficulty":6,"question":"How many countries are currently members of the European Union?","answers":["26","27","28","29"],"correctIndex":1},{"id":"general-060","category":"general","difficulty":6,"question":"The Fortune 500 list ranks companies based on what primary metric?","answers":["Market capitalisation","Profit margin","Annual revenue","Global brand value"],"correctIndex":2},{"id":"general-061","category":"general","difficulty":1,"question":"How many sides does a hexagon have?","answers":["5","7","8","6"],"correctIndex":3},{"id":"general-062","category":"general","difficulty":1,"question":"What is the capital city of France?","answers":["Lyon","Marseille","Bordeaux","Paris"],"correctIndex":3},{"id":"general-063","category":"general","difficulty":1,"question":"How many days are in a leap year?","answers":["365","364","367","366"],"correctIndex":3},{"id":"general-064","category":"general","difficulty":1,"question":"How many continents are there on Earth?","answers":["5","6","8","7"],"correctIndex":3},{"id":"general-065","category":"general","difficulty":1,"question":"What is the largest ocean on Earth?","answers":["Atlantic","Indian","Arctic","Pacific"],"correctIndex":3},{"id":"general-066","category":"general","difficulty":1,"question":"How many hours are in a day?","answers":["12","48","36","24"],"correctIndex":3},{"id":"general-067","category":"general","difficulty":2,"question":"In which country is the Great Barrier Reef located?","answers":["New Zealand","South Africa","Indonesia","Australia"],"correctIndex":3},{"id":"general-068","category":"general","difficulty":2,"question":"What is the longest river in the world?","answers":["Amazon","Yangtze","Mississippi","Nile"],"correctIndex":3},{"id":"general-069","category":"general","difficulty":2,"question":"How many strings does a standard guitar have?","answers":["4","5","7","6"],"correctIndex":3},{"id":"general-070","category":"general","difficulty":2,"question":"What currency is used in Japan?","answers":["Yuan","Won","Baht","Yen"],"correctIndex":3}]`),G4=JSON.parse(`[{"id":"history-002","category":"history","difficulty":2,"question":"Who was the first President of the United States?","answers":["Thomas Jefferson","George Washington","Abraham Lincoln","John Adams"],"correctIndex":1},{"id":"history-003","category":"history","difficulty":3,"question":"In which year did World War II end?","answers":["1943","1944","1945","1946"],"correctIndex":2},{"id":"history-004","category":"history","difficulty":4,"question":"Which empire built the Colosseum?","answers":["Greek Empire","Roman Empire","Ottoman Empire","British Empire"],"correctIndex":1},{"id":"history-005","category":"history","difficulty":5,"question":"Who was the British Prime Minister during most of World War II?","answers":["Neville Chamberlain","Winston Churchill","Margaret Thatcher","Tony Blair"],"correctIndex":1},{"id":"history-006","category":"history","difficulty":6,"question":"The Renaissance began in which European country?","answers":["France","Germany","Italy","Spain"],"correctIndex":2},{"id":"history-007","category":"history","difficulty":1,"question":"Who built the pyramids?","answers":["Romans","Greeks","Egyptians","Mayans"],"correctIndex":2},{"id":"history-008","category":"history","difficulty":2,"question":"Which wall divided Berlin during the Cold War?","answers":["Iron Wall","Berlin Wall","Cold Barrier","German Divide"],"correctIndex":1},{"id":"history-009","category":"history","difficulty":3,"question":"Who was known as the Maid of Orlans?","answers":["Cleopatra","Joan of Arc","Marie Antoinette","Queen Victoria"],"correctIndex":1},{"id":"history-010","category":"history","difficulty":4,"question":"Which year did the Titanic sink?","answers":["1905","1912","1918","1921"],"correctIndex":1},{"id":"history-011","category":"history","difficulty":5,"question":"Who was the first Roman Emperor?","answers":["Julius Caesar","Augustus","Nero","Tiberius"],"correctIndex":1},{"id":"history-012","category":"history","difficulty":6,"question":"The Battle of Hastings took place in which year?","answers":["1066","1215","1415","1666"],"correctIndex":0},{"id":"history-013","difficulty":1,"question":"Which English monarch reigned during the Spanish Armada in 1588?","answers":["Mary I","Elizabeth I","James I","Henry VIII"],"correctIndex":1},{"id":"history-014","difficulty":1,"question":"Which artist painted 'Guernica' in response to the bombing during the Spanish Civil War?","answers":["Salvador Dal","Pablo Picasso","Joan Mir","Francisco Goya"],"correctIndex":1},{"id":"history-015","difficulty":1,"question":"Which empire was ruled at its height by Suleiman the Magnificent?","answers":["Byzantine Empire","Ottoman Empire","Persian Empire","Mongol Empire"],"correctIndex":1},{"id":"history-016","difficulty":2,"question":"The Magna Carta was signed in which year?","answers":["1066","1215","1314","1453"],"correctIndex":1},{"id":"history-017","difficulty":2,"question":"Which composer wrote the opera 'The Marriage of Figaro'?","answers":["Beethoven","Mozart","Verdi","Wagner"],"correctIndex":1},{"id":"history-019","difficulty":3,"question":"Which pharaohs tomb was discovered largely intact in 1922 by Howard Carter?","answers":["Ramses II","Akhenaten","Tutankhamun","Seti I"],"correctIndex":2},{"id":"history-020","difficulty":3,"question":"Which playwright wrote 'The Importance of Being Earnest'?","answers":["George Bernard Shaw","Oscar Wilde","Henrik Ibsen","Nol Coward"],"correctIndex":1},{"id":"history-021","difficulty":3,"question":"Which battle in 1815 marked the final defeat of Napoleon Bonaparte?","answers":["Austerlitz","Trafalgar","Leipzig","Waterloo"],"correctIndex":3},{"id":"history-022","difficulty":4,"question":"Which artistic movement is Salvador Dal most closely associated with?","answers":["Impressionism","Cubism","Surrealism","Futurism"],"correctIndex":2},{"id":"history-023","difficulty":4,"question":"Which 14th-century pandemic is estimated to have killed up to one-third of Europe's population?","answers":["The Great Famine","The Black Death","The Antonine Plague","The Justinian Plague"],"correctIndex":1},{"id":"history-024","difficulty":4,"question":"Which architect designed St Pauls Cathedral in London?","answers":["Inigo Jones","Christopher Wren","John Nash","Nicholas Hawksmoor"],"correctIndex":1},{"id":"history-025","difficulty":5,"question":"Which 17th-century war was fought primarily between Royalists and Parliamentarians in England?","answers":["The War of the Roses","The English Civil War","The Nine Years' War","The Glorious Revolution"],"correctIndex":1},{"id":"history-026","difficulty":5,"question":"Which Dutch painter created 'The Night Watch'?","answers":["Vermeer","Rembrandt","Frans Hals","Rubens"],"correctIndex":1},{"id":"history-027","difficulty":5,"question":"Which document, issued in 1689, limited the powers of the English monarchy and established parliamentary sovereignty?","answers":["Magna Carta","Act of Settlement","English Bill of Rights","Petition of Right"],"correctIndex":2},{"id":"history-028","difficulty":6,"question":"Which Carthaginian general crossed the Alps with elephants during the Second Punic War?","answers":["Hamilcar Barca","Hannibal","Scipio Africanus","Mago Barca"],"correctIndex":1},{"id":"history-029","difficulty":6,"question":"Which artistic technique, meaning 'light-dark', was mastered by Caravaggio?","answers":["Sfumato","Chiaroscuro","Impasto","Pointillism"],"correctIndex":1},{"id":"history-030","difficulty":6,"question":"Which 1555 treaty established the principle of 'cuius regio, eius religio' within the Holy Roman Empire?","answers":["Peace of Westphalia","Treaty of Augsburg","Treaty of Tordesillas","Edict of Nantes"],"correctIndex":1},{"id":"history-031","difficulty":6,"question":"Which Russian ruler abolished serfdom in 1861?","answers":["Peter the Great","Catherine the Great","Alexander II","Nicholas I"],"correctIndex":2},{"id":"history-032","difficulty":2,"question":"Which American president delivered the Gettysburg Address in 1863?","answers":["Ulysses S. Grant","Abraham Lincoln","Andrew Johnson","Theodore Roosevelt"],"correctIndex":1},{"id":"history-033","difficulty":3,"question":"Which composer wrote the ballet 'The Rite of Spring'?","answers":["Tchaikovsky","Stravinsky","Debussy","Ravel"],"correctIndex":1},{"id":"history-034","difficulty":4,"question":"Which dynasty ruled China when the Great Wall was largely rebuilt in its current form?","answers":["Tang","Ming","Qing","Song"],"correctIndex":1},{"id":"history-035","difficulty":4,"question":"Which art movement was founded by Filippo Tommaso Marinetti in 1909?","answers":["Dadaism","Futurism","Expressionism","Constructivism"],"correctIndex":1},{"id":"history-036","difficulty":5,"question":"Which 18th-century conflict is also known as the French and Indian War in North America?","answers":["War of Austrian Succession","Seven Years' War","War of Spanish Succession","American Revolutionary War"],"correctIndex":1},{"id":"history-037","difficulty":5,"question":"Which painter is known for the frescoes of the Scrovegni Chapel in Padua?","answers":["Giotto","Masaccio","Botticelli","Titian"],"correctIndex":0},{"id":"history-038","difficulty":6,"question":"Which battle in 480 BCE saw a small Greek force led by King Leonidas resist the Persian army?","answers":["Marathon","Plataea","Salamis","Thermopylae"],"correctIndex":3},{"id":"history-039","difficulty":6,"question":"Which philosopher wrote 'The Social Contract' in 1762?","answers":["Voltaire","John Locke","Jean-Jacques Rousseau","Montesquieu"],"correctIndex":2},{"id":"history-041","difficulty":4,"question":"Which cathedral is famous for housing the Shrine of Thomas Becket?","answers":["York Minster","Canterbury Cathedral","Durham Cathedral","Winchester Cathedral"],"correctIndex":1},{"id":"history-042","difficulty":5,"question":"Which 19th-century artistic movement sought to capture light and everyday scenes with visible brushstrokes?","answers":["Romanticism","Impressionism","Realism","Symbolism"],"correctIndex":1},{"id":"history-043","difficulty":6,"question":"Which treaty in 1648 ended the Thirty Years' War?","answers":["Treaty of Utrecht","Peace of Westphalia","Treaty of Nijmegen","Treaty of Vienna"],"correctIndex":1},{"id":"history-044","difficulty":4,"question":"Which ancient wonder was located in Alexandria?","answers":["Colossus of Rhodes","Temple of Artemis","Lighthouse of Alexandria","Hanging Gardens"],"correctIndex":2},{"id":"history-045","difficulty":5,"question":"Which emperor converted to Christianity after reportedly seeing a vision before the Battle of the Milvian Bridge?","answers":["Augustus","Constantine","Justinian","Diocletian"],"correctIndex":1},{"id":"history-046","difficulty":6,"question":"Which medieval Islamic scholar wrote 'The Muqaddimah', considered an early work of sociology?","answers":["Al-Farabi","Ibn Sina","Ibn Khaldun","Al-Ghazali"],"correctIndex":2},{"id":"history-047","difficulty":3,"question":"Which artist painted the ceiling of the Sistine Chapel?","answers":["Leonardo da Vinci","Michelangelo","Raphael","Caravaggio"],"correctIndex":1},{"id":"history-048","difficulty":5,"question":"Which English queen reigned for just nine days in 1553?","answers":["Mary I","Lady Jane Grey","Elizabeth I","Anne Boleyn"],"correctIndex":1},{"id":"history-049","difficulty":6,"question":"Which war was sparked by the defenestration of Prague in 1618?","answers":["Thirty Years' War","War of the Spanish Succession","Seven Years' War","Crimean War"],"correctIndex":0},{"id":"history-051","difficulty":6,"question":"Which Byzantine emperor ordered the codification of Roman law known as the Corpus Juris Civilis?","answers":["Constantine","Theodosius","Justinian I","Heraclius"],"correctIndex":2},{"id":"history-052","difficulty":3,"question":"Which revolution began in France in 1789?","answers":["July Revolution","French Revolution","Glorious Revolution","February Revolution"],"correctIndex":1},{"id":"history-053","difficulty":5,"question":"Which art style is characterised by dramatic use of light and emotional intensity, flourishing in 17th-century Europe?","answers":["Rococo","Baroque","Neoclassicism","Mannerism"],"correctIndex":1},{"id":"history-054","difficulty":6,"question":"Which 19th-century political thinker authored 'Das Kapital'?","answers":["Friedrich Engels","Karl Marx","Max Weber","Vladimir Lenin"],"correctIndex":1},{"id":"history-055","difficulty":4,"question":"Which battle in 1066 took place shortly before the Battle of Hastings and saw Harold II defeat Harald Hardrada?","answers":["Stamford Bridge","Towton","Bosworth Field","Edgehill"],"correctIndex":0},{"id":"history-056","difficulty":5,"question":"Which Italian city-state was ruled by the Medici family during the Renaissance?","answers":["Venice","Milan","Florence","Genoa"],"correctIndex":2},{"id":"history-057","difficulty":6,"question":"Which Japanese period began in 1603 under Tokugawa Ieyasu?","answers":["Meiji","Edo","Heian","Kamakura"],"correctIndex":1},{"id":"history-058","difficulty":3,"question":"Which American document begins with the words 'We the People'?","answers":["Declaration of Independence","Bill of Rights","US Constitution","Articles of Confederation"],"correctIndex":2},{"id":"history-059","difficulty":5,"question":"Which English Romantic poet wrote 'Ozymandias'?","answers":["William Wordsworth","John Keats","Lord Byron","Percy Bysshe Shelley"],"correctIndex":3},{"id":"history-060","difficulty":6,"question":"Which council in 325 CE sought to establish consensus in early Christian doctrine?","answers":["Council of Trent","Council of Chalcedon","First Council of Nicaea","Council of Constance"],"correctIndex":2},{"id":"history-061","difficulty":4,"question":"Which English monarch defeated Richard III at the Battle of Bosworth Field?","answers":["Henry VII","Henry VIII","Edward IV","James II"],"correctIndex":0},{"id":"history-062","difficulty":6,"question":"Which 20th-century art movement was founded at the Cabaret Voltaire in Zurich in 1916?","answers":["Futurism","Dada","Surrealism","Constructivism"],"correctIndex":1},{"id":"history-064","category":"history","difficulty":1,"question":"Which city did the Titanic depart from on its maiden voyage?","answers":["Liverpool","Bristol","London","Southampton"],"correctIndex":3},{"id":"history-065","category":"history","difficulty":1,"question":"Who is credited with inventing the telephone?","answers":["Thomas Edison","Nikola Tesla","Guglielmo Marconi","Alexander Graham Bell"],"correctIndex":3},{"id":"history-066","category":"history","difficulty":1,"question":"In which year did the First World War begin?","answers":["1912","1916","1918","1914"],"correctIndex":3},{"id":"history-067","category":"history","difficulty":1,"question":"What was the name of the ship Charles Darwin sailed on during his famous voyage?","answers":["HMS Victory","The Endeavour","The Mary Rose","The Beagle"],"correctIndex":3},{"id":"history-068","category":"history","difficulty":1,"question":"Which ancient wonder of the world is located in Egypt?","answers":["Colossus of Rhodes","Hanging Gardens","Temple of Artemis","Great Pyramid of Giza"],"correctIndex":3},{"id":"history-069","category":"history","difficulty":2,"question":"Julius Caesar rose to prominence in which ancient civilisation?","answers":["Greek","Ottoman","Persian","Roman"],"correctIndex":3},{"id":"history-070","category":"history","difficulty":2,"question":"What was the name of the first artificial satellite launched into space?","answers":["Apollo","Vostok","Explorer","Sputnik"],"correctIndex":3},{"id":"history-071","category":"history","difficulty":2,"question":"Who led the Cuban Revolution?","answers":["Che Guevara","Raul Castro","Fulgencio Batista","Fidel Castro"],"correctIndex":3},{"id":"history-072","category":"history","difficulty":2,"question":"Which country was the first to grant women the right to vote?","answers":["Australia","United Kingdom","United States","New Zealand"],"correctIndex":3},{"id":"history-073","category":"history","difficulty":2,"question":"In which year did the Russian Revolution take place?","answers":["1905","1921","1924","1917"],"correctIndex":3}]`);function W4(){const t=Dt(),e=ln();return A.useEffect(()=>{const s=[...U4.map(r=>({...r,category:"film"})),...q4.map(r=>({...r,category:"science"})),...H4.map(r=>({...r,category:"general"})),...G4.map(r=>({...r,category:"history"}))];e({type:"SET_QUESTIONS",questions:s})},[e]),A.useEffect(()=>(t.showQuestionModal||t.showEditor||t.showWinModal||t.showCultureModal||t.showNotModal||t.showWelcome?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t.showQuestionModal,t.showEditor,t.showWinModal,t.showCultureModal,t.showNotModal,t.showWelcome]),b.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-start gap-1 p-2.5 lg:flex-row lg:items-start lg:justify-center lg:gap-10",children:[b.jsx(Dk,{}),b.jsx(k4,{}),b.jsx(I4,{}),t.showQuestionModal&&t.activeQuestion&&b.jsx(L4,{}),t.showWinModal&&b.jsx(B4,{}),t.showEditor&&b.jsx(j4,{}),t.showCultureModal&&b.jsx(z4,{}),t.showNotModal&&b.jsx(P4,{}),t.showWelcome&&b.jsx(V4,{})]})}function F4(){return b.jsx(rA,{children:b.jsx(nA,{children:b.jsx(iA,{children:b.jsx(MI,{children:b.jsx(W4,{})})})})})}XE.createRoot(document.getElementById("root")).render(b.jsx(A.StrictMode,{children:b.jsx(F4,{})}));
